{"version":3,"sources":["../../../packages/rw-adapter/build/index.js","../../../packages/core/build/services/dataset.js","../../../packages/core/build/services/widget.js","../../../packages/core/build/helpers/capitalize.js","../../../packages/core/build/helpers/filters.js","../../../packages/core/build/services/data.js","../../../packages/core/build/services/vega.js","../../../packages/core/build/charts/pie.js","../../../packages/core/build/charts/bars.js","../../../packages/core/build/charts/line.js","../../../packages/core/build/charts/scatter.js","../../../packages/core/build/charts/constants.js","../../../packages/core/build/services/state-proxy.js","../../../packages/core/build/index.js","../../../packages/rw-adapter/build/helpers/config.js","../../../packages/widget-editor/lib/helpers/redux.js","../../../packages/widget-editor/lib/modules/editor/actions.js","../../../packages/widget-editor/lib/modules/theme/actions.js","../../../packages/widget-editor/lib/components/chart/component.js","../../../packages/widget-editor/lib/components/chart/index.js","../../../packages/widget-editor/lib/modules/configuration/actions.js","../../../packages/widget-editor/lib/modules/widget/selectors.js","../../../packages/widget-editor/lib/styles-common/flex.js","../../../packages/widget-editor/lib/components/icons/CategoryIcon/index.js","../../../packages/widget-editor/lib/components/select/components/Popup/style.js","../../../packages/widget-editor/lib/components/select/components/Popup/index.js","../../../packages/widget-editor/lib/components/select/components/Popup/component.js","../../../packages/widget-editor/lib/components/select/components/CustomOption/style.js","../../../packages/widget-editor/lib/components/select/components/CustomOption/index.js","../../../packages/widget-editor/lib/components/select/components/CustomOption/component.js","../../../packages/widget-editor/lib/components/select/style.js","../../../packages/widget-editor/lib/components/select/component.js","../../../packages/widget-editor/lib/components/select/index.js","../../../packages/widget-editor/lib/components/query-values/component.js","../../../packages/widget-editor/lib/components/query-values/index.js","../../../packages/widget-editor/lib/components/button/component.js","../../../packages/widget-editor/lib/components/button/index.js","../../../packages/widget-editor/lib/components/select-chart/style.js","../../../packages/widget-editor/lib/components/select-chart/component.js","../../../packages/widget-editor/lib/components/select-chart/index.js","../../../packages/widget-editor/lib/style-constants.js","../../../packages/widget-editor/lib/components/renderer/style.js","../../../packages/widget-editor/lib/components/renderer/component.js","../../../packages/widget-editor/lib/components/renderer/index.js","../../../packages/widget-editor/lib/components/accordion/style.js","../../../packages/widget-editor/lib/components/accordion/component.js","../../../packages/widget-editor/lib/components/tabs/style.js","../../../packages/widget-editor/lib/components/tabs/component.js","../../../packages/widget-editor/lib/components/slider/component.js","../../../packages/widget-editor/lib/components/slider/index.js","../../../packages/widget-editor/lib/styles-common/form-label.js","../../../packages/widget-editor/lib/styles-common/input-group.js","../../../packages/widget-editor/lib/styles-common/input.js","../../../packages/widget-editor/lib/components/widget-info/component.js","../../../packages/widget-editor/lib/components/widget-info/index.js","../../../packages/widget-editor/lib/components/order-values/component.js","../../../packages/widget-editor/lib/components/order-values/index.js","../../../packages/widget-editor/lib/components/table-view/style.js","../../../packages/widget-editor/lib/components/table-view/component.js","../../../packages/widget-editor/lib/components/table-view/index.js","../../../packages/widget-editor/lib/components/json-editor/style.js","../../../packages/widget-editor/lib/components/json-editor/index.js","../../../packages/widget-editor/lib/components/json-editor/component.js","../../../packages/widget-editor/lib/modules/filters/actions.js","../../../packages/widget-editor/lib/components/filter/const.js","../../../packages/widget-editor/lib/components/filter/components/NotNullInput/style.js","../../../packages/widget-editor/lib/components/filter/components/NotNullInput/index.js","../../../packages/widget-editor/lib/components/filter/components/NotNullInput/component.js","../../../packages/widget-editor/lib/helpers/isFloat.js","../../../packages/widget-editor/lib/components/query-limit/component.js","../../../packages/widget-editor/lib/components/query-limit/index.js","../../../packages/widget-editor/lib/components/filter/components/FilterRange/component.js","../../../packages/widget-editor/lib/components/filter/components/FilterRange/index.js","../../../packages/widget-editor/lib/components/filter/components/FilterValue/component.js","../../../packages/widget-editor/lib/components/filter/components/FilterValue/index.js","../../../packages/widget-editor/lib/components/filter/components/FilterColumn/index.js","../../../packages/widget-editor/lib/components/filter/components/FilterColumn/component.js","../../../packages/widget-editor/lib/components/filter/components/FilterStrings/index.js","../../../packages/widget-editor/lib/components/filter/components/FilterStrings/component.js","../../../packages/widget-editor/lib/components/filter/components/FilterIndicator/index.js","../../../packages/widget-editor/lib/components/filter/components/FilterIndicator/component.js","../../../packages/widget-editor/lib/components/filter/components/AddSection/style.js","../../../packages/widget-editor/lib/components/filter/components/AddSection/index.js","../../../packages/widget-editor/lib/components/filter/components/AddSection/component.js","../../../packages/widget-editor/lib/components/filter/style.js","../../../packages/widget-editor/lib/components/filter/component.js","../../../packages/widget-editor/lib/components/filter/index.js","../../../packages/widget-editor/lib/components/editor-options/component.js","../../../packages/widget-editor/lib/components/editor-options/index.js","../../../packages/widget-editor/lib/components/icons/CloseIcon/index.js","../../../packages/widget-editor/lib/components/modal/style.js","../../../packages/widget-editor/lib/components/modal/component.js","../../../packages/widget-editor/lib/components/footer/component.js","../../../packages/widget-editor/lib/components/footer/index.js","../../../packages/widget-editor/lib/components/editor/style.js","../../../packages/widget-editor/lib/components/editor/component.js","../../../packages/widget-editor/lib/modules/configuration/reducers.js","../../../packages/widget-editor/lib/components/editor/index.js","../../../packages/widget-editor/lib/components/widget-editor/index.js","../../../packages/widget-editor/lib/components/widget-editor/component.js","../../../packages/widget-editor/lib/modules/editor/reducers.js","../../../packages/widget-editor/lib/modules/editor/initial-state.js","../../../packages/widget-editor/lib/modules/theme/reducers.js","../../../packages/widget-editor/lib/modules/theme/initial-state.js","../../../packages/widget-editor/lib/modules/widget/actions.js","../../../packages/widget-editor/lib/modules/widget/reducers.js","../../../packages/widget-editor/lib/modules/widget/initial-state.js","../../../packages/widget-editor/lib/modules/configuration/initial-state.js","../../../packages/widget-editor/lib/modules/filters/reducers.js","../../../packages/widget-editor/lib/modules/filters/initial-state.js","../../../packages/widget-editor/lib/modules/index.js","../../../packages/widget-editor/lib/middleware/index.js","../../../packages/widget-editor/lib/sagas/editor/index.js","../../../packages/widget-editor/lib/sagas/widget/index.js","../../../packages/widget-editor/lib/sagas/index.js","../../../packages/widget-editor/lib/index.js","modules/editor-options/actions.js","modules/editor-options/reducers.js","modules/editor-options/initial-state.js","store/index.js","components/editor/component.js","components/editor/index.js","components/editor-options/component.js","components/editor-options/index.js","components/toggle-options/component.js","components/toggle-options/index.js","App.js","serviceWorker.js","index.js","../../../packages/core/build/helpers/wiget-helper/constants.js","../../../packages/core/build/services/filters.js","../../../packages/core/build/services/fields.js","../../../packages/core/build/constants.js"],"names":["_regeneratorRuntime","_classCallCheck","_createClass","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","core_1","config_1","RwAdapter","endpoint","config","datasetService","widgetService","datasetId","AUTH_TOKEN","applications","env","locale","widget_params","asConfig","default","DatasetService","WidgetService","key","mark","_callee","url","response","wrap","_context","prev","concat","fetch","method","headers","Authorization","sent","json","abrupt","t0","console","error","stop","_callee2","_this$config$getConfi","_ref","dataset","_context2","getConfig","join","fetchData","data","_callee3","_ref2","fields","_context3","_callee4","_this$config$getConfi2","widgetId","_ref3","widget","_context4","fromDataset","id","fetchWidget","_callee5","sql","_ref4","_context5","getDataSqlQuery","fetchWidgetData","_callee6","_this$config$getConfi3","_ref5","_context6","filters","Array","isArray","length","out","forEach","filter","index","type","Date","getFullYear","push","FiltersService","baseFilter","name","log","status","Error","statusText","lodash_1","find","attributes","defaultEditableWidget","s","charAt","toUpperCase","slice","TYPE_FILTER_ON_VALUES","TYPE_TEXT_CONTAINS","TYPE_TEXT_NOT_CONTAINS","TYPE_TEXT_STARTS_WITH","TYPE_TEXT_ENDS_WITH","DEFAULT_STRING_FILTER","values","notNull","DEFAULT_RANGE_FILTER","max","min","DEFAULT_VALUE_FILTER","asyncForEach","array","callback","patchColumn","payload","fieldService","fieldInfo","setFilterOnColumn","getFieldInfo","dataType","assign","column","indicator","resolveStringLikeValue","val","isList","arguments","undefined","map","v","label","resolveNumberLikeValue","range","patchIndicator","appliedValue","setFilterOnIndicator","patchRange","patchValue","patchNullCheck","patch","_defineProperty","filters_1","constants_1","DataService","adapter","setEditor","dispatch","widgetData","setDatasetId","getDataset","getWidget","translateFilters","sagaEvents","DATA_FLOW_DATASET_WIDGET_READY","restoring","getDatasetAndWidgets","getFieldsAndLayers","getWidgetData","widgetConfig","paramsConfig","reduxActions","EDITOR_SET_FILTERS","list","handleFilters","filtersService","requestWidgetData","errors","DATA_FLOW_WIDGET_DATA_READY","field","fieldTypeAllowed","ALLOWED_FIELD_TYPES","toLowerCase","columnName","layers","columns","allowedFields","_this","getFields","getLayers","metadata","keys","f","isFieldAllowed","DATA_FLOW_DATA_READY","configuration","widgetParams","param","warn","title","description","params","scales","axes","marks","interaction_config","initialized","pie_1","bars_1","line_1","scatter_1","constants_2","VegaService","schema","defaultVegaSchema","setConfig","resolveChart","chart","chartType","SUPPORTED_CHARTS","indexOf","getChart","Pie","generateSchema","setGenericSettings","setScales","setMarks","bindData","interactionConfig","width","height","property","format","domain","sqlFields","scheme","from","encode","enter","tooltip","signal","fill","scale","x","y","update","startAngle","endAngle","innerRadius","outerRadius","hover","opacity","transform","category","Bars","setAxes","autosize","contains","padding","nice","zero","band","y2","axis","axisX","orient","labelOverlap","ticks","labels","text","align","baseline","angle","axisY","as","Line","signals","on","events","interactive","strokeCap","strokeWidth","strokeJoin","size","path","source","expr","Scatter","isEqual_1","StateProxy","cache","limit","orderBy","state","hasUpdate","checkHasUpdate","cacheCurrent","hasUpdates","dataset_1","widget_1","data_1","vega_1","fields_1","FieldsService","state_proxy_1","constants","ConfigHelper","acceptedParams","pick","stateHandler","dispatchHandler","APP_NAMESPACE","action","setTheme","StyledContainer","div","withConfig","displayName","componentId","view","tooltipConfig","c","getTooltipConfigFields","showAllFields","formatType","editor","vegaContainer","memoryStoreWidget","current","runtime","offsetWidth","initialize","renderer","run","resize","window","addEventListener","createElement","className","ref","setConfiguration","saveConfiguration","patchConfiguration","getWidgetSelectedColumn","identifier","getWidgetColumns","widgetRelevantProps","prop","props","row","viewBox","version","stroke","fillRule","d","StyledPopupContainer","StyledCategoryAlias","h4","StyledCategoryDescription","StyledValueAlias","IconBox","valueAlias","alias","categoryAlias","StyledSelectOptionTitle","StyledSelectOptionDescription","StyledSelectOption","isDisabled","innerProps","StyledSelectBox","InputStyles","control","display","border","borderRadius","CustomStyles","container","position","boxSizing","cursor","indicatorSeparator","dropdownIndicator","provided","color","selectProps","menuIsOpen","transition","indicatorsContainer","top","_extends","target","i","prototype","hasOwnProperty","call","isCustom","isPopup","otherProps","_useState","_useState2","isPopupOpen","setPopup","_useState3","_useState4","isOpen","setOpen","onMouseEnter","onMouseLeave","onMenuOpen","onMenuClose","styles","components","Option","theme","menuPlacement","defaultValue","onChange","selectedOption","getOptionLabel","option","getOptionValue","options","StyledButton","button","active","_ref$type","children","isCompact","base","selected","setSelected","_theme$compact","compact","onClick","availableCharts","DEFAULT_BORDER","right","bottom","left","RestoringWidget","RestoringWidgetTitle","StyledAccordion","StyledAccordionContent","scrollHeight","StyledAccordionButton","a","StyledAccordionSection","openDefault","contentRef","outerHeight","setOuterHeight","clickToTitle","panel","setTimeout","handleHeight","skipOnMount","onResize","StyledTabsContainer","StyledTabsContent","StyledList","ul","StyledListLabel","li","style","setActive","defaultNum","findIndex","child","num","tabContent","Tab","StyledSlider","ReactSlider","StyledThumb","slider","track","StyledTrack","trackBackground","_ref$min","_ref$max","_ref$step","_ref$onChange","_ref$onDone","onDone","onAfterChange","renderTrack","renderThumb","noMargins","input","_React$Component","WidgetInfo","obj","_this$props","_this$state","caption","yAxis","xAxis","enumerable","configurable","writable","stateFromProps","prevProps","prevConfiguration","setState","handleUpdate","_this2","_this$state2","htmlFor","placeholder","setTitle","setCaption","setXAxis","setYaxis","Component","ORDER_OPTIONS","orderType","order","setOrder","StyledTableBox","StyledTable","table","StyledTr","tr","StyledTd","td","center","StyledTh","el","StyledField","EditorColors","number","string","background","background_warning","EditorStyles","labelColumn","body","fontSize","outerBox","warningBox","contentBox","colors","setFilters","NUMBER_TYPES","STRING_TYPES","COLUMN_FILTER_GROUP","FILTER_NUMBER_INDICATOR_TYPES","FILTER_STRING_INDICATOR_TYPES","StyledCheckbox","_ref$name","_ref$label","setData","checked","for","isFloat","n","Number","StyledSliderBox","StyledInputBox","isDouble","_ref$minDistance","minDistance","_onChange","_ref$handleOnChangeVa","handleOnChangeValue","isFloatingPoint","minValue","maxValue","minMaxProps","_ref$disabled","disabled","_values","onSetData","newValues","StyledInput","_ref$isNumeric","isNumeric","_ref$setData","_ref$optionData","optionData","isMulti","o","StyledAddSection","addFilter","StyledFilterBox","StyledEmpty","StyledFilterSection","StyledFilter","StyledDeleteBox","_ref$filters","_ref$fields","availableColumns","replace","patchFilters","_x","_x2","_x3","newFilters","removeFilter","Icon","svg","hoverColor","StyledModalBox","StyledModalContainer","StyledModalContent","StyledModalCloseBtn","StyledActions","closeModal","StyledFooter","footer","authenticated","onSave","modalOpen","setModalOpen","_actions$setConfigura","Editor","dataService","restoreEditor","_datasetId","_setEditor","_theme","bind","resolveInitialState","resolveTheme","resolveAuthentication","prevDatasetId","prevTheme","prevAuthenticated","_this$props2","initializeRestoration","_this$props3","resolveUpdates","EDITOR_SAVE","_this$props4","WidgetEditor","_this$props$compact","setWidget","visualizationType","modules","_marked","preloadData","_marked2","baseSaga","_ref$widgetEditor$edi","widgetEditor","resolveWithProxy","_marked3","updateWidget","_marked4","stateProxy","_ref$widgetEditor","vega","_ref2$widgetEditor","proxyResult","DATA_FLOW_PROXY_UPDATE","_ref3$widgetEditor","DATA_FLOW_VISUALISATION_READY","root","modifyOptions","createAction","actions","authToken","optionsOpen","compactMode","initStore","initialState","appReducers","combineReducers","editorOptions","handleModule","reducers","middlewares","applyMiddleware","thunk","WEmiddleware","enhancers","composeWithDevTools","store","createStore","sagas","diff","handleOnSave","React","connect","EditorComponent","EditorOptions","clx","EditorOptionsComponent","ToggleOptions","optionsActive","ToggleOptionsComponent","App","configureStore","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","$schema","legend","dotSize","category20","ordinal","ramp","labelFontSize","labelFont","labelColor","labelPadding","tickSize","tickColor","tickOpacity","tickExtra","bandPosition","domainWidth","domainColor","labelAlign","labelBaseline","grid","gridColor","gridOpacity","line","interpolate","fillOpacity","prepareSelectStatement","prepareAggregate","prepareFilters","prepareGroupBy","prepareOrderBy","prepareOrder","prepareLimit","_this$configuration","xTableName","tableName","yTableName","_this$configuration2","aggregateFunction","aggregation","resolveTableName","condition","serializeValue","statement","filtersQuery","rangeCondition","_this$configuration3","groupBy","_this$configuration$l","capitalize_1","NUMERIC_TYPE","COLUMN_TYPE","q","jsonData","query","uniq","uniqQueryPart","selectedField","res","_res","getColumnMinAndMax","getColumnValues","r","provider","EDITOR_SET_CONFIGURATION","EDITOR_SET_WIDGET"],"mappings":"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","file":"static/js/main.0f1eec21.chunk.js","sourcesContent":["\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@packages/core\");\n\nvar config_1 = __importDefault(require(\"./helpers/config\"));\n\nvar RwAdapter =\n/*#__PURE__*/\nfunction () {\n  function RwAdapter() {\n    _classCallCheck(this, RwAdapter);\n\n    this.endpoint = \"https://api.resourcewatch.org/v1\";\n    this.config = null;\n    this.datasetService = null;\n    this.widgetService = null;\n    this.datasetId = null;\n    this.AUTH_TOKEN = null;\n    this.applications = [\"rw\"];\n    this.env = \"production\";\n    this.locale = \"en\";\n    this.widget_params = [\"chartType\", \"visualizationType\", \"limit\", \"value\", \"category\", \"color\", \"size\", \"orderBy\", \"aggregateFunction\", \"filters\", \"areaIntersection\", \"band\", \"layer\"];\n    var asConfig = {\n      applications: this.applications,\n      env: this.env,\n      locale: this.locale\n    };\n    this.config = config_1.default(asConfig);\n    this.datasetService = new core_1.DatasetService(this.config);\n    this.widgetService = new core_1.WidgetService(this.config);\n  }\n\n  _createClass(RwAdapter, [{\n    key: \"payload\",\n    value: function payload() {\n      return {\n        applications: this.applications,\n        env: this.env\n      };\n    }\n  }, {\n    key: \"saveWidgetRW\",\n    value: function saveWidgetRW() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var url, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = \"\".concat(this.endpoint, \"/dataset/\").concat(this.datasetId, \"/widget\");\n\n                if (!this.AUTH_TOKEN) {\n                  _context.next = 16;\n                  break;\n                }\n\n                _context.prev = 2;\n                _context.next = 5;\n                return fetch(url, {\n                  method: \"POST\",\n                  headers: {\n                    Authorization: \"Bearer \".concat(this.AUTH_TOKEN)\n                  }\n                });\n\n              case 5:\n                response = _context.sent;\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(\"Cant save widget\", _context.t0);\n\n              case 14:\n                _context.next = 17;\n                break;\n\n              case 16:\n                console.error(\"Missing auth token for saveWidget (RW)\");\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 11]]);\n      }));\n    }\n  }, {\n    key: \"hasAuthToken\",\n    value: function hasAuthToken() {\n      return !!this.AUTH_TOKEN;\n    }\n  }, {\n    key: \"setDatasetId\",\n    value: function setDatasetId(datasetId) {\n      if (!datasetId) {\n        console.error(\"Error: datasetId is required\");\n      }\n\n      this.datasetId = datasetId;\n    }\n  }, {\n    key: \"getDataset\",\n    value: function getDataset() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this$config$getConfi, applications, env, locale, includes, url, _ref, dataset;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$config$getConfi = this.config.getConfig(), applications = _this$config$getConfi.applications, env = _this$config$getConfi.env, locale = _this$config$getConfi.locale;\n                includes = \"metadata,vocabulary,widget,layer\";\n                url = \"\".concat(this.endpoint, \"/dataset/\").concat(this.datasetId, \"?\").concat(applications.join(\",\"), \"&env=\").concat(env, \"&language=\").concat(locale, \"&includes=\").concat(includes, \"&page[size]=999\");\n                _context2.next = 5;\n                return this.datasetService.fetchData(url);\n\n              case 5:\n                _ref = _context2.sent;\n                dataset = _ref.data;\n                return _context2.abrupt(\"return\", dataset);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"getFields\",\n    value: function getFields() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var url, _ref2, fields;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = \"\".concat(this.endpoint, \"/fields/\").concat(this.datasetId);\n                _context3.next = 3;\n                return this.datasetService.fetchData(url);\n\n              case 3:\n                _ref2 = _context3.sent;\n                fields = _ref2.fields;\n                return _context3.abrupt(\"return\", fields);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"getWidget\",\n    value: function getWidget(dataset) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var _this$config$getConfi2, applications, env, locale, includes, widgetId, url, _ref3, widget;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this$config$getConfi2 = this.config.getConfig(), applications = _this$config$getConfi2.applications, env = _this$config$getConfi2.env, locale = _this$config$getConfi2.locale;\n                includes = \"metadata\";\n                widgetId = this.widgetService.fromDataset(dataset).id;\n                url = \"\".concat(this.endpoint, \"/widget/\").concat(widgetId, \"?\").concat(applications.join(\",\"), \"&env=\").concat(env, \"&language=\").concat(locale, \"&includes=\").concat(includes, \"&page[size]=999\");\n                _context4.next = 6;\n                return this.widgetService.fetchWidget(url);\n\n              case 6:\n                _ref3 = _context4.sent;\n                widget = _ref3.data;\n                return _context4.abrupt(\"return\", widget);\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"getWidgetData\",\n    value: function getWidgetData(dataset, widget) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var sql, url, _ref4, data;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                sql = this.widgetService.getDataSqlQuery(dataset, widget);\n                url = \"\".concat(this.endpoint, \"/query/\").concat(this.datasetId, \"?sql=\").concat(sql);\n                _context5.next = 4;\n                return this.widgetService.fetchWidgetData(url);\n\n              case 4:\n                _ref4 = _context5.sent;\n                data = _ref4.data;\n                return _context5.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }, {\n    key: \"getLayers\",\n    value: function getLayers() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var _this$config$getConfi3, applications, env, locale, url, _ref5, data;\n\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _this$config$getConfi3 = this.config.getConfig(), applications = _this$config$getConfi3.applications, env = _this$config$getConfi3.env, locale = _this$config$getConfi3.locale;\n                url = \"\".concat(this.endpoint, \"/dataset/\").concat(this.datasetId, \"/layer?app=\").concat(applications.join(\",\"), \"&env=\").concat(env, \"&page[size]=9999\");\n                _context6.next = 4;\n                return this.datasetService.fetchData(url);\n\n              case 4:\n                _ref5 = _context6.sent;\n                data = _ref5.data;\n                return _context6.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    }\n  }, {\n    key: \"handleFilters\",\n    value: function handleFilters(filters) {\n      if (!filters || !Array.isArray(filters) || filters.length === 0) {\n        return [];\n      }\n\n      var out = [];\n      filters.forEach(function (filter, index) {\n        if (filter.type === \"date\") {\n          var value;\n\n          if (Array.isArray(filter.value)) {\n            if (filter.value.length === 2) {\n              value = [new Date(filter.value[0]).getFullYear(), new Date(filter.value[1]).getFullYear()];\n            } else {\n              value = [new Date(filter.value[0]).getFullYear()];\n            }\n          } else {\n            value = new Date(filter.value).getFullYear();\n          }\n\n          out.push(core_1.FiltersService.baseFilter(value, filter.name, filter.type, index));\n        }\n\n        if (filter.type === \"number\") {\n          out.push(core_1.FiltersService.baseFilter(filter.value, filter.name, filter.type, index));\n        }\n      });\n      console.log(\"Filters we got\", filters);\n      return out;\n    }\n  }]);\n\n  return RwAdapter;\n}();\n\nexports.default = RwAdapter;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar DatasetService =\n/*#__PURE__*/\nfunction () {\n  function DatasetService(config) {\n    _classCallCheck(this, DatasetService);\n\n    this.config = config;\n  }\n\n  _createClass(DatasetService, [{\n    key: \"fetchData\",\n    value: function fetchData(url) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(url);\n\n              case 3:\n                response = _context.sent;\n\n                if (!(response.status >= 400)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw new Error(response.statusText);\n\n              case 6:\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                throw new Error(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 11]]);\n      }));\n    }\n  }]);\n\n  return DatasetService;\n}();\n\nexports.default = DatasetService;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar lodash_1 = require(\"lodash\");\n\nvar WidgetService =\n/*#__PURE__*/\nfunction () {\n  function WidgetService(config) {\n    _classCallCheck(this, WidgetService);\n\n    this.config = config;\n  }\n\n  _createClass(WidgetService, [{\n    key: \"fromDataset\",\n    value: function fromDataset(dataset) {\n      return lodash_1.find(dataset.attributes.widget, function (widget) {\n        return !!widget.attributes.defaultEditableWidget;\n      });\n    }\n  }, {\n    key: \"getDataSqlQuery\",\n    value: function getDataSqlQuery(dataset, widget) {\n      return '';\n    }\n  }, {\n    key: \"fetchWidgetData\",\n    value: function fetchWidgetData(url) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", null);\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }\n  }, {\n    key: \"fetchWidget\",\n    value: function fetchWidget(url) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return fetch(url);\n\n              case 3:\n                response = _context2.sent;\n\n                if (!(response.status >= 400)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                throw new Error(response.statusText);\n\n              case 6:\n                _context2.next = 8;\n                return response.json();\n\n              case 8:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](0);\n                throw new Error(_context2.t0);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 11]]);\n      }));\n    }\n  }]);\n\n  return WidgetService;\n}();\n\nexports.default = WidgetService;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (s) {\n  if (typeof s !== \"string\") return \"\";\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar TYPE_COLUMNS = \"columns\";\nvar TYPE_INDICATOR = \"indicator\";\nvar TYPE_VALUE = \"value\";\nvar TYPE_RANGE = \"range\";\nvar TYPE_STRING = \"string\";\nexports.TYPE_FILTER_ON_VALUES = \"FILTER_ON_VALUES\";\nexports.TYPE_TEXT_CONTAINS = \"TEXT_CONTAINS\";\nexports.TYPE_TEXT_NOT_CONTAINS = \"TEXT_NOT_CONTAINS\";\nexports.TYPE_TEXT_STARTS_WITH = \"TEXT_STARTS_WITH\";\nexports.TYPE_TEXT_ENDS_WITH = \"TEXT_ENDS_WITH\";\nvar DEFAULT_STRING_FILTER = {\n  values: \"\",\n  type: null,\n  notNull: false\n};\nvar DEFAULT_RANGE_FILTER = {\n  values: [0, 100],\n  type: TYPE_RANGE,\n  notNull: true,\n  max: 500,\n  min: 0\n};\nvar DEFAULT_VALUE_FILTER = {\n  values: 0,\n  type: TYPE_VALUE,\n  notNull: true,\n  max: 500,\n  min: 0\n};\n\nfunction asyncForEach(array, callback) {\n  return __awaiter(this, void 0, void 0,\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var index;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            index = 0;\n\n          case 1:\n            if (!(index < array.length)) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return callback(array[index], index, array);\n\n          case 4:\n            index++;\n            _context.next = 1;\n            break;\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\n\nvar patchColumn = function patchColumn(filter, payload, fieldService) {\n  return __awaiter(void 0, void 0, void 0,\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var values, type, fieldInfo, setFilterOnColumn;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            values = payload.values, type = payload.type;\n            _context2.next = 3;\n            return fieldService.getFieldInfo(filter, values.value);\n\n          case 3:\n            fieldInfo = _context2.sent;\n\n            if (values.dataType !== \"string\") {\n              setFilterOnColumn = Object.assign(Object.assign({}, filter.filter), {\n                values: [fieldInfo.min, fieldInfo.max]\n              });\n            } else {\n              setFilterOnColumn = Object.assign(Object.assign({}, filter.filter), {\n                type: \"string\",\n                values: []\n              });\n            }\n\n            return _context2.abrupt(\"return\", Object.assign(Object.assign({}, filter), {\n              column: values.value,\n              indicator: values.dataType === \"string\" ? \"FILTER_ON_VALUES\" : \"range\",\n              dataType: values.dataType,\n              fieldInfo: fieldInfo,\n              filter: setFilterOnColumn\n            }));\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n};\n\nvar resolveStringLikeValue = function resolveStringLikeValue(val) {\n  var isList = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isList) {\n    return Array.isArray(val) ? val : [];\n  }\n\n  if (val === null) {\n    return \"\";\n  }\n\n  return Array.isArray(val) ? val.map(function (v) {\n    return v.label;\n  }).join(\",\") : val;\n};\n\nvar resolveNumberLikeValue = function resolveNumberLikeValue(filter, val) {\n  var range = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var min = filter.fieldInfo && filter.fieldInfo.min ? filter.fieldInfo.min : 0;\n  var max = filter.fieldInfo && filter.fieldInfo.max ? filter.fieldInfo.max : 0;\n\n  if (val) {\n    return val;\n  }\n\n  if (range) {\n    return [min, max];\n  }\n\n  return max;\n};\n\nvar patchIndicator = function patchIndicator(filter, payload) {\n  var values = payload.values;\n  var appliedValue = filter.filter.values;\n  var setFilterOnIndicator = null;\n\n  if (values.value === exports.TYPE_FILTER_ON_VALUES) {\n    setFilterOnIndicator = Object.assign(Object.assign({}, DEFAULT_STRING_FILTER), {\n      notNull: true,\n      values: resolveStringLikeValue(appliedValue, true)\n    });\n  } else if (values.value === exports.TYPE_TEXT_CONTAINS || values.value === exports.TYPE_TEXT_NOT_CONTAINS || values.value === exports.TYPE_TEXT_STARTS_WITH || values.value === exports.TYPE_TEXT_ENDS_WITH) {\n    setFilterOnIndicator = Object.assign(Object.assign({}, DEFAULT_STRING_FILTER), {\n      values: resolveStringLikeValue(appliedValue)\n    });\n  } else if (values.value === TYPE_RANGE) {\n    setFilterOnIndicator = Object.assign(Object.assign({}, DEFAULT_RANGE_FILTER), {\n      values: resolveNumberLikeValue(filter, appliedValue, true)\n    });\n  } else if (values.value === TYPE_VALUE) {\n    setFilterOnIndicator = Object.assign(Object.assign({}, DEFAULT_VALUE_FILTER), {\n      values: resolveNumberLikeValue(filter, appliedValue)\n    });\n  } else {\n    throw new Error(\"Filters helper patch indicator, type \".concat(values.value, \" is not a valid indicator.\"));\n  }\n\n  return Object.assign(Object.assign({}, filter), {\n    indicator: values.value,\n    filter: setFilterOnIndicator\n  });\n};\n\nvar patchRange = function patchRange(filter, payload) {\n  var values = payload.values;\n  return Object.assign(Object.assign({}, filter), {\n    filter: Object.assign(Object.assign({}, filter.filter), {\n      values: values\n    })\n  });\n};\n\nvar patchValue = function patchValue(filter, payload) {\n  var values = payload.values;\n  return Object.assign(Object.assign({}, filter), {\n    filter: Object.assign(Object.assign({}, filter.filter), {\n      values: values\n    })\n  });\n};\n\nvar patchNullCheck = function patchNullCheck(filter) {\n  return Object.assign(Object.assign({}, filter), {\n    filter: Object.assign(Object.assign({}, filter.filter), {\n      notNull: !filter.filter.notNull\n    })\n  });\n};\n\nexports.default = function (filters, fieldService, payload) {\n  return __awaiter(void 0, void 0, void 0,\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4() {\n    var values, id, type, out;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            values = payload.values, id = payload.id, type = payload.type;\n            out = [];\n\n            if (!(type === TYPE_COLUMNS)) {\n              _context4.next = 7;\n              break;\n            }\n\n            _context4.next = 5;\n            return asyncForEach(filters, function (filter) {\n              return __awaiter(void 0, void 0, void 0,\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee3() {\n                var patch;\n                return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        if (!(filter.id === id)) {\n                          _context3.next = 7;\n                          break;\n                        }\n\n                        _context3.next = 3;\n                        return patchColumn(filter, payload, fieldService);\n\n                      case 3:\n                        patch = _context3.sent;\n                        out.push(patch);\n                        _context3.next = 8;\n                        break;\n\n                      case 7:\n                        out.push(filter);\n\n                      case 8:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3);\n              }));\n            });\n\n          case 5:\n            _context4.next = 8;\n            break;\n\n          case 7:\n            out = filters.map(function (filter) {\n              if (filter.id === id) {\n                if (type === TYPE_INDICATOR) {\n                  return patchIndicator(filter, payload);\n                } else if (type === TYPE_RANGE) {\n                  return patchRange(filter, payload);\n                } else if (type === TYPE_VALUE || type === exports.TYPE_FILTER_ON_VALUES) {\n                  return patchValue(filter, payload);\n                } else if (type === \"NOT_NULL_CHECK\") {\n                  return patchNullCheck(filter);\n                } else {\n                  throw new Error(\"Error in filter helper type \".concat(type, \" not implemented.\"));\n                }\n              }\n\n              return filter;\n            });\n\n          case 8:\n            return _context4.abrupt(\"return\", out);\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n};","\"use strict\";\n\nvar _defineProperty = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar filters_1 = __importDefault(require(\"./filters\"));\n\nvar constants_1 = require(\"../constants\");\n\nvar DataService =\n/*#__PURE__*/\nfunction () {\n  function DataService(datasetId, adapter, setEditor, dispatch) {\n    _classCallCheck(this, DataService);\n\n    this.adapter = adapter;\n    this.setEditor = setEditor;\n    this.dispatch = dispatch;\n    this.dataset = null;\n    this.widget = null;\n    this.widgetData = null;\n    this.adapter.setDatasetId(datasetId);\n  }\n\n  _createClass(DataService, [{\n    key: \"getDatasetAndWidgets\",\n    value: function getDatasetAndWidgets() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.adapter.getDataset();\n\n              case 2:\n                this.dataset = _context.sent;\n                _context.next = 5;\n                return this.adapter.getWidget(this.dataset);\n\n              case 5:\n                this.widget = _context.sent;\n                _context.next = 8;\n                return this.translateFilters();\n\n              case 8:\n                this.setEditor({\n                  dataset: this.dataset,\n                  widget: this.widget\n                });\n                this.dispatch({\n                  type: constants_1.sagaEvents.DATA_FLOW_DATASET_WIDGET_READY\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"restoreEditor\",\n    value: function restoreEditor(datasetId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.setEditor({\n                  restoring: true\n                });\n                this.adapter.setDatasetId(datasetId);\n                _context2.next = 4;\n                return this.getDatasetAndWidgets();\n\n              case 4:\n                _context2.next = 6;\n                return this.getFieldsAndLayers();\n\n              case 6:\n                _context2.next = 8;\n                return this.getWidgetData();\n\n              case 8:\n                this.setEditor({\n                  restoring: false\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"translateFilters\",\n    value: function translateFilters() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var filters;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                filters = this.widget.attributes.widgetConfig.paramsConfig.filters;\n                this.dispatch({\n                  type: constants_1.reduxActions.EDITOR_SET_FILTERS,\n                  payload: {\n                    list: this.adapter.handleFilters(filters)\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"getWidgetData\",\n    value: function getWidgetData() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var paramsConfig, filtersService;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                paramsConfig = this.widget.attributes.widgetConfig.paramsConfig;\n                filtersService = new filters_1.default(paramsConfig, this.dataset.id);\n                _context4.prev = 2;\n                _context4.next = 5;\n                return filtersService.requestWidgetData();\n\n              case 5:\n                this.widgetData = _context4.sent;\n                _context4.next = 11;\n                break;\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](2);\n                this.setEditor({\n                  errors: [\"WIDGET_DATA_UNAVAILABLE\"]\n                });\n\n              case 11:\n                if (!this.widgetData || !this.widgetData.data) {\n                  this.setEditor({\n                    errors: [\"WIDGET_DATA_UNAVAILABLE\"]\n                  });\n                } else {\n                  this.setEditor({\n                    widgetData: this.widgetData.data\n                  });\n                  this.dispatch({\n                    type: constants_1.sagaEvents.DATA_FLOW_WIDGET_DATA_READY\n                  });\n                }\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 8]]);\n      }));\n    }\n  }, {\n    key: \"isFieldAllowed\",\n    value: function isFieldAllowed(field) {\n      var fieldTypeAllowed = constants_1.ALLOWED_FIELD_TYPES.find(function (val) {\n        return val.name.toLowerCase() === field.type.toLowerCase();\n      });\n      var isCartodbId = field.columnName === \"cartodb_id\";\n      var result = !isCartodbId && fieldTypeAllowed;\n      return result;\n    }\n  }, {\n    key: \"getFieldsAndLayers\",\n    value: function getFieldsAndLayers() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var _this = this;\n\n        var fields, layers, columns, allowedFields;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.adapter.getFields();\n\n              case 2:\n                fields = _context5.sent;\n                _context5.next = 5;\n                return this.adapter.getLayers();\n\n              case 5:\n                layers = _context5.sent;\n                columns = this.dataset.attributes.metadata[0].attributes.columns;\n                allowedFields = [];\n                Object.keys(fields).forEach(function (field) {\n                  var f = Object.assign(Object.assign({}, fields[field]), {\n                    columnName: field,\n                    metadata: columns[field]\n                  });\n\n                  if (_this.isFieldAllowed(f)) {\n                    allowedFields.push(f);\n                  }\n                });\n                this.setEditor({\n                  layers: layers,\n                  fields: allowedFields\n                });\n                this.dispatch({\n                  type: constants_1.sagaEvents.DATA_FLOW_DATA_READY\n                });\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }, {\n    key: \"resolveUpdates\",\n    value: function resolveUpdates(configuration, widget) {\n      var widgetParams = {};\n      this.adapter.widget_params.forEach(function (param) {\n        if (param in configuration) {\n          widgetParams = Object.assign(Object.assign({}, widgetParams), _defineProperty({}, param, configuration[param]));\n        } else {\n          console.warn(\"Widget Editor: Param(\".concat(param, \") does not exsist in widget, make sure adapter.widget_params has fields that match with your API widget payload. Refer to documentation for adapter.widget_params for aditional information.\"));\n        }\n      });\n      var payload = Object.assign(Object.assign({}, this.adapter.payload()), {\n        title: configuration.title || null,\n        description: configuration.description || null,\n        widget: {\n          params: widgetParams,\n          data: widget.data || null,\n          scales: widget.scales || null,\n          axes: widget.axes || null,\n          marks: widget.marks || null,\n          interaction_config: widget.interaction_config || null,\n          config: widget.config || null\n        }\n      });\n      return payload;\n    }\n  }, {\n    key: \"resolveInitialState\",\n    value: function resolveInitialState() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.getDatasetAndWidgets();\n\n              case 2:\n                _context6.next = 4;\n                return this.getWidgetData();\n\n              case 4:\n                _context6.next = 6;\n                return this.getFieldsAndLayers();\n\n              case 6:\n                this.setEditor({\n                  initialized: true\n                });\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    }\n  }]);\n\n  return DataService;\n}();\n\nexports.default = DataService;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar pie_1 = __importDefault(require(\"../charts/pie\"));\n\nvar bars_1 = __importDefault(require(\"../charts/bars\"));\n\nvar line_1 = __importDefault(require(\"../charts/line\"));\n\nvar scatter_1 = __importDefault(require(\"../charts/scatter\"));\n\nvar constants_1 = require(\"../charts/constants\");\n\nvar constants_2 = require(\"../helpers/wiget-helper/constants\");\n\nvar VegaService =\n/*#__PURE__*/\nfunction () {\n  function VegaService(widgetConfig, widgetData, configuration) {\n    _classCallCheck(this, VegaService);\n\n    this.schema = constants_2.defaultVegaSchema();\n    this.widgetConfig = widgetConfig;\n    this.widgetData = widgetData;\n    this.configuration = configuration;\n    this.setConfig();\n    this.resolveChart();\n  }\n\n  _createClass(VegaService, [{\n    key: \"resolveChart\",\n    value: function resolveChart() {\n      var chartType = this.configuration.chartType;\n      var chart;\n\n      if (constants_1.SUPPORTED_CHARTS.indexOf(chartType) === -1) {\n        throw new Error(\"Chart of type: \".concat(chartType, \" is not supported. we support: (\").concat(constants_1.SUPPORTED_CHARTS.join(\"|\"), \")\"));\n      }\n\n      if (chartType === \"pie\") {\n        chart = new pie_1.default(this.schema, this.widgetConfig, this.widgetData).getChart();\n      }\n\n      if (chartType === \"bar\") {\n        chart = new bars_1.default(this.schema, this.widgetConfig, this.widgetData).getChart();\n      }\n\n      if (chartType === \"line\") {\n        chart = new line_1.default(this.schema, this.widgetConfig, this.widgetData).getChart();\n      }\n\n      if (chartType === \"scatter\") {\n        chart = new scatter_1.default(this.schema, this.widgetConfig, this.widgetData).getChart();\n      }\n\n      this.schema = Object.assign(Object.assign({}, this.schema), chart);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        config: this.widgetConfig.config\n      });\n    }\n  }, {\n    key: \"getChart\",\n    value: function getChart() {\n      return this.schema;\n    }\n  }]);\n\n  return VegaService;\n}();\n\nexports.default = VegaService;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar constants_1 = require(\"../helpers/wiget-helper/constants\");\n\nvar Pie =\n/*#__PURE__*/\nfunction () {\n  function Pie(schema, widgetConfig, widgetData) {\n    _classCallCheck(this, Pie);\n\n    this.schema = schema;\n    this.widgetConfig = widgetConfig;\n    this.widgetData = widgetData;\n    this.generateSchema();\n    this.setGenericSettings();\n  }\n\n  _createClass(Pie, [{\n    key: \"generateSchema\",\n    value: function generateSchema() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        scales: this.setScales(),\n        marks: this.setMarks(),\n        data: this.bindData(),\n        interaction_config: this.interactionConfig()\n      });\n    }\n  }, {\n    key: \"setGenericSettings\",\n    value: function setGenericSettings() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        width: 400,\n        height: 400\n      });\n    }\n  }, {\n    key: \"interactionConfig\",\n    value: function interactionConfig() {\n      return [{\n        name: \"tooltip\",\n        config: {\n          fields: [{\n            column: \"y\",\n            property: \"y\",\n            type: \"number\",\n            format: \".2s\"\n          }, {\n            column: \"x\",\n            property: \"x\",\n            type: \"string\",\n            format: \".2f\"\n          }]\n        }\n      }];\n    }\n  }, {\n    key: \"setScales\",\n    value: function setScales() {\n      return [{\n        name: \"c\",\n        type: \"ordinal\",\n        domain: {\n          data: \"table\",\n          field: constants_1.sqlFields.value\n        },\n        range: {\n          scheme: \"category20\"\n        }\n      }];\n    }\n  }, {\n    key: \"setMarks\",\n    value: function setMarks() {\n      return [{\n        type: \"arc\",\n        from: {\n          data: \"table\"\n        },\n        encode: {\n          enter: {\n            tooltip: {\n              signal: \"{'Label': datum.x, 'Value': datum.y }\"\n            },\n            fill: {\n              scale: \"c\",\n              field: constants_1.sqlFields.value\n            },\n            x: {\n              signal: \"width / 2\"\n            },\n            y: {\n              signal: \"height / 2\"\n            }\n          },\n          update: {\n            startAngle: {\n              field: \"startAngle\"\n            },\n            endAngle: {\n              field: \"endAngle\"\n            },\n            innerRadius: {\n              signal: \"width > height ? height / 3 : width / 3\"\n            },\n            outerRadius: {\n              signal: \"width > height ? height / 2 : width / 2\"\n            }\n          },\n          hover: {\n            opacity: {\n              value: 0.8\n            }\n          }\n        }\n      }];\n    }\n  }, {\n    key: \"bindData\",\n    value: function bindData() {\n      var widgetData = this.widgetData;\n      return [{\n        values: widgetData,\n        name: \"table\",\n        transform: [{\n          type: \"pie\",\n          field: constants_1.sqlFields.category,\n          startAngle: 0,\n          endAngle: 6.29\n        }]\n      }];\n    }\n  }, {\n    key: \"getChart\",\n    value: function getChart() {\n      return this.schema;\n    }\n  }]);\n\n  return Pie;\n}();\n\nexports.default = Pie;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar constants_1 = require(\"../helpers/wiget-helper/constants\");\n\nvar Bars =\n/*#__PURE__*/\nfunction () {\n  function Bars(schema, widgetConfig, widgetData) {\n    _classCallCheck(this, Bars);\n\n    this.schema = schema;\n    this.widgetConfig = widgetConfig;\n    this.widgetData = widgetData;\n    this.generateSchema();\n    this.setGenericSettings();\n  }\n\n  _createClass(Bars, [{\n    key: \"generateSchema\",\n    value: function generateSchema() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        axes: this.setAxes(),\n        scales: this.setScales(),\n        marks: this.setMarks(),\n        data: this.bindData(),\n        interaction_config: this.interactionConfig()\n      });\n    }\n  }, {\n    key: \"setGenericSettings\",\n    value: function setGenericSettings() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        height: 400,\n        autosize: {\n          type: \"fit\",\n          contains: \"padding\"\n        },\n        padding: 20\n      });\n    }\n  }, {\n    key: \"setScales\",\n    value: function setScales() {\n      return [{\n        name: \"x\",\n        type: \"band\",\n        domain: {\n          data: \"table\",\n          field: \"id\"\n        },\n        range: \"width\",\n        padding: 0.05\n      }, {\n        name: \"y\",\n        type: \"linear\",\n        domain: {\n          data: \"table\",\n          field: constants_1.sqlFields.category\n        },\n        nice: true,\n        zero: true,\n        range: \"height\"\n      }];\n    }\n  }, {\n    key: \"setMarks\",\n    value: function setMarks() {\n      return [{\n        type: \"rect\",\n        from: {\n          data: \"table\"\n        },\n        encode: {\n          enter: {\n            tooltip: {\n              signal: \"{'Label': datum.x, 'Value': datum.y }\"\n            }\n          },\n          update: {\n            opacity: {\n              value: 1\n            },\n            x: {\n              scale: \"x\",\n              field: \"id\"\n            },\n            width: {\n              scale: \"x\",\n              band: 1\n            },\n            y: {\n              scale: \"y\",\n              field: \"y\"\n            },\n            y2: {\n              scale: \"y\",\n              value: 0\n            }\n          },\n          hover: {\n            opacity: {\n              value: 0.8\n            }\n          }\n        }\n      }];\n    }\n  }, {\n    key: \"interactionConfig\",\n    value: function interactionConfig() {\n      return [{\n        name: \"tooltip\",\n        config: {\n          fields: [{\n            column: \"y\",\n            property: \"y\",\n            type: \"number\",\n            format: \".2s\"\n          }, {\n            column: \"x\",\n            property: \"x\",\n            type: \"string\",\n            format: \".2f\"\n          }]\n        }\n      }];\n    }\n  }, {\n    key: \"setAxes\",\n    value: function setAxes() {\n      return [Object.assign(Object.assign(Object.assign({}, this.schema.axis), this.schema.axisX), {\n        orient: \"bottom\",\n        scale: \"x\",\n        labelOverlap: \"parity\",\n        ticks: false,\n        encode: {\n          labels: {\n            update: {\n              text: {\n                signal: \"width < 300 || data('table')[0].count > 10 ? truncate(data('table')[datum.value - 1].x, 12) : data('table')[datum.value - 1].x\"\n              },\n              align: {\n                signal: \"width < 300 || data('table')[0].count > 10 ? 'right' : 'center'\"\n              },\n              baseline: {\n                signal: \"width < 300 || data('table')[0].count > 10 ? 'middle' : 'top'\"\n              },\n              angle: {\n                signal: \"width < 300 || data('table')[0].count > 10 ? -90 : 0\"\n              }\n            }\n          }\n        }\n      }), Object.assign(Object.assign(Object.assign({}, this.schema.axis), this.schema.axisY), {\n        orient: \"left\",\n        scale: \"y\",\n        labelOverlap: \"parity\",\n        format: \"s\",\n        encode: {\n          labels: {\n            update: {\n              align: {\n                value: \"right\"\n              },\n              baseline: {\n                value: \"bottom\"\n              }\n            }\n          }\n        }\n      })];\n    }\n  }, {\n    key: \"bindData\",\n    value: function bindData() {\n      var widgetData = this.widgetData;\n      return [{\n        values: widgetData,\n        name: \"table\",\n        transform: [{\n          type: \"identifier\",\n          as: \"id\"\n        }, {\n          type: \"joinaggregate\",\n          as: [\"count\"]\n        }]\n      }];\n    }\n  }, {\n    key: \"getChart\",\n    value: function getChart() {\n      return this.schema;\n    }\n  }]);\n\n  return Bars;\n}();\n\nexports.default = Bars;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar constants_1 = require(\"../helpers/wiget-helper/constants\");\n\nvar Line =\n/*#__PURE__*/\nfunction () {\n  function Line(schema, widgetConfig, widgetData) {\n    _classCallCheck(this, Line);\n\n    this.schema = schema;\n    this.widgetConfig = widgetConfig;\n    this.widgetData = widgetData;\n    this.generateSchema();\n    this.setGenericSettings();\n  }\n\n  _createClass(Line, [{\n    key: \"generateSchema\",\n    value: function generateSchema() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        axes: this.setAxes(),\n        scales: this.setScales(),\n        marks: this.setMarks(),\n        data: this.bindData(),\n        interaction_config: this.interactionConfig(),\n        signals: [{\n          name: \"hover\",\n          value: null,\n          on: [{\n            events: \"@cell:mouseover\",\n            update: \"datum\"\n          }, {\n            events: \"@cell:mouseout\",\n            update: \"null\"\n          }]\n        }]\n      });\n    }\n  }, {\n    key: \"setGenericSettings\",\n    value: function setGenericSettings() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        height: 400,\n        autosize: {\n          type: \"fit\",\n          contains: \"padding\"\n        },\n        padding: 20\n      });\n    }\n  }, {\n    key: \"interactionConfig\",\n    value: function interactionConfig() {\n      return [{\n        name: \"tooltip\",\n        config: {\n          fields: [{\n            column: \"y\",\n            property: \"y\",\n            type: \"number\",\n            format: \".2s\"\n          }, {\n            column: \"x\",\n            property: \"x\",\n            type: \"string\"\n          }]\n        }\n      }];\n    }\n  }, {\n    key: \"setScales\",\n    value: function setScales() {\n      return [{\n        name: \"x\",\n        type: \"point\",\n        range: \"width\",\n        domain: {\n          data: \"table\",\n          field: \"x\"\n        }\n      }, {\n        name: \"y\",\n        type: \"linear\",\n        range: \"height\",\n        nice: true,\n        zero: true,\n        domain: {\n          data: \"table\",\n          field: constants_1.sqlFields.category\n        }\n      }];\n    }\n  }, {\n    key: \"setMarks\",\n    value: function setMarks() {\n      return [{\n        name: \"lines\",\n        interactive: false,\n        type: \"line\",\n        from: {\n          data: \"table\"\n        },\n        encode: {\n          enter: {\n            x: {\n              scale: \"x\",\n              field: \"x\"\n            },\n            y: {\n              scale: \"y\",\n              field: \"y\"\n            },\n            strokeCap: {\n              value: \"round\"\n            },\n            strokeWidth: {\n              value: 2\n            },\n            strokeJoin: {\n              value: \"round\"\n            }\n          }\n        }\n      }, {\n        name: \"points\",\n        interactive: false,\n        type: \"symbol\",\n        from: {\n          data: \"dots\"\n        },\n        encode: {\n          enter: {\n            x: {\n              scale: \"x\",\n              field: \"x\"\n            },\n            y: {\n              scale: \"y\",\n              field: \"y\"\n            }\n          },\n          update: {\n            opacity: {\n              value: 1\n            }\n          }\n        }\n      }, {\n        name: \"cell\",\n        type: \"path\",\n        from: {\n          data: \"lines\"\n        },\n        transform: [{\n          type: \"voronoi\",\n          x: \"datum.x\",\n          y: \"datum.y\",\n          size: [{\n            signal: \"width\"\n          }, {\n            signal: \"height\"\n          }]\n        }],\n        encode: {\n          enter: {\n            tooltip: {\n              signal: \"{'Value': datum.x }\"\n            }\n          },\n          update: {\n            path: {\n              field: \"path\"\n            },\n            fill: {\n              value: \"red\"\n            },\n            opacity: {\n              value: 0\n            }\n          }\n        }\n      }];\n    }\n  }, {\n    key: \"setAxes\",\n    value: function setAxes() {\n      return [Object.assign(Object.assign(Object.assign({}, this.schema.axis), this.schema.axisX), {\n        orient: \"bottom\",\n        scale: \"x\",\n        labelOverlap: \"parity\",\n        ticks: false\n      }), Object.assign(Object.assign(Object.assign({}, this.schema.axis), this.schema.axisY), {\n        orient: \"left\",\n        scale: \"y\",\n        labelOverlap: \"parity\",\n        format: \"s\",\n        encode: {\n          labels: {\n            update: {\n              align: {\n                value: \"right\"\n              },\n              baseline: {\n                value: \"bottom\"\n              }\n            }\n          }\n        }\n      })];\n    }\n  }, {\n    key: \"bindData\",\n    value: function bindData() {\n      var widgetData = this.widgetData;\n      return [{\n        values: widgetData,\n        name: \"table\",\n        transform: [{\n          type: \"identifier\",\n          as: \"id\"\n        }, {\n          type: \"joinaggregate\",\n          as: [\"count\"]\n        }]\n      }, {\n        name: \"dots\",\n        source: \"table\",\n        transform: [{\n          type: \"filter\",\n          expr: \"hover && hover.datum.x === datum.x\"\n        }]\n      }];\n    }\n  }, {\n    key: \"getChart\",\n    value: function getChart() {\n      return this.schema;\n    }\n  }]);\n\n  return Line;\n}();\n\nexports.default = Line;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar constants_1 = require(\"../helpers/wiget-helper/constants\");\n\nvar Scatter =\n/*#__PURE__*/\nfunction () {\n  function Scatter(schema, widgetConfig, widgetData) {\n    _classCallCheck(this, Scatter);\n\n    this.schema = schema;\n    this.widgetConfig = widgetConfig;\n    this.widgetData = widgetData;\n    this.generateSchema();\n    this.setGenericSettings();\n  }\n\n  _createClass(Scatter, [{\n    key: \"generateSchema\",\n    value: function generateSchema() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        axes: this.setAxes(),\n        scales: this.setScales(),\n        marks: this.setMarks(),\n        data: this.bindData()\n      });\n    }\n  }, {\n    key: \"setGenericSettings\",\n    value: function setGenericSettings() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        height: 300,\n        autosize: {\n          type: \"fit\",\n          contains: \"padding\"\n        },\n        padding: 20\n      });\n    }\n  }, {\n    key: \"setScales\",\n    value: function setScales() {\n      return [{\n        \"name\": \"xscale\",\n        \"type\": \"linear\",\n        \"round\": true,\n        \"nice\": true,\n        \"zero\": false,\n        \"domain\": {\n          data: \"table\",\n          field: constants_1.sqlFields.value\n        },\n        \"range\": \"width\"\n      }, {\n        \"name\": \"yscale\",\n        \"type\": \"linear\",\n        \"round\": true,\n        \"nice\": true,\n        \"zero\": true,\n        \"domain\": {\n          data: \"table\",\n          field: constants_1.sqlFields.category\n        },\n        \"range\": \"height\"\n      }];\n    }\n  }, {\n    key: \"setMarks\",\n    value: function setMarks() {\n      return [{\n        \"name\": \"marks\",\n        \"type\": \"symbol\",\n        \"from\": {\n          \"data\": \"table\"\n        },\n        \"encode\": {\n          \"update\": {\n            \"x\": {\n              \"scale\": \"xscale\",\n              \"field\": \"x\"\n            },\n            \"y\": {\n              \"scale\": \"yscale\",\n              \"field\": \"y\"\n            },\n            \"strokeOpacity\": {\n              \"value\": 0\n            },\n            \"zindex\": {\n              \"value\": 0\n            },\n            \"opacity\": {\n              \"value\": 0.5\n            }\n          },\n          \"hover\": {\n            \"strokeOpacity\": {\n              \"value\": 1\n            },\n            \"zindex\": {\n              \"value\": 1\n            },\n            \"opacity\": {\n              \"value\": 1\n            }\n          }\n        }\n      }];\n    }\n  }, {\n    key: \"setAxes\",\n    value: function setAxes() {\n      return [{\n        \"scale\": \"xscale\",\n        \"labelOverlap\": \"parity\",\n        \"orient\": \"bottom\",\n        \"encode\": {\n          \"labels\": {\n            \"update\": {\n              \"align\": {\n                \"value\": \"center\"\n              },\n              \"baseline\": {\n                \"value\": \"top\"\n              }\n            }\n          }\n        }\n      }, {\n        \"scale\": \"yscale\",\n        \"labelOverlap\": \"parity\",\n        \"orient\": \"left\",\n        \"format\": \"s\"\n      }];\n    }\n  }, {\n    key: \"bindData\",\n    value: function bindData() {\n      var widgetData = this.widgetData;\n      return [{\n        values: widgetData,\n        name: \"table\"\n      }];\n    }\n  }, {\n    key: \"getChart\",\n    value: function getChart() {\n      return this.schema;\n    }\n  }]);\n\n  return Scatter;\n}();\n\nexports.default = Scatter;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SUPPORTED_CHARTS = [\"pie\", \"bar\", \"line\", \"scatter\"];\nexports.default = {\n  SUPPORTED_CHARTS: exports.SUPPORTED_CHARTS\n};","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar filters_1 = __importDefault(require(\"./filters\"));\n\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\n\nvar StateProxy =\n/*#__PURE__*/\nfunction () {\n  function StateProxy() {\n    _classCallCheck(this, StateProxy);\n\n    this.cache = {\n      limit: null,\n      chartType: null,\n      value: null,\n      orderBy: null\n    };\n  }\n\n  _createClass(StateProxy, [{\n    key: \"checkHasUpdate\",\n    value: function checkHasUpdate(state) {\n      var _this = this;\n\n      var keys = Object.keys(this.cache);\n      var hasUpdate = false;\n      keys.forEach(function (key) {\n        hasUpdate = hasUpdate || !isEqual_1.default(_this.cache[key], state[key]);\n      });\n      return hasUpdate;\n    }\n  }, {\n    key: \"cacheCurrent\",\n    value: function cacheCurrent(state) {\n      this.cache = state;\n    }\n  }, {\n    key: \"sync\",\n    value: function sync(state, datasetId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var hasUpdate, filtersService, widgetData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                hasUpdate = this.checkHasUpdate(state);\n\n                if (!hasUpdate) {\n                  _context.next = 8;\n                  break;\n                }\n\n                this.cacheCurrent(state);\n                filtersService = new filters_1.default(state, datasetId);\n                _context.next = 6;\n                return filtersService.requestWidgetData();\n\n              case 6:\n                widgetData = _context.sent;\n                return _context.abrupt(\"return\", {\n                  hasUpdates: hasUpdate,\n                  widgetData: widgetData.data\n                });\n\n              case 8:\n                return _context.abrupt(\"return\", {\n                  hasUpdates: hasUpdate,\n                  widgetData: null\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }]);\n\n  return StateProxy;\n}();\n\nexports.default = StateProxy;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar dataset_1 = __importDefault(require(\"./services/dataset\"));\n\nexports.DatasetService = dataset_1.default;\n\nvar widget_1 = __importDefault(require(\"./services/widget\"));\n\nexports.WidgetService = widget_1.default;\n\nvar filters_1 = __importDefault(require(\"./services/filters\"));\n\nexports.FiltersService = filters_1.default;\n\nvar data_1 = __importDefault(require(\"./services/data\"));\n\nexports.DataService = data_1.default;\n\nvar vega_1 = __importDefault(require(\"./services/vega\"));\n\nexports.VegaService = vega_1.default;\n\nvar fields_1 = __importDefault(require(\"./services/fields\"));\n\nexports.FieldsService = fields_1.default;\n\nvar state_proxy_1 = __importDefault(require(\"./services/state-proxy\"));\n\nexports.StateProxy = state_proxy_1.default;\n\nvar constants_1 = __importDefault(require(\"./constants\"));\n\nexports.constants = constants_1.default;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar lodash_1 = require(\"lodash\");\n\nvar ConfigHelper =\n/*#__PURE__*/\nfunction () {\n  function ConfigHelper(params) {\n    _classCallCheck(this, ConfigHelper);\n\n    this.setConfig(params);\n  }\n\n  _createClass(ConfigHelper, [{\n    key: \"setConfig\",\n    value: function setConfig(params) {\n      var acceptedParams = lodash_1.pick(params, [\"url\", \"env\", \"applications\", \"authUrl\", \"assetsPath\", \"userToken\", \"userEmail\", \"locale\"]);\n      this.config = Object.assign(Object.assign({}, this.config), acceptedParams);\n    }\n  }, {\n    key: \"getConfig\",\n    value: function getConfig() {\n      return this.config;\n    }\n  }]);\n\n  return ConfigHelper;\n}();\n\nexports.default = function (params) {\n  return new ConfigHelper(params);\n};","import { connect } from \"react-redux\";\nimport { createAction as VzCreateAction } from \"vizzuality-redux-tools\";\nimport { constants } from \"@packages/core\";\n/*\n  REDUX util to connect to our state\n\n  As the widget editor is namespaced in the consumer app\n  this will make it easier to develop for us and only care about the state of the widget editor\n*/\n\nexport var connectState = function connectState(stateHandler, dispatchHandler) {\n  return connect(function (state) {\n    return typeof stateHandler === \"function\" ? stateHandler(state[constants.APP_NAMESPACE]) : {};\n  }, dispatchHandler);\n}; // Create redux actions that namespaces the widget editor\n\nexport var createAction = function createAction(action) {\n  return VzCreateAction(\"\".concat(constants.APP_NAMESPACE, \"/\").concat(action));\n}; // Gets an action with our namespace. used for our sagas\n\nexport var getAction = function getAction(action) {\n  return \"\".concat(constants.APP_NAMESPACE, \"/\").concat(action);\n};\nexport default {\n  connectState: connectState,\n  createAction: createAction,\n  getAction: getAction\n};","import { createAction } from \"../../helpers/redux\";\nexport var setEditor = createAction(\"EDITOR/setEditor\");\nexport default {\n  setEditor: setEditor\n};","import { createAction } from \"../../helpers/redux\";\nexport var setTheme = createAction(\"EDITOR/THEME/setTheme\");\nexport default {\n  setTheme: setTheme\n};","import React, { useEffect, useRef } from \"react\";\nimport * as vega from \"vega\";\nimport vegaTooltip from \"vega-tooltip\";\nimport styled from \"styled-components\";\nimport isEqual from \"lodash/isEqual\";\nimport isEmpty from \"lodash/isEmpty\";\nimport ChartTheme from \"../../helpers/theme\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"p6fymh-0\"\n})([\"flex 1;display:flex;width:100%;.c-chart{flex:1;text-align:center;overflow:hidden;margin:20px;max-height:400px;align-self:center;}\"]);\n\nvar getTooltipConfigFields = function getTooltipConfigFields(widget) {\n  // We don't have the interaction config object defined\n  if (!widget || !widget.interaction_config || !widget.interaction_config.length) {\n    return [];\n  }\n\n  var tooltipConfig = widget.interaction_config.find(function (c) {\n    return c.name === \"tooltip\";\n  }); // We don't have the tooltip config defined\n\n  if (!tooltipConfig || !tooltipConfig.config || !tooltipConfig.config.fields || !tooltipConfig.config.fields.length) {\n    return [];\n  }\n\n  return tooltipConfig.config.fields;\n};\n\nvar instantiateTooltip = function instantiateTooltip(view, widget) {\n  var fields = getTooltipConfigFields(widget);\n  var res = vegaTooltip(view, {\n    showAllFields: false,\n    fields: fields.map(function (_ref) {\n      var column = _ref.column,\n          property = _ref.property,\n          type = _ref.type,\n          format = _ref.format;\n      return {\n        field: column,\n        title: property,\n        formatType: type === \"date\" ? \"time\" : type,\n        format: format\n      };\n    })\n  });\n};\n\nvar Chart = function Chart(_ref2) {\n  var editor = _ref2.editor,\n      widget = _ref2.widget;\n  var chart = useRef();\n  var vegaContainer = useRef();\n  var memoryStoreWidget = useRef(); // TODO: CLEANUP, probably better to just utalise a traditional Rclass here\n\n  useEffect(function () {\n    if (chart.current && !isEmpty(widget) && !isEqual(widget, memoryStoreWidget)) {\n      var runtime = vega.parse(widget);\n      var width = chart.current.offsetWidth;\n      vegaContainer.current = new vega.View(runtime).initialize(chart.current).renderer(\"canvas\").width(width - 40).hover().run();\n      memoryStoreWidget.current = widget; // We only show the tooltip if the interaction_config\n      // object is defined\n\n      if (vegaContainer.current && widget.interaction_config && widget.interaction_config.length) {\n        instantiateTooltip(vegaContainer.current, widget);\n      }\n\n      vegaContainer.current.resize = function () {\n        var width = chart.current.offsetWidth;\n        vegaContainer.current.width(width - 40).run();\n        instantiateTooltip(vegaContainer.current, widget);\n      };\n\n      window.addEventListener(\"resize\", vegaContainer.current.resize);\n    }\n  }, [chart, editor, widget]);\n  return React.createElement(StyledContainer, null, React.createElement(\"div\", {\n    className: \"c-chart\",\n    ref: chart\n  }));\n};\n\nexport default Chart;","import { connectState } from \"../../helpers/redux\"; // Components\n\nimport ChartComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    editor: state.editor,\n    widget: state.widget\n  };\n})(ChartComponent);","import { createAction } from \"../../helpers/redux\";\nexport var setConfiguration = createAction(\"CONFIGURATION/setConfiguration\");\nexport var patchConfiguration = createAction(\"CONFIGURATION/patchConfiguration\");\nexport var saveConfiguration = createAction(\"CONFIGURATION/saveConfiguration\");\nexport default {\n  saveConfiguration: saveConfiguration,\n  setConfiguration: setConfiguration,\n  patchConfiguration: patchConfiguration\n};","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { createSelector } from \"reselect\";\n\nvar getConfiguration = function getConfiguration(state) {\n  return state.configuration;\n};\n\nvar getDataset = function getDataset(state) {\n  return state.editor.dataset;\n};\n\nexport var getWidgetSelectedColumn = createSelector([getConfiguration, getDataset], function (configuration, dataset) {\n  var value = dataset.attributes.metadata[0].attributes.columns[configuration.value.name];\n  return _objectSpread({}, value, {\n    identifier: configuration.value.name\n  });\n});\nexport var getWidgetColumns = createSelector([getDataset], function (dataset) {\n  // TODO: Lots of assumptions here\n  // 1. Do we always have dataset metadata?\n  // 2. Is it always on index:0 ?\n  // 3. Do we always have relevant props ?\n  var columns = dataset.attributes.widgetRelevantProps.map(function (prop) {\n    return _objectSpread({}, dataset.attributes.metadata[0].attributes.columns[prop], {\n      identifier: prop\n    });\n  });\n  return columns;\n});","import styled from \"styled-components\";\nvar FlexContainer = styled.div.withConfig({\n  displayName: \"flex__FlexContainer\",\n  componentId: \"sc-1jjiixp-0\"\n})([\"display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;flex-flow:\", \";width:100%;\", \" label{flex-basis:100%;}\"], function (props) {\n  return props.row ? \"row\" : \"column\";\n}, function (props) {\n  return props.row ? \"> * { padding-right: 20px; &:last-child { padding-right: 0; } } \" : \"\";\n});\nexport default FlexContainer;","import React from 'react';\n\nvar CategoryIcon = function CategoryIcon() {\n  return React.createElement(\"svg\", {\n    width: \"10px\",\n    height: \"10px\",\n    viewBox: \"0 0 10 10\",\n    version: \"1.1\"\n  }, React.createElement(\"g\", {\n    id: \"Iteration\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React.createElement(\"g\", {\n    id: \"xAxis-Selector\",\n    transform: \"translate(-183.000000, -311.000000)\",\n    fill: \"#2C75B0\"\n  }, React.createElement(\"g\", {\n    id: \"Rectangle-409-+-364-+-MWh-Copy\",\n    transform: \"translate(163.000000, 289.000000)\"\n  }, React.createElement(\"g\", {\n    id: \"Group-20\",\n    transform: \"translate(19.000000, 10.000000)\"\n  }, React.createElement(\"path\", {\n    d: \"M4.5,12 L11,18.5 L7.5,22 L1,15.5 L1,12 L4.5,12 Z M3.5,13.5 C2.94771525,13.5 2.5,13.9477153 2.5,14.5 C2.5,15.0522847 2.94771525,15.5 3.5,15.5 C4.05228475,15.5 4.5,15.0522847 4.5,14.5 C4.5,13.9477153 4.05228475,13.5 3.5,13.5 Z\",\n    id: \"item-category\"\n  }))))));\n};\n\nexport default CategoryIcon;","import styled from \"styled-components\";\nexport var StyledPopupContainer = styled.div.withConfig({\n  displayName: \"style__StyledPopupContainer\",\n  componentId: \"eg9uyn-0\"\n})([\"position:absolute;box-sizing:border-box;height:auto;width:422px;border:1px solid rgba(26,28,34,0.1);border-radius:4px;background-color:#FFFFFF;box-shadow:0 20px 30px 0 rgba(0,0,0,0.1);z-index:2;bottom:40px;left:-75px;padding:20px;&:after{content:'';position:absolute;left:200px;bottom:-20px;border:10px solid transparent;border-top:10px solid #FFFFFF;z-index:3;}\"]);\nexport var StyledCategoryAlias = styled.h4.withConfig({\n  displayName: \"style__StyledCategoryAlias\",\n  componentId: \"eg9uyn-1\"\n})([\"position:relative;padding-left:20px;margin-bottom:10px;margin-top:0;color:#2C75B0;font-size:16px;line-height:25px;\"]);\nexport var StyledCategoryDescription = styled.div.withConfig({\n  displayName: \"style__StyledCategoryDescription\",\n  componentId: \"eg9uyn-2\"\n})([\"position:relative;padding-left:20px;margin-top:10px;margin-bottom:10px;color:#393F44;font-size:16px;line-height:25px;\"]);\nexport var StyledValueAlias = styled.div.withConfig({\n  displayName: \"style__StyledValueAlias\",\n  componentId: \"eg9uyn-3\"\n})([\"position:relative;padding-left:20px;margin-top:10px;margin-bottom:10px;color:#393F44;font-size:16px;line-height:25px;\"]);\nexport var IconBox = styled.div.withConfig({\n  displayName: \"style__IconBox\",\n  componentId: \"eg9uyn-4\"\n})([\"color:#393F44;position:absolute;left:0;top:1px;\"]);","import Popup from \"./component\";\nexport default Popup;","import React from \"react\";\nimport CategoryIcon from \"../../../icons/CategoryIcon\";\nimport { StyledPopupContainer, StyledCategoryAlias, StyledCategoryDescription, StyledValueAlias, IconBox } from \"./style\";\n\nvar Popup = function Popup(_ref) {\n  var category = _ref.category,\n      value = _ref.value;\n  var valueAlias = value.alias;\n  var categoryAlias = category.alias;\n  return React.createElement(StyledPopupContainer, null, React.createElement(StyledCategoryAlias, null, React.createElement(IconBox, null, React.createElement(CategoryIcon, null)), categoryAlias), React.createElement(StyledCategoryDescription, null, React.createElement(IconBox, null, \"#\"), categoryAlias, \" Description\"), React.createElement(StyledValueAlias, null, React.createElement(IconBox, null, \"#\"), valueAlias));\n};\n\nexport default Popup;","import styled from \"styled-components\";\nexport var StyledSelectOptionTitle = styled.div.withConfig({\n  displayName: \"style__StyledSelectOptionTitle\",\n  componentId: \"sc-42eb37-0\"\n})([\"font-size:14px;display:flex;align-items:center;font-weight:500;\"]);\nexport var StyledSelectOptionDescription = styled.div.withConfig({\n  displayName: \"style__StyledSelectOptionDescription\",\n  componentId: \"sc-42eb37-1\"\n})([\"font-size:12px;padding-top:10px;\"]);\nexport var StyledSelectOption = styled.div.withConfig({\n  displayName: \"style__StyledSelectOption\",\n  componentId: \"sc-42eb37-2\"\n})([\"padding:10px 20px;border-bottom:1px solid #6f6f6f;color:\", \";&:hover{background-color:blue;cursor:pointer;color:white;}&:last-child{border-bottom:none;}\"], function (props) {\n  return props.isDisabled ? \"#eaeaea\" : \"#6f6f6f\" || \"#6f6f6f\";\n});","import CustomOption from \"./component\";\nexport default CustomOption;","import React from \"react\";\nimport { StyledSelectOption, StyledSelectOptionTitle, StyledSelectOptionDescription } from \"./style\";\n\nvar CustomOption = function CustomOption(_ref) {\n  var data = _ref.data,\n      isDisabled = _ref.isDisabled,\n      innerProps = _ref.innerProps;\n  var description = data.description,\n      alias = data.alias;\n  return !isDisabled ? React.createElement(StyledSelectOption, innerProps, React.createElement(StyledSelectOptionTitle, null, alias), description && description.length > 0 && React.createElement(StyledSelectOptionDescription, null, description)) : null;\n};\n\nexport default CustomOption;","import styled from \"styled-components\";\nexport var StyledSelectBox = styled.div.withConfig({\n  displayName: \"style__StyledSelectBox\",\n  componentId: \"sc-1braopw-0\"\n})([\"position:relative;\"]);\nexport var InputStyles = {\n  control: function control() {\n    return {\n      display: \"flex\",\n      border: \"1px solid rgba(202,204,208,0.85)\",\n      borderRadius: \"4px\",\n      padding: \"3px 0\"\n    };\n  }\n};\nexport var CustomStyles = {\n  container: function container() {\n    return {\n      position: \"relative\",\n      boxSizing: \"border-box\",\n      cursor: \"pointer\"\n    };\n  },\n  indicatorSeparator: function indicatorSeparator() {\n    return {\n      display: \"none\"\n    };\n  },\n  dropdownIndicator: function dropdownIndicator(provided, state) {\n    return {\n      color: \"#c32d7b\",\n      transform: state.selectProps.menuIsOpen ? \"rotate(180deg)\" : \"none\",\n      transition: \"all 0.2s ease-out\"\n    };\n  },\n  indicatorsContainer: function indicatorsContainer() {\n    return {\n      color: \"#c32d7b\",\n      display: \"flex\",\n      padding: \"8px\",\n      transition: \"color 150ms\",\n      boxSizing: \"border-box\",\n      position: \"relative\",\n      top: \"5px\"\n    };\n  },\n  control: function control() {\n    return {\n      display: \"flex\",\n      border: \"none\",\n      borderRadius: \"4px\",\n      padding: \"3px 0\"\n    };\n  }\n};","import _slicedToArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState } from \"react\";\nimport Select from \"react-select\";\nimport Popup from \"./components/Popup\";\nimport CustomOption from \"./components/CustomOption\";\nimport { StyledSelectBox, CustomStyles, InputStyles } from \"./style\";\n/**\n * CustomSelect. Component uses react-select library for customization.\n */\n\nvar CustomSelect = function CustomSelect(props) {\n  var isCustom = props.isCustom,\n      isPopup = props.isPopup,\n      configuration = props.configuration,\n      otherProps = _objectWithoutProperties(props, [\"isCustom\", \"isPopup\", \"configuration\"]);\n\n  var value = configuration.value,\n      category = configuration.category;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isPopupOpen = _useState2[0],\n      setPopup = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpen = _useState4[0],\n      setOpen = _useState4[1];\n\n  return React.createElement(StyledSelectBox, {\n    onMouseEnter: function onMouseEnter() {\n      return setPopup(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setPopup(false);\n    }\n  }, React.createElement(Select, _extends({}, otherProps, {\n    onMenuOpen: function onMenuOpen() {\n      return setOpen(true);\n    },\n    onMenuClose: function onMenuClose() {\n      return setOpen(false);\n    },\n    styles: isCustom ? CustomStyles : InputStyles,\n    components: isCustom ? {\n      Option: CustomOption\n    } : null\n  })), isPopup && isPopupOpen && !isOpen && React.createElement(Popup, {\n    category: category,\n    value: value\n  }));\n};\n\nexport default CustomSelect;","import Select from \"./component\";\nexport default Select;","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport FlexContainer from \"../../styles-common/flex\";\nimport Select from \"../select\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"sc-1bmwxtk-0\"\n})([\"margin:10px;flex-basis:100%;padding:10px;width:100%;max-width:300px;box-sizing:border-box;\"]);\n\nvar QueryValues = function QueryValues(_ref) {\n  var theme = _ref.theme,\n      value = _ref.value,\n      columns = _ref.columns,\n      configuration = _ref.configuration,\n      patchConfiguration = _ref.patchConfiguration;\n\n  var handleChange = function handleChange(selectedOption) {\n    // TODO: Wee need to set type here\n    patchConfiguration({\n      value: _objectSpread({}, configuration.value, {\n        name: selectedOption.identifier,\n        alias: selectedOption.alias\n      })\n    });\n  };\n\n  return React.createElement(FlexContainer, null, React.createElement(StyledContainer, null, React.createElement(Select, {\n    menuPlacement: \"top\",\n    defaultValue: value,\n    onChange: handleChange,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.alias;\n    },\n    getOptionValue: function getOptionValue(option) {\n      return option.identifier;\n    },\n    options: columns,\n    configuration: configuration,\n    isCustom: true,\n    isPopup: true\n  })));\n};\n\nexport default QueryValues;","import { connectState } from \"../../helpers/redux\";\nimport { patchConfiguration } from \"../../modules/configuration/actions\";\nimport * as selectors from \"../../modules/widget/selectors\";\nimport QueryValuesComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    theme: state.theme,\n    value: selectors.getWidgetSelectedColumn(state),\n    configuration: state.configuration,\n    widgetRelevantProps: state.editor.dataset.attributes.widgetRelevantProps,\n    columns: selectors.getWidgetColumns(state)\n  };\n}, {\n  patchConfiguration: patchConfiguration\n})(QueryValuesComponent);","import _objectWithoutProperties from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from \"react\";\nimport styled, { css } from \"styled-components\";\nvar StyledButton = styled.button.withConfig({\n  displayName: \"component__StyledButton\",\n  componentId: \"l5yyzu-0\"\n})([\"cursor:pointer;font-size:16px;color:#393f44;border:1px solid rgba(202,204,208,0.85);background:transparent;padding:10px 20px;border-radius:5px;outline:1;\", \" \", \" \", \" \", \" \", \"\"], function (props) {\n  return props.size && props.size === \"small\" && css([\"padding:7px 15px;\"]);\n}, function (props) {\n  return props.type && props.type === \"cta\" && css([\"background:\", \";color:#fff;border:1px solid transparent;\"], props.color);\n}, function (props) {\n  return props.type && props.type === \"highlight\" && css([\"color:\", \";border:1px solid \", \";\"], props.color, props.color);\n}, function (props) {\n  return props.type && props.type === \"default\" && css([\"&:hover,&.active{\", \"}\"], function (props) {\n    return props.color && css([\"border:1px solid \", \";color:\", \";\"], props.color, props.color);\n  });\n}, function (props) {\n  return props.active && css([\"border:1px solid \", \";color:\", \";\"], props.color, props.color);\n});\n\nvar Button = function Button(_ref) {\n  var _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"default\" : _ref$type,\n      theme = _ref.theme,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"type\", \"theme\", \"children\"]);\n\n  return React.createElement(StyledButton, _extends({}, props, {\n    color: theme.color,\n    type: type\n  }), children);\n};\n\nexport default Button;","import { connectState } from \"../../helpers/redux\"; // Components\n\nimport ButtonComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    theme: state.theme\n  };\n})(ButtonComponent);","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport styled, { css } from \"styled-components\";\nexport var StyledContainer = styled.div.withConfig({\n  displayName: \"style__StyledContainer\",\n  componentId: \"opri8d-0\"\n})([\"margin:10px;\", \"\"], function (props) {\n  return props.isCompact && css([\"display:flex;align-items:center;\"]);\n});\nexport var StyledSelectBox = styled.div.withConfig({\n  displayName: \"style__StyledSelectBox\",\n  componentId: \"opri8d-1\"\n})([\"\", \"\"], function (props) {\n  return props.isCompact && css([\"width:100%;padding-right:15px;\"]);\n});\nexport var InputStyles = {\n  control: function control() {\n    return {\n      // none of react-select's styles are passed to <Control />\n      display: \"flex\",\n      border: \"1px solid rgba(202,204,208,0.85)\",\n      borderRadius: \"4px\",\n      padding: \"3px 0\"\n    };\n  },\n  option: function option(base) {\n    return _objectSpread({}, base);\n  }\n};","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport find from \"lodash/find\";\nimport isEqual from \"lodash/isEqual\";\nimport Button from \"../button\";\nimport Select from \"react-select\";\nimport { StyledContainer, StyledSelectBox, InputStyles } from \"./style\";\n\nvar SelectChart = function SelectChart(_ref) {\n  var patchConfiguration = _ref.patchConfiguration,\n      options = _ref.options,\n      value = _ref.value,\n      theme = _ref.theme,\n      setTheme = _ref.setTheme;\n\n  var _useState = useState(find(options, {\n    value: value\n  })),\n      _useState2 = _slicedToArray(_useState, 2),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var _theme$compact = theme.compact,\n      isCompact = _theme$compact.isCompact,\n      isOpen = _theme$compact.isOpen;\n  useEffect(function () {\n    // TODO: optimize...\n    if (!isEqual(find(options, {\n      value: value\n    }), selected)) {\n      setSelected(find(options, {\n        value: value\n      }));\n    }\n  }, [selected, value]);\n\n  var handleChange = function handleChange(option) {\n    patchConfiguration({\n      chartType: option.value\n    });\n  };\n\n  var hadleSettings = function hadleSettings() {\n    setTheme(_objectSpread({}, theme, {\n      compact: {\n        isCompact: isCompact,\n        isOpen: !isOpen\n      }\n    }));\n  };\n\n  return React.createElement(StyledContainer, {\n    isCompact: isCompact\n  }, React.createElement(StyledSelectBox, {\n    isCompact: isCompact\n  }, React.createElement(Select, {\n    onChange: handleChange,\n    value: selected,\n    options: options,\n    styles: InputStyles\n  })), isCompact && React.createElement(Button, {\n    type: \"highlight\",\n    onClick: function onClick() {\n      return hadleSettings();\n    }\n  }, \"Settings\"));\n};\n\nexport default SelectChart;","import { connectState } from \"../../helpers/redux\";\nimport { patchConfiguration } from \"../../modules/configuration/actions\";\nimport { setTheme } from \"../../modules/theme/actions\"; // Components\n\nimport SelectChartComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    options: state.configuration.availableCharts,\n    value: state.configuration.chartType,\n    theme: state.theme\n  };\n}, {\n  patchConfiguration: patchConfiguration,\n  setTheme: setTheme\n})(SelectChartComponent);","export var FOOTER_HEIGHT = \"100px\";\nexport var DEFAULT_BORDER = function DEFAULT_BORDER() {\n  var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  var right = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var bottom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var left = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  return \"\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.09);\\n\\n  border-color: rgba(26, 28, 34, 0.1);\\n  border-style: solid;\\n\\n  border-width: \".concat(top, \"px \").concat(right, \"px \").concat(bottom, \"px \").concat(left, \"px;\\n\");\n};\nexport default {\n  FOOTER_HEIGHT: FOOTER_HEIGHT,\n  DEFAULT_BORDER: DEFAULT_BORDER\n};","import styled from 'styled-components';\nimport { FOOTER_HEIGHT, DEFAULT_BORDER } from \"../../style-constants\";\nexport var StyledContainer = styled.div.withConfig({\n  displayName: \"style__StyledContainer\",\n  componentId: \"sc-1qafyg5-0\"\n})([\"display:flex;flex-flow:column;height:calc(100% - \", \");background:#fff;flex:1;width:100%;\", \"\"], FOOTER_HEIGHT, DEFAULT_BORDER());\nexport var RestoringWidget = styled.div.withConfig({\n  displayName: \"style__RestoringWidget\",\n  componentId: \"sc-1qafyg5-1\"\n})([\"height:300px;display:flex;align-items:center;justify-content:center;\"]);\nexport var RestoringWidgetTitle = styled.h4.withConfig({\n  displayName: \"style__RestoringWidgetTitle\",\n  componentId: \"sc-1qafyg5-2\"\n})([\"color:#a9a9a9;font-size:21px;\"]);","import React from \"react\";\nimport Chart from \"../chart\";\nimport QueryValues from \"../query-values\";\nimport SelectChart from \"../select-chart\";\nimport { StyledContainer, RestoringWidget, RestoringWidgetTitle } from \"./style\";\n\nvar Renderer = function Renderer(_ref) {\n  var widget = _ref.widget,\n      editor = _ref.editor;\n  var restoring = editor.restoring,\n      initialized = editor.initialized;\n  return React.createElement(StyledContainer, null, React.createElement(SelectChart, null), initialized && !restoring && React.createElement(Chart, null), !initialized && React.createElement(RestoringWidget, null, React.createElement(RestoringWidgetTitle, null, \"Loading widget...\")), restoring && React.createElement(RestoringWidget, null, React.createElement(RestoringWidgetTitle, null, \"Building widget...\")), initialized && !restoring && React.createElement(QueryValues, null));\n};\n\nexport default Renderer;","// TODO: This should be its own package\n// It should be possible to use the renderer without the editor!\nimport { connectState } from \"../../helpers/redux\"; // Components\n\nimport RendererComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    editor: state.editor,\n    widget: state.widget\n  };\n})(RendererComponent);","import styled from \"styled-components\";\nexport var StyledAccordion = styled.div.withConfig({\n  displayName: \"style__StyledAccordion\",\n  componentId: \"mzy7xu-0\"\n})([\"width:100%;padding-top:24px;padding-bottom:24px;\"]);\nexport var StyledAccordionContent = styled.div.withConfig({\n  displayName: \"style__StyledAccordionContent\",\n  componentId: \"mzy7xu-1\"\n})([\"display:\\\"block\\\";max-height:\", \";overflow-y:\", \";transition:all 0.2s ease-out;padding-left:24px;padding-top:\", \";padding-bottom:\", \";\"], function (props) {\n  return props.scrollHeight + \"px\" || \"0\";\n}, function (props) {\n  return props.scrollHeight ? \"visible\" : \"hidden\";\n}, function (props) {\n  return props.scrollHeight ? \"18px\" : \"0\" || \"0\";\n}, function (props) {\n  return props.scrollHeight ? \"18px\" : \"0\" || \"0\";\n});\nexport var StyledAccordionButton = styled.a.withConfig({\n  displayName: \"style__StyledAccordionButton\",\n  componentId: \"mzy7xu-2\"\n})([\"display:block;height:25px;color:#393f44;font-size:16px;font-weight:bold;line-height:25px;position:relative;padding-left:25px;cursor:pointer;&:before{content:\\\" \\\";width:10px;height:10px;border-radius:50%;background:#c32d7b;position:absolute;left:0;top:8px;}\"]);\nexport var StyledAccordionSection = styled.div.withConfig({\n  displayName: \"style__StyledAccordionSection\",\n  componentId: \"mzy7xu-3\"\n})([\"padding-top:11px;padding-bottom:11px;position:relative;&:before{content:\\\" \\\";height:1px;width:calc(100% - 24px);display:block;position:absolute;top:0;background-color:#d2d3d6;margin-left:24px;}&:first-child{&:before{display:none;}}\"]);","import _slicedToArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport ReactResizeDetector from 'react-resize-detector';\nimport { StyledAccordionSection, StyledAccordionContent, StyledAccordionButton, StyledAccordion } from \"./style\";\nexport var AccordionSection = function AccordionSection(_ref) {\n  var title = _ref.title,\n      openDefault = _ref.openDefault,\n      children = _ref.children;\n  var contentRef = useRef({});\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      outerHeight = _useState2[0],\n      setOuterHeight = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpen = _useState4[0],\n      setOpen = _useState4[1];\n\n  var clickToTitle = function clickToTitle() {\n    setOpen(!isOpen);\n    var panel = contentRef.current;\n    var height = outerHeight ? 0 : panel.scrollHeight;\n    setOuterHeight(height);\n  };\n\n  var updateHeight = function updateHeight() {\n    var panel = contentRef.current;\n\n    if (panel.scrollHeight > 0 && isOpen) {\n      var height = panel.scrollHeight;\n      setOuterHeight(height);\n    }\n  };\n\n  useEffect(function () {\n    setTimeout(function () {\n      return openDefault ? clickToTitle() : null;\n    }, 0);\n  }, []);\n  return React.createElement(StyledAccordionSection, null, React.createElement(StyledAccordionButton, {\n    onClick: function onClick() {\n      return clickToTitle();\n    }\n  }, title), React.createElement(StyledAccordionContent, {\n    ref: contentRef,\n    scrollHeight: outerHeight\n  }, React.createElement(ReactResizeDetector, {\n    handleHeight: true,\n    skipOnMount: true,\n    onResize: updateHeight\n  }, children)));\n};\nexport var Accordion = function Accordion(_ref2) {\n  var children = _ref2.children;\n  return React.createElement(StyledAccordion, null, children);\n};","import styled from 'styled-components';\nexport var StyledTabsContainer = styled.div.withConfig({\n  displayName: \"style__StyledTabsContainer\",\n  componentId: \"qvkojo-0\"\n})([\"position:relative;\"]);\nexport var StyledTabsContent = styled.div.withConfig({\n  displayName: \"style__StyledTabsContent\",\n  componentId: \"qvkojo-1\"\n})([\"display:\", \";\"], function (props) {\n  return props.active ? 'block' : 'none';\n});\nexport var StyledList = styled.ul.withConfig({\n  displayName: \"style__StyledList\",\n  componentId: \"qvkojo-2\"\n})([\"display:flex;justify-content:space-between;padding:20px 0;list-style:none;\"]);\nexport var StyledListLabel = styled.li.withConfig({\n  displayName: \"style__StyledListLabel\",\n  componentId: \"qvkojo-3\"\n})([\"color:red;padding-right:5px;padding-left:5px;&:first-child{padding-left:0;}&:last-child{padding-right:0;}\"]);","import _slicedToArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useEffect } from 'react';\nimport Button from \"../button\";\nimport { StyledTabsContainer, StyledTabsContent, StyledList, StyledListLabel } from \"./style\";\n\nvar TabButton = function TabButton(props) {\n  return React.createElement(Button, _extends({\n    style: {\n      height: \"100%\"\n    }\n  }, props));\n};\n\nexport var Tabs = function Tabs(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  useEffect(function () {\n    var defaultNum = children.findIndex(function (child) {\n      return child.props.default;\n    });\n    setActive(defaultNum === -1 ? 0 : defaultNum);\n  }, []);\n  return React.createElement(StyledTabsContainer, null, React.createElement(StyledList, null, children.map(function (child, num) {\n    var label = child.props.label;\n    return label ? React.createElement(StyledListLabel, {\n      key: num\n    }, React.createElement(TabButton, {\n      onClick: function onClick() {\n        return setActive(num);\n      },\n      active: num === active\n    }, label)) : null;\n  })), children.map(function (child, num) {\n    var tabContent = child.props.children;\n    return React.createElement(StyledTabsContent, {\n      key: num,\n      active: num === active\n    }, tabContent);\n  }));\n};\n/**\n * \n * @param {label} label require for displaying tab\n */\n\nexport var Tab = function Tab(_ref2) {\n  var children = _ref2.children,\n      label = _ref2.label;\n  return label ? children : null;\n};","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from \"react\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport ReactSlider from \"react-slider\";\nvar StyledSlider = styled(ReactSlider).withConfig({\n  displayName: \"component__StyledSlider\",\n  componentId: \"ps9f57-0\"\n})([\"height:4px;width:inherit;\"]);\nvar StyledThumb = styled.div.withConfig({\n  displayName: \"component__StyledThumb\",\n  componentId: \"ps9f57-1\"\n})([\"height:18px;line-height:18px;width:18px;background-color:#fff;border:3px solid \", \";border-radius:50%;transform:translateY(-50%);z-index:0 !important;top:50%;cursor:grab;\"], function (props) {\n  return props.theme.slider.track;\n});\nvar StyledTrack = styled.div.withConfig({\n  displayName: \"component__StyledTrack\",\n  componentId: \"ps9f57-2\"\n})([\"top:0;bottom:0;background:\", \";border-radius:999px;\"], function (props) {\n  if (props.isArray) {\n    return props.isArray && props.index === 1 ? props.theme.slider.track : props.theme.slider.trackBackground;\n  } else {\n    return props.index === 2 ? props.theme.slider.track : props.index === 1 ? props.theme.slider.trackBackground : props.theme.slider.track;\n  }\n});\n\nvar Thumb = function Thumb(props, state) {\n  return React.createElement(StyledThumb, props);\n};\n\nvar Track = function Track(props, state) {\n  return React.createElement(StyledTrack, _extends({}, props, {\n    isArray: Array.isArray(state.value),\n    index: state.index\n  }));\n};\n\nvar Slider = function Slider(_ref) {\n  var _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 1 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 500 : _ref$max,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step,\n      value = _ref.value,\n      defaultValue = _ref.defaultValue,\n      theme = _ref.theme,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange,\n      _ref$onDone = _ref.onDone,\n      onDone = _ref$onDone === void 0 ? function () {} : _ref$onDone;\n  return React.createElement(ThemeProvider, {\n    theme: theme\n  }, React.createElement(StyledSlider, {\n    onAfterChange: onDone,\n    onChange: onChange,\n    renderTrack: Track,\n    renderThumb: Thumb,\n    value: value,\n    step: step,\n    defaultValue: defaultValue,\n    max: max,\n    min: min\n  }));\n};\n\nexport default Slider;","import { connectState } from \"../../helpers/redux\";\nimport SliderComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    theme: state.theme\n  };\n})(SliderComponent);","import styled from \"styled-components\";\nvar FormLabel = styled.label.withConfig({\n  displayName: \"form-label__FormLabel\",\n  componentId: \"dg5fl6-0\"\n})([\"display:block;padding:0 0 10px 0;color:#393f44;font-weight:700;font-size:13px;\"]);\nexport default FormLabel;","import styled from \"styled-components\";\nvar InputGroup = styled.div.withConfig({\n  displayName: \"input-group__InputGroup\",\n  componentId: \"sc-1dcephl-0\"\n})([\"position:relative;width:100%;\", \"\"], function (props) {\n  return !props.noMargins && \"margin: 0 0 15px 0;\";\n});\nexport default InputGroup;","import styled from \"styled-components\"; // TODO: Move configuration to global config file.\n\nvar Input = styled.input.withConfig({\n  displayName: \"input__Input\",\n  componentId: \"sc-1ao902g-0\"\n})([\"width:100%;box-sizing:border-box;padding:14px 10px;background:#ffffff;border:1px solid rgba(202,204,208,0.85);border-radius:4px;color:#393f44;font-size:14px;&[type=\\\"number\\\"]{box-sizing:content-box;padding:8px 10px;}\"]);\nexport default Input;","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport Slider from \"../slider\";\nimport isEqual from \"lodash/isEqual\";\nimport FlexContainer from \"../../styles-common/flex\";\nimport FormLabel from \"../../styles-common/form-label\";\nimport InputGroup from \"../../styles-common/input-group\";\nimport Input from \"../../styles-common/input\";\nimport debounce from \"lodash/debounce\";\nimport * as helpers from \"./helpers\";\n\nvar WidgetInfo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(WidgetInfo, _React$Component);\n\n  function WidgetInfo(props) {\n    var _this;\n\n    _classCallCheck(this, WidgetInfo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WidgetInfo).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUpdate\", debounce(function () {\n      var _this$props = _this.props,\n          configuration = _this$props.configuration,\n          patchConfiguration = _this$props.patchConfiguration;\n      var _this$state = _this.state,\n          title = _this$state.title,\n          caption = _this$state.caption,\n          yAxis = _this$state.yAxis,\n          xAxis = _this$state.xAxis;\n      patchConfiguration({\n        title: title,\n        caption: caption,\n        category: _objectSpread({}, configuration.category, {\n          alias: yAxis\n        }),\n        value: _objectSpread({}, configuration.value, {\n          alias: xAxis\n        })\n      });\n    }, 1000));\n\n    _this.state = _this.stateFromProps(props.configuration);\n    return _this;\n  }\n\n  _createClass(WidgetInfo, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevConfiguration = prevProps.configuration;\n      var configuration = this.props.configuration;\n\n      if (!isEqual(this.stateFromProps(prevConfiguration), this.stateFromProps(configuration))) {\n        this.setState(this.stateFromProps(configuration));\n      }\n    }\n  }, {\n    key: \"stateFromProps\",\n    value: function stateFromProps(configuration) {\n      return {\n        title: configuration ? configuration.title : \"\",\n        caption: configuration ? configuration.caption : \"\",\n        yAxis: configuration ? configuration.category.alias : \"\",\n        xAxis: configuration ? configuration.value.alias : \"\"\n      };\n    }\n  }, {\n    key: \"setTitle\",\n    value: function setTitle(title) {\n      this.setState({\n        title: title\n      });\n      this.handleUpdate();\n    }\n  }, {\n    key: \"setCaption\",\n    value: function setCaption(caption) {\n      this.setState({\n        caption: caption\n      });\n      this.handleUpdate();\n    }\n  }, {\n    key: \"setYAxis\",\n    value: function setYAxis(yAxis) {\n      this.setState({\n        yAxis: yAxis\n      });\n      this.handleUpdate();\n    }\n  }, {\n    key: \"setXAxis\",\n    value: function setXAxis(xAxis) {\n      this.setState({\n        xAxis: xAxis\n      });\n      this.handleUpdate();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          title = _this$state2.title,\n          caption = _this$state2.caption,\n          xAxis = _this$state2.xAxis,\n          yAxis = _this$state2.yAxis;\n      return React.createElement(FlexContainer, null, React.createElement(InputGroup, null, React.createElement(FormLabel, {\n        htmlFor: \"options-title\"\n      }, \"Title\"), React.createElement(Input, {\n        type: \"text\",\n        placeholder: \"Add title\",\n        name: \"options-title\",\n        value: title,\n        onChange: function onChange(e) {\n          return _this2.setTitle(e.target.value);\n        }\n      })), React.createElement(InputGroup, null, React.createElement(FormLabel, {\n        htmlFor: \"options-title\"\n      }, \"Caption\"), React.createElement(Input, {\n        type: \"text\",\n        placeholder: \"Add caption\",\n        name: \"options-capton\",\n        value: caption,\n        onChange: function onChange(e) {\n          return _this2.setCaption(e.target.value);\n        }\n      })), React.createElement(FlexContainer, {\n        row: true\n      }, React.createElement(InputGroup, null, React.createElement(FormLabel, {\n        htmlFor: \"options-x-axis\"\n      }, \"X axis\"), React.createElement(Input, {\n        type: \"text\",\n        placeholder: \"Overwrite axis name\",\n        name: \"options-x-axis\",\n        value: xAxis,\n        onChange: function onChange(e) {\n          return _this2.setXAxis(e.target.value);\n        }\n      })), React.createElement(InputGroup, null, React.createElement(FormLabel, {\n        htmlFor: \"options-y-axis\"\n      }, \"Y axis\"), React.createElement(Input, {\n        type: \"text\",\n        placeholder: \"Overwrite axis name\",\n        name: \"options-y-axis\",\n        value: yAxis,\n        onChange: function onChange(e) {\n          return _this2.setYaxis(e.target.value);\n        }\n      }))));\n    }\n  }]);\n\n  return WidgetInfo;\n}(React.Component);\n\nexport default WidgetInfo;","import { connectState } from \"../../helpers/redux\";\nimport { patchConfiguration } from \"../../modules/configuration/actions\";\nimport WidgetInfoComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    theme: state.theme,\n    configuration: state.configuration\n  };\n}, {\n  patchConfiguration: patchConfiguration\n})(WidgetInfoComponent);","import _slicedToArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useState, useEffect } from \"react\";\nimport find from \"lodash/find\";\nimport Select from \"react-select\";\nimport FlexContainer from \"../../styles-common/flex\";\nimport FormLabel from \"../../styles-common/form-label\";\nimport InputGroup from \"../../styles-common/input-group\";\nvar InputStyles = {\n  control: function control() {\n    return {\n      // none of react-select's styles are passed to <Control />\n      display: \"flex\",\n      border: \"1px solid rgba(202,204,208,0.85)\",\n      borderRadius: \"4px\",\n      padding: \"3px 0\"\n    };\n  },\n  option: function option(base) {\n    return _objectSpread({}, base);\n  }\n};\nvar ORDER_OPTIONS = [{\n  label: \"Ascending\",\n  value: \"asc\"\n}, {\n  label: \"Descending\",\n  value: \"desc\"\n}];\n\nvar OrderValues = function OrderValues(_ref) {\n  var orderBy = _ref.orderBy,\n      patchConfiguration = _ref.patchConfiguration;\n\n  var _useState = useState(find(ORDER_OPTIONS, {\n    value: orderBy.orderType\n  })),\n      _useState2 = _slicedToArray(_useState, 2),\n      order = _useState2[0],\n      setOrder = _useState2[1];\n\n  useEffect(function () {\n    if (orderBy.orderType !== order.value) {\n      setOrder(find(ORDER_OPTIONS, {\n        value: orderBy.orderType\n      }));\n    }\n  }, [orderBy, order.value]);\n\n  var handleChange = function handleChange(option) {\n    patchConfiguration({\n      orderBy: _objectSpread({}, orderBy, {\n        orderType: option.value\n      })\n    });\n  };\n\n  return React.createElement(FlexContainer, null, React.createElement(InputGroup, null, React.createElement(FormLabel, {\n    htmlFor: \"options-title\"\n  }, \"Ascending or Descending\"), React.createElement(Select, {\n    onChange: handleChange,\n    value: order,\n    options: ORDER_OPTIONS,\n    styles: InputStyles\n  })));\n};\n\nexport default OrderValues;","import { connectState } from \"../../helpers/redux\";\nimport { patchConfiguration } from \"../../modules/configuration/actions\";\nimport OrderValuesComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    orderBy: state.configuration.orderBy\n  };\n}, {\n  patchConfiguration: patchConfiguration\n})(OrderValuesComponent);","import styled from 'styled-components';\nexport var StyledTableBox = styled.div.withConfig({\n  displayName: \"style__StyledTableBox\",\n  componentId: \"sc-1dqyv6r-0\"\n})([\"width:100%;height:100%;overflow:auto;\"]);\nexport var StyledTable = styled.table.withConfig({\n  displayName: \"style__StyledTable\",\n  componentId: \"sc-1dqyv6r-1\"\n})([\"border-collapse:separate;border-spacing:0;width:100%;padding:0;border-radius:4px;overflow:hidden;border:1px solid rgba(26,28,34,.1);font-size:14px;margin-bottom:20px;\"]);\nexport var StyledTr = styled.tr.withConfig({\n  displayName: \"style__StyledTr\",\n  componentId: \"sc-1dqyv6r-2\"\n})([\"background-color:#fff;box-sizing:border-box;\"]);\nexport var StyledTd = styled.td.withConfig({\n  displayName: \"style__StyledTd\",\n  componentId: \"sc-1dqyv6r-3\"\n})([\"width:100%;padding:20px;text-align:\", \";\"], function (props) {\n  return props.center ? 'center' : 'left';\n});\nexport var StyledTh = styled.td.withConfig({\n  displayName: \"style__StyledTh\",\n  componentId: \"sc-1dqyv6r-4\"\n})([\"position:relative;font-size:14px;color:#393f44;font-weight:700;white-space:nowrap;padding:20px;\"]);","import React from 'react';\nimport { StyledTableBox, StyledTable, StyledTr, StyledTh, StyledTd } from \"./style\";\n\nvar TableView = function TableView(_ref) {\n  var widgetData = _ref.widgetData,\n      configuration = _ref.configuration;\n  var valueAlias = configuration.value.alias,\n      categoryAlias = configuration.category.alias;\n  return React.createElement(StyledTableBox, null, React.createElement(StyledTable, null, React.createElement(\"thead\", null, React.createElement(StyledTr, null, React.createElement(StyledTh, null, categoryAlias), React.createElement(StyledTh, null, valueAlias))), React.createElement(\"tbody\", null, widgetData && widgetData.map(function (el, key) {\n    return React.createElement(StyledTr, {\n      key: key\n    }, React.createElement(StyledTd, null, el.x), React.createElement(StyledTd, {\n      center: true\n    }, el.y));\n  }))));\n};\n\nexport default TableView;","import { connectState } from \"../../helpers/redux\";\nimport TableView from \"./component\";\nexport default connectState(function (state) {\n  return {\n    widgetData: state.editor.widgetData,\n    configuration: state.configuration\n  };\n})(TableView);","import styled from 'styled-components';\nexport var StyledField = styled.div.withConfig({\n  displayName: \"style__StyledField\",\n  componentId: \"sc-1o5rag-0\"\n})([\"box-sizing:border-box;height:221px;width:100%;border:1px solid rgba(202,204,208,0.85);border-radius:4px;background-color:#FFFFFF;padding:0;font-size:14px;\"]);\nexport var EditorColors = {\n  keys: '#C32D7B',\n  number: '#2C75B0',\n  string: '#C32D7B',\n  background: 'white',\n  background_warning: '#ffebeb'\n};\nexport var EditorStyles = {\n  labelColumn: {\n    display: 'none',\n    boxSizing: 'border-box'\n  },\n  body: {\n    fontSize: '14px',\n    height: '100%',\n    width: '100%'\n  },\n  outerBox: {\n    width: '100%',\n    height: '100%',\n    boxSizing: 'border-box'\n  },\n  container: {\n    height: '100%',\n    width: '100%',\n    boxSizing: 'border-box'\n  },\n  warningBox: {\n    width: '100%',\n    position: 'absolute',\n    left: '0',\n    bottom: '-62px'\n  },\n  contentBox: {\n    padding: '20px 0 20px 20px',\n    height: '100%',\n    width: '100%',\n    boxSizing: 'border-box'\n  }\n};","import JsonEditor from \"./component\";\nexport default JsonEditor;","import React from 'react';\nimport JSONInput from 'react-json-editor-ajrm';\nimport locale from 'react-json-editor-ajrm/locale/en';\nimport { StyledField, EditorColors, EditorStyles } from \"./style\";\n\nvar JsonEditor = function JsonEditor(_ref) {\n  var json = _ref.json,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange;\n  return React.createElement(StyledField, null, React.createElement(JSONInput, {\n    placeholder: json,\n    colors: EditorColors,\n    locale: locale,\n    style: EditorStyles,\n    onChange: onChange\n  }));\n};\n\nexport default JsonEditor;","import { createAction } from \"../../helpers/redux\";\nexport var setFilters = createAction(\"EDITOR/setFilters\");\nexport default {\n  setFilters: setFilters\n};","import React from \"react\"; // General Filter structure types\n\nexport var TYPE_COLUMNS = \"columns\";\nexport var TYPE_INDICATOR = \"indicator\"; // Number types\n\nexport var TYPE_RANGE = \"range\";\nexport var TYPE_VALUE = \"value\"; // String types\n\nexport var TYPE_FILTER_ON_VALUES = \"FILTER_ON_VALUES\";\nexport var TYPE_TEXT_CONTAINS = \"TEXT_CONTAINS\";\nexport var TYPE_TEXT_NOT_CONTAINS = \"TEXT_NOT_CONTAINS\";\nexport var TYPE_TEXT_STARTS_WITH = \"TEXT_STARTS_WITH\";\nexport var TYPE_TEXT_ENDS_WITH = \"TEXT_ENDS_WITH\";\nexport var NUMBER_TYPES = [TYPE_RANGE, TYPE_VALUE];\nexport var STRING_TYPES = [TYPE_FILTER_ON_VALUES, TYPE_TEXT_CONTAINS, TYPE_TEXT_NOT_CONTAINS, TYPE_TEXT_STARTS_WITH, TYPE_TEXT_ENDS_WITH];\nexport var DEFAULT_RANGE_FILTER = {\n  values: [0, 100],\n  type: TYPE_RANGE,\n  notNull: true,\n  max: 500,\n  min: 0\n};\nexport var DEFAULT_VALUE_FILTER = {\n  values: 0,\n  type: TYPE_VALUE,\n  notNull: true,\n  max: 500,\n  min: 0\n};\nexport var DEFAULT_COLUMNS_FILTER = {\n  values: [],\n  type: TYPE_COLUMNS\n};\nexport var COLUMN_FILTER_GROUP = {\n  column: null,\n  label: null,\n  dataType: null,\n  indicator: TYPE_RANGE,\n  filter: DEFAULT_RANGE_FILTER\n};\nexport var FILTER_NUMBER_INDICATOR_TYPES = [{\n  label: \"Between\",\n  value: TYPE_RANGE\n}, {\n  label: \"Equals\",\n  value: TYPE_VALUE\n}];\nexport var FILTER_STRING_INDICATOR_TYPES = [{\n  label: \"Filter by values\",\n  value: TYPE_FILTER_ON_VALUES\n}, {\n  label: \"Text Contains\",\n  value: TYPE_TEXT_CONTAINS\n}, {\n  label: \"Text does not contain\",\n  value: TYPE_TEXT_NOT_CONTAINS\n}, {\n  label: \"Text starts with\",\n  value: TYPE_TEXT_STARTS_WITH\n}, {\n  label: \"Text ends with\",\n  value: TYPE_TEXT_ENDS_WITH\n}];\nexport var DEFAULT_FILTERS = [DEFAULT_RANGE_FILTER, DEFAULT_VALUE_FILTER, DEFAULT_COLUMNS_FILTER, FILTER_NUMBER_INDICATOR_TYPES, FILTER_STRING_INDICATOR_TYPES, COLUMN_FILTER_GROUP];","import styled from \"styled-components\";\nexport var StyledCheckbox = styled.div.withConfig({\n  displayName: \"style__StyledCheckbox\",\n  componentId: \"sc-166tcgo-0\"\n})([\"color:#393f44;input[type=\\\"checkbox\\\"]{opacity:0;position:absolute;}label{cursor:pointer;position:relative;display:inline-block;padding-left:22px;font-size:14px;}label::before,label::after{position:absolute;content:\\\"\\\";display:inline-block;}label::before{height:16px;width:16px;border:1px solid #3bb2d0;border-radius:5px;left:0px;top:0;}label::after{height:3px;width:6px;border-left:2px solid #3bb2d0;border-bottom:2px solid #3bb2d0;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:5px;top:6px;}input[type=\\\"checkbox\\\"] + label::after{content:none;}input[type=\\\"checkbox\\\"]:checked + label::after{content:\\\"\\\";}input[type=\\\"checkbox\\\"]:focus + label::before{box-shadow:0 0 3px #3bb2d0;}\"]);","import NotNullInput from \"./component\";\nexport default NotNullInput;","import React from \"react\";\nimport { StyledCheckbox } from \"./style\";\n\nvar NotNullInput = function NotNullInput(_ref) {\n  var filter = _ref.filter,\n      _ref$name = _ref.name,\n      name = _ref$name === void 0 ? \"untitled_checkbox\" : _ref$name,\n      _ref$label = _ref.label,\n      label = _ref$label === void 0 ? \"\" : _ref$label,\n      setData = _ref.setData;\n\n  if (!filter) {\n    return null;\n  }\n\n  return React.createElement(StyledCheckbox, null, React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: name,\n    checked: filter.filter.notNull,\n    onChange: function onChange(e) {\n      return setData(e.target.value, filter.id, \"NOT_NULL_CHECK\");\n    }\n  }), React.createElement(\"label\", {\n    for: name\n  }, label));\n};\n\nexport default NotNullInput;","export default function isFloat(n) {\n  return Number(n) === n && n % 1 !== 0;\n}","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport Slider from \"../slider\";\nimport FlexContainer from \"../../styles-common/flex\";\nimport FormLabel from \"../../styles-common/form-label\";\nimport Input from \"../../styles-common/input\";\nimport styled from \"styled-components\";\nimport isFloat from \"../../helpers/isFloat\";\nvar StyledSliderBox = styled.div.withConfig({\n  displayName: \"component__StyledSliderBox\",\n  componentId: \"sc-13c1gwt-0\"\n})([\"width:100%;display:flex;padding:20px 0;\"]);\nvar StyledInputBox = styled.div.withConfig({\n  displayName: \"component__StyledInputBox\",\n  componentId: \"sc-13c1gwt-1\"\n})([\"width:100%;display:flex;align-items:center;justify-content:\", \";input{max-width:100px;}\"], function (props) {\n  return props.isDouble ? \"space-between\" : \"flex-end\";\n});\n\nvar QueryLimit = function QueryLimit(_ref) {\n  var label = _ref.label,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? null : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? null : _ref$max,\n      value = _ref.value,\n      _ref$minDistance = _ref.minDistance,\n      minDistance = _ref$minDistance === void 0 ? 1 : _ref$minDistance,\n      _ref$onChange = _ref.onChange,\n      _onChange = _ref$onChange === void 0 ? function (data) {} : _ref$onChange,\n      _ref$handleOnChangeVa = _ref.handleOnChangeValue,\n      handleOnChangeValue = _ref$handleOnChangeVa === void 0 ? function (data, key) {} : _ref$handleOnChangeVa;\n\n  var isDouble = Array.isArray(value);\n  var isFloatingPoint = isFloat(min) || isFloat(max);\n  var minValue = min;\n  var maxValue = max;\n\n  if (isDouble) {\n    minValue = value[0];\n    maxValue = value[1];\n  } else {\n    maxValue = value ? value : max;\n  }\n\n  if (maxValue - minValue <= minDistance) {\n    minValue = maxValue - minDistance;\n  }\n\n  var minMaxProps = _objectSpread({}, min !== null && {\n    min: min\n  }, {}, max !== null && {\n    max: max\n  });\n\n  return React.createElement(FlexContainer, null, label && React.createElement(FormLabel, {\n    htmlFor: \"options-limit\"\n  }, label), React.createElement(StyledSliderBox, null, React.createElement(Slider, _extends({}, minMaxProps, {\n    step: isFloatingPoint ? 0.1 : 1,\n    value: isDouble ? [minValue, maxValue] : maxValue,\n    defaultValue: isDouble ? min : [min, max],\n    onChange: function onChange(value) {\n      return _onChange(value);\n    }\n  }))), React.createElement(StyledInputBox, {\n    isDouble: isDouble\n  }, isDouble && React.createElement(Input, _extends({}, minMaxProps, {\n    value: minValue,\n    type: \"number\",\n    name: \"options-limit\",\n    onChange: function onChange(e) {\n      return handleOnChangeValue(e.target.value, \"minValue\");\n    }\n  })), React.createElement(Input, _extends({}, minMaxProps, {\n    value: maxValue,\n    type: \"number\",\n    name: \"options-limit\",\n    onChange: function onChange(e) {\n      return handleOnChangeValue(e.target.value, \"maxValue\");\n    }\n  }))));\n};\n\nexport default QueryLimit;","import { connectState } from \"../../helpers/redux\";\nimport QueryLimitComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    theme: state.theme\n  };\n})(QueryLimitComponent);","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from \"react\";\nimport QueryLimit from \"../../../query-limit\";\nimport { TYPE_RANGE } from \"../../const\";\n\nvar FilterRange = function FilterRange(_ref) {\n  var filter = _ref.filter,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      setData = _ref.setData;\n  var values = filter.filter.values;\n\n  var _ref2 = filter.fieldInfo ? filter.fieldInfo : {\n    min: 0,\n    max: 100\n  },\n      min = _ref2.min,\n      max = _ref2.max;\n\n  var _values = _slicedToArray(values, 2),\n      minValue = _values[0],\n      maxValue = _values[1];\n\n  var onSetData = function onSetData(values) {\n    setData(values, filter.id, TYPE_RANGE);\n  };\n\n  var handleOnChangeValue = function handleOnChangeValue(value) {\n    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"maxValue\";\n    var newValues = key === \"maxValue\" ? [minValue, Number(value)] : [Number(value), maxValue];\n    setData(newValues, filter.id, TYPE_RANGE);\n  };\n\n  var props = _objectSpread({}, filter.dataType !== \"date\" && {\n    min: min,\n    max: max\n  });\n\n  return React.createElement(QueryLimit, _extends({}, props, {\n    disabled: disabled,\n    value: [minValue, maxValue],\n    onChange: function onChange(value) {\n      return onSetData(value);\n    },\n    handleOnChangeValue: handleOnChangeValue\n  }));\n};\n\nexport default FilterRange;","import FilterRange from \"./component\";\nexport default FilterRange;","import React from \"react\";\nimport Input from \"../../../../styles-common/input\";\nimport styled from \"styled-components\";\nimport isFloat from \"../../../../helpers/isFloat\";\nimport { TYPE_VALUE } from \"../../const\";\nvar StyledInput = styled(Input).withConfig({\n  displayName: \"component__StyledInput\",\n  componentId: \"sc-8rrlsf-0\"\n})([\"text-align:left !important;\"]);\n\nvar FilterValue = function FilterValue(_ref) {\n  var filter = _ref.filter,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      setData = _ref.setData,\n      _ref$isNumeric = _ref.isNumeric,\n      isNumeric = _ref$isNumeric === void 0 ? true : _ref$isNumeric;\n  var values = filter.filter.values;\n\n  var _ref2 = filter.fieldInfo ? filter.fieldInfo : {\n    min: 0,\n    max: 100\n  },\n      min = _ref2.min,\n      max = _ref2.max;\n\n  var isFloatingPoint = isFloat(min) || isFloat(max);\n  return React.createElement(StyledInput, {\n    min: min,\n    max: max,\n    step: isFloatingPoint ? 0.1 : 1,\n    disabled: disabled,\n    value: values,\n    type: isNumeric ? \"number\" : \"text\",\n    name: \"filter-value-\".concat(filter.id),\n    onChange: function onChange(e) {\n      return setData(e.target.value, filter.id, TYPE_VALUE);\n    }\n  });\n};\n\nexport default FilterValue;","import FilterValue from \"./component\";\nexport default FilterValue;","import FilterColumn from \"./component\";\nexport default FilterColumn;","import React from \"react\";\nimport Select from \"react-select\";\nimport { TYPE_COLUMNS } from \"../../const\";\n\nvar FilterColumn = function FilterColumn(_ref) {\n  var filter = _ref.filter,\n      _ref$setData = _ref.setData,\n      setData = _ref$setData === void 0 ? function () {} : _ref$setData,\n      _ref$optionData = _ref.optionData,\n      optionData = _ref$optionData === void 0 ? [] : _ref$optionData;\n\n  var handleChange = function handleChange(options) {\n    setData(options, filter.id, TYPE_COLUMNS);\n  };\n\n  var value = optionData.find(function (_ref2) {\n    var value = _ref2.value;\n    return value === filter.column;\n  });\n  return React.createElement(Select, {\n    value: value,\n    placeholder: \"Select Column\",\n    name: \"filter-column-\".concat(filter.id),\n    options: optionData,\n    onChange: handleChange\n  });\n};\n\nexport default FilterColumn;","import FilterStrings from \"./component\";\nexport default FilterStrings;","import React from \"react\";\nimport Select from \"react-select\";\nimport { TYPE_FILTER_ON_VALUES } from \"../../const\";\n\nvar FilterStrings = function FilterStrings(_ref) {\n  var filter = _ref.filter,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$setData = _ref.setData,\n      setData = _ref$setData === void 0 ? function () {} : _ref$setData,\n      _ref$optionData = _ref.optionData,\n      optionData = _ref$optionData === void 0 ? [] : _ref$optionData;\n  var value = filter.filter.values;\n\n  var handleChange = function handleChange(options) {\n    setData(options, filter.id, TYPE_FILTER_ON_VALUES);\n  };\n\n  return React.createElement(Select, {\n    isDisabled: disabled,\n    value: value ? value : null,\n    isMulti: true,\n    placeholder: \"Select \".concat(filter.column),\n    name: \"filter-string-values-\".concat(filter.id),\n    options: optionData,\n    onChange: handleChange\n  });\n};\n\nexport default FilterStrings;","import FilterIndicator from \"./component\";\nexport default FilterIndicator;","import React from \"react\";\nimport Select from \"react-select\";\nimport { TYPE_INDICATOR } from \"../../const\";\n\nvar FilterIndicator = function FilterIndicator(_ref) {\n  var filter = _ref.filter,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$setData = _ref.setData,\n      setData = _ref$setData === void 0 ? function () {} : _ref$setData,\n      _ref$optionData = _ref.optionData,\n      optionData = _ref$optionData === void 0 ? [] : _ref$optionData;\n  var value = filter.indicator === \"string\" ? filter.filter.values : optionData.find(function (o) {\n    return o.value === filter.indicator;\n  });\n\n  var handleChange = function handleChange(options) {\n    setData(options, filter.id, TYPE_INDICATOR);\n  };\n\n  return React.createElement(Select, {\n    isDisabled: disabled,\n    value: value ? value : null,\n    isMulti: filter.indicator === \"string\",\n    placeholder: filter.indicator === \"string\" ? \"Select \".concat(filter.column) : \"Select Indicator\",\n    name: \"filter-indicator-\".concat(filter.id),\n    options: optionData,\n    onChange: handleChange\n  });\n};\n\nexport default FilterIndicator;","import styled from \"styled-components\";\nexport var StyledAddSection = styled.div.withConfig({\n  displayName: \"style__StyledAddSection\",\n  componentId: \"e43ipm-0\"\n})([\"position:absolute;top:-40px;right:0;\"]);","import AddSection from \"./component\";\nexport default AddSection;","import React, { useState, useRef, useEffect } from \"react\";\nimport Button from \"../../../button\";\nimport { StyledAddSection } from \"./style\";\n\nvar AddSection = function AddSection(_ref) {\n  var addFilter = _ref.addFilter;\n  return React.createElement(StyledAddSection, null, React.createElement(Button, {\n    size: \"small\",\n    onClick: function onClick() {\n      return addFilter();\n    }\n  }, \"Add Filter\"));\n};\n\nexport default AddSection;","import styled from \"styled-components\";\nexport var StyledFilterBox = styled.div.withConfig({\n  displayName: \"style__StyledFilterBox\",\n  componentId: \"wriuir-0\"\n})([\"position:relative;\"]);\nexport var StyledEmpty = styled.div.withConfig({\n  displayName: \"style__StyledEmpty\",\n  componentId: \"wriuir-1\"\n})([\"max-width:300px;margin:0 auto;display:flex;align-items:center;justify-content:center;text-align:center;\"]);\nexport var StyledFilterSection = styled.div.withConfig({\n  displayName: \"style__StyledFilterSection\",\n  componentId: \"wriuir-2\"\n})([\"padding:10px 0;position:relative;label{text-transform:capitalize;}\"]);\nexport var StyledFilter = styled.div.withConfig({\n  displayName: \"style__StyledFilter\",\n  componentId: \"wriuir-3\"\n})([\"padding:15px 0 0 20px;margin:0 0 0 10px;border-left:1px solid #d2d3d6;\"]);\nexport var StyledDeleteBox = styled.div.withConfig({\n  displayName: \"style__StyledDeleteBox\",\n  componentId: \"wriuir-4\"\n})([\"position:absolute;right:0;top:50%;transform:translate(-50px,-50%);button{font-size:12px;padding:7px 10px;border:none;font-weight:500;}\"]);","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nimport { FiltersService } from \"@packages/core\";\nimport InputGroup from \"../../styles-common/input-group\";\nimport Button from \"../button\";\nimport uniqueId from \"lodash/uniqueId\"; // FieldsService\n\nimport { DEFAULT_RANGE_FILTER, DEFAULT_VALUE_FILTER, TYPE_RANGE, TYPE_COLUMNS, TYPE_INDICATOR, TYPE_VALUE, COLUMN_FILTER_GROUP, TYPE_FILTER_ON_VALUES, FILTER_NUMBER_INDICATOR_TYPES, FILTER_STRING_INDICATOR_TYPES, STRING_TYPES, NUMBER_TYPES } from \"./const\";\nimport NotNullInput from \"./components/NotNullInput\";\nimport FilterRange from \"./components/FilterRange\";\nimport FilterValue from \"./components/FilterValue\";\nimport FilterColumn from \"./components/FilterColumn\";\nimport FilterStrings from \"./components/FilterStrings\";\nimport FilterIndicator from \"./components/FilterIndicator\";\nimport AddSection from \"./components/AddSection\";\nimport { StyledFilterBox, StyledEmpty, StyledFilterSection, StyledFilter, StyledDeleteBox } from \"./style\";\n\nvar Filter = function Filter(_ref) {\n  var setFilters = _ref.setFilters,\n      _ref$filters = _ref.filters,\n      filters = _ref$filters === void 0 ? [] : _ref$filters,\n      _ref$fields = _ref.fields,\n      fields = _ref$fields === void 0 ? [] : _ref$fields,\n      configuration = _ref.configuration,\n      datasetId = _ref.datasetId;\n  var availableColumns = fields.map(function (field) {\n    return {\n      label: field.metadata && field.metadata.alias ? field.metadata.alias : field.columnName.replace(/_/gi, \" \"),\n      value: field.columnName,\n      dataType: field.type\n    };\n  });\n\n  var setData =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(values, id, type) {\n      var patch;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return FiltersService.patchFilters(filters, {\n                values: values,\n                id: id,\n                type: type\n              }, configuration, datasetId, fields);\n\n            case 2:\n              patch = _context.sent;\n              setFilters({\n                list: patch\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function setData(_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var addFilter = function addFilter() {\n    setFilters({\n      list: [].concat(_toConsumableArray(filters), [_objectSpread({}, COLUMN_FILTER_GROUP, {\n        id: uniqueId(\"we-filter-\")\n      })])\n    });\n  };\n\n  var removeFilter = function removeFilter(id) {\n    var newFilters = filters.filter(function (f) {\n      return f.id !== id;\n    }) || [];\n    setFilters({\n      list: newFilters\n    });\n  };\n\n  return React.createElement(StyledFilterBox, null, React.createElement(AddSection, {\n    addFilter: addFilter\n  }), !filters.length && React.createElement(StyledEmpty, null, \"No filters found. Please, add them.\"), filters.map(function (filter) {\n    return React.createElement(StyledFilterSection, {\n      key: filter.id\n    }, React.createElement(InputGroup, {\n      noMargins: true\n    }, React.createElement(FilterColumn, {\n      filter: filter,\n      setData: setData,\n      optionData: availableColumns\n    }), React.createElement(StyledDeleteBox, null, React.createElement(Button, {\n      type: \"highlight\",\n      onClick: function onClick() {\n        return removeFilter(filter.id);\n      }\n    }, \"Delete\"))), filter.column !== null && React.createElement(StyledFilter, null, NUMBER_TYPES.indexOf(filter.indicator) > -1 && React.createElement(InputGroup, {\n      noMargins: filter.indicator === TYPE_RANGE\n    }, React.createElement(FilterIndicator, {\n      filter: filter,\n      disabled: filter.column === null,\n      setData: setData,\n      optionData: FILTER_NUMBER_INDICATOR_TYPES\n    })), STRING_TYPES.indexOf(filter.indicator) > -1 && React.createElement(InputGroup, null, React.createElement(FilterIndicator, {\n      filter: filter,\n      disabled: filter.column === null,\n      setData: setData,\n      optionData: FILTER_STRING_INDICATOR_TYPES\n    })), STRING_TYPES.indexOf(filter.indicator) > -1 && React.createElement(InputGroup, null, filter.indicator === TYPE_FILTER_ON_VALUES && React.createElement(FilterStrings, {\n      filter: filter,\n      setData: setData,\n      optionData: filter.fieldInfo\n    }), filter.indicator !== TYPE_FILTER_ON_VALUES && React.createElement(FilterValue, {\n      isNumeric: false,\n      filter: filter,\n      setData: setData\n    })), NUMBER_TYPES.indexOf(filter.indicator) > -1 && React.createElement(InputGroup, null, filter.indicator === TYPE_RANGE && React.createElement(FilterRange, {\n      disabled: filter.column === null,\n      filter: filter,\n      setData: setData\n    }), filter.indicator === TYPE_VALUE && React.createElement(FilterValue, {\n      disabled: filter.column === null,\n      filter: filter,\n      setData: setData\n    })), React.createElement(NotNullInput, {\n      filter: filter,\n      name: \"filter-not-null-\".concat(filter.id),\n      label: \"Not null values\",\n      setData: setData\n    })));\n  }));\n};\n\nexport default Filter;","import { connectState } from \"../../helpers/redux\";\nimport { setFilters } from \"../../modules/filters/actions\";\nimport FilterComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    configuration: state.configuration,\n    datasetId: state.editor.dataset.id,\n    filters: state.filters.list,\n    fields: state.editor.fields\n  };\n}, {\n  setFilters: setFilters\n})(FilterComponent);\nexport * from \"./component\";","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Accordion, AccordionSection } from \"../accordion\";\nimport { Tabs, Tab } from \"../tabs\";\nimport WidgetInfo from \"../widget-info\";\nimport OrderValues from \"../order-values\";\nimport TableView from \"../table-view\";\nimport JsonEditor from \"../json-editor\";\nimport Filter from \"../filter\";\nimport { FOOTER_HEIGHT, DEFAULT_BORDER } from \"../../style-constants\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"sc-1tx06u6-0\"\n})([\"flex:1;background:#fff;height:calc(100% - \", \" - 20px);padding:0 30px;margin:10px 0;overflow-y:scroll;\", \" \", \" \", \"\"], FOOTER_HEIGHT, DEFAULT_BORDER(1, 1, 1, 0), function (props) {\n  return props.compact.isCompact && css([\"visibility:hidden;max-height:0;position:absolute;top:65px;left:0;margin:0;width:100%;transition:all 0.3s ease-in-out;\"]);\n}, function (props) {\n  return props.compact.isCompact && props.compact.isOpen && css([\"box-sizing:border-box;display:block;z-index:auto;visibility:visible;max-height:calc(100% - \", \" - 65px);\"], FOOTER_HEIGHT);\n});\n\nvar EditorOptions = function EditorOptions(_ref) {\n  var orderBy = _ref.orderBy,\n      compact = _ref.compact;\n  return React.createElement(StyledContainer, {\n    compact: compact\n  }, React.createElement(Tabs, null, React.createElement(Tab, {\n    label: \"General\"\n  }, React.createElement(Accordion, null, React.createElement(AccordionSection, {\n    title: \"Description and labels\",\n    openDefault: true\n  }, React.createElement(WidgetInfo, null)), React.createElement(AccordionSection, {\n    title: \"Filters\"\n  }, React.createElement(Filter, null)), React.createElement(AccordionSection, {\n    title: \"Order\"\n  }, orderBy && React.createElement(OrderValues, null)))), React.createElement(Tab, {\n    label: \"Visual style\"\n  }, \"Visual style\"), React.createElement(Tab, {\n    label: \"Advanced\"\n  }, React.createElement(JsonEditor, null)), React.createElement(Tab, {\n    label: \"Table view\"\n  }, React.createElement(TableView, null))));\n};\n\nexport default EditorOptions;","import { connectState } from \"../../helpers/redux\";\nimport { patchConfiguration } from \"../../modules/configuration/actions\";\nimport EditorOptionsComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    limit: state.configuration.limit,\n    orderBy: state.configuration.orderBy,\n    compact: state.theme.compact\n  };\n}, {\n  patchConfiguration: patchConfiguration\n})(EditorOptionsComponent);","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nvar Icon = styled.svg.withConfig({\n  displayName: \"CloseIcon__Icon\",\n  componentId: \"xts4iy-0\"\n})([\"&:hover{path{fill:\", \";}}\"], function (props) {\n  return (props.hoverColor ? props.hoverColor : '#C32D7B') || 'auto';\n});\n\nvar CloseIcon = function CloseIcon(props) {\n  return React.createElement(Icon, _extends({}, props, {\n    viewBox: \"0 0 32 32\"\n  }), React.createElement(\"path\", {\n    d: \"M16 11.636l-11.636-11.636-4.364 4.364 11.636 11.636-11.636 11.636 4.364 4.364 11.636-11.636 11.636 11.636 4.364-4.364-11.636-11.636 11.636-11.636-4.364-4.364z\"\n  }));\n};\n\nexport default CloseIcon;","import styled from 'styled-components';\nexport var StyledModalBox = styled.div.withConfig({\n  displayName: \"style__StyledModalBox\",\n  componentId: \"sc-1ia4c7k-0\"\n})([\"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.3);transition:all .16s cubic-bezier(.47,0,.745,.715);z-index:\", \";visibility:\", \";opacity:\", \";display:flex;justify-content:center;align-items:center;\"], function (props) {\n  return props.isOpen ? 1100 : -1;\n}, function (props) {\n  return props.isOpen ? 'visible' : 'hidden';\n}, function (props) {\n  return props.isOpen ? 1 : 0;\n});\nexport var StyledModalContainer = styled.div.withConfig({\n  displayName: \"style__StyledModalContainer\",\n  componentId: \"sc-1ia4c7k-1\"\n})([\"-webkit-transition:-webkit-transform .24s cubic-bezier(.215,.61,.355,1);transition:-webkit-transform .24s cubic-bezier(.215,.61,.355,1);transition:transform .24s cubic-bezier(.215,.61,.355,1);transition:transform .24s cubic-bezier(.215,.61,.355,1),-webkit-transform .24s cubic-bezier(.215,.61,.355,1);-webkit-transform:translateY(0);transform:\", \";display:-webkit-box;display:flex;position:relative;width:calc(100% - 50px);max-width:880px;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.15);z-index:1;\"], function (props) {\n  return props.isOpen ? 'translateY(0)' : 'translateY(-35px)';\n});\nexport var StyledModalContent = styled.div.withConfig({\n  displayName: \"style__StyledModalContent\",\n  componentId: \"sc-1ia4c7k-2\"\n})([\"position:relative;width:100%;max-height:85vh;min-height:150px;overflow:auto;padding:72px;-webkit-overflow-scrolling:touch;box-shadow:0 7px 15px 0 rgba(0,0,0,.15);\"]);\nexport var StyledModalCloseBtn = styled.button.withConfig({\n  displayName: \"style__StyledModalCloseBtn\",\n  componentId: \"sc-1ia4c7k-3\"\n})([\"fill:#000;display:block;position:absolute;top:15px;right:15px;width:30px;height:30px;padding:0;border:0;background-color:transparent;cursor:pointer;z-index:2;outline:none;\"]);\nexport var StyledActions = styled.div.withConfig({\n  displayName: \"style__StyledActions\",\n  componentId: \"sc-1ia4c7k-4\"\n})([\"padding-top:60px;\"]);","import React from 'react';\nimport CloseIcon from \"../icons/CloseIcon\";\nimport Button from \"../button\";\nimport { StyledModalBox, StyledModalContainer, StyledModalContent, StyledModalCloseBtn, StyledActions } from \"./style\";\nexport var Modal = function Modal(_ref) {\n  var isOpen = _ref.isOpen,\n      closeModal = _ref.closeModal,\n      children = _ref.children;\n  return React.createElement(StyledModalBox, {\n    isOpen: isOpen\n  }, React.createElement(StyledModalContainer, {\n    isOpen: isOpen\n  }, React.createElement(StyledModalContent, null, React.createElement(StyledModalCloseBtn, {\n    onClick: function onClick() {\n      return closeModal();\n    }\n  }, React.createElement(CloseIcon, {\n    width: \"20px\",\n    height: \"20px\",\n    hoverColor: \"#C32D7B\"\n  })), children, React.createElement(StyledActions, null, React.createElement(Button, {\n    onClick: function onClick() {\n      return closeModal();\n    },\n    type: \"cta\"\n  }, \"Ok, got it!\")))));\n};","import _slicedToArray from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../button\";\nimport { Modal } from \"../modal\";\nimport { FOOTER_HEIGHT } from \"../../style-constants\";\nvar StyledFooter = styled.footer.withConfig({\n  displayName: \"component__StyledFooter\",\n  componentId: \"t079zl-0\"\n})([\"width:100%;height:\", \";align-self:flex-end;display:flex;align-items:center;justify-content:space-between;padding:0 30px;\"], FOOTER_HEIGHT);\n\nvar Footer = function Footer(_ref) {\n  var authenticated = _ref.authenticated,\n      onSave = _ref.onSave;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalOpen = _useState2[0],\n      setModalOpen = _useState2[1];\n\n  return React.createElement(StyledFooter, null, React.createElement(Modal, {\n    isOpen: modalOpen,\n    closeModal: function closeModal() {\n      return setModalOpen(false);\n    }\n  }, React.createElement(\"h2\", null, \"How to customize the visualization\")), React.createElement(Button, {\n    onClick: function onClick() {\n      return setModalOpen(true);\n    },\n    type: \"highlight\"\n  }, \"Need help?\"), authenticated && React.createElement(Button, {\n    type: \"cta\",\n    onClick: onSave\n  }, \"Save widget\"));\n};\n\nexport default Footer;","import { connectState } from \"../../helpers/redux\"; // Components\n\nimport FooterComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    authenticated: state.editor.authenticated\n  };\n})(FooterComponent);","import styled, { css } from \"styled-components\";\nimport { FOOTER_HEIGHT } from \"../../style-constants\";\nexport var StyledContainer = styled.div.withConfig({\n  displayName: \"style__StyledContainer\",\n  componentId: \"sc-1testk7-0\"\n})([\"width:100%;\", \"\"], function (props) {\n  return props.isCompact ? css([\"box-sizing:border-box;position:relative;max-width:600px;margin:0 auto;height:calc(100% - \", \");\"], FOOTER_HEIGHT) : css([\"height:100%;display:flex;flex-flow:wrap;justify-content:space-between;flex-flow:column;@media only screen and (min-width:768px){flex-flow:wrap;}\"]);\n});","import _classCallCheck from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from \"react\";\nimport isEqual from \"lodash/isEqual\";\nimport debounce from \"lodash/debounce\";\nimport Renderer from \"../renderer\";\nimport EditorOptions from \"../editor-options\";\nimport Footer from \"../footer\";\nimport { DataService } from \"@packages/core\";\nimport { constants } from \"@packages/core\";\nimport { StyledContainer } from \"./style\";\n\nvar Editor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Editor, _React$Component);\n\n  function Editor(props) {\n    var _this;\n\n    _classCallCheck(this, Editor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editor).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"resolveAuthentication\", debounce(function (authenticated) {\n      var setEditor = _this.props.setEditor;\n      setEditor({\n        authenticated: authenticated\n      });\n    }, 1000));\n\n    _defineProperty(_assertThisInitialized(_this), \"initializeRestoration\", debounce(function (datasetId) {\n      _this.dataService.restoreEditor(datasetId);\n    }, 1000));\n\n    _defineProperty(_assertThisInitialized(_this), \"resolveTheme\", debounce(function (theme) {\n      var setTheme = _this.props.setTheme;\n      setTheme(theme);\n    }, 1000));\n\n    var _this$props = _this.props,\n        _datasetId = _this$props.datasetId,\n        adapter = _this$props.adapter,\n        _setEditor = _this$props.setEditor,\n        dispatch = _this$props.dispatch,\n        _theme = _this$props.theme;\n    _this.onSave = _this.onSave.bind(_assertThisInitialized(_this));\n    _this.dataService = new DataService(_datasetId, adapter, _setEditor, dispatch);\n\n    _this.dataService.resolveInitialState();\n\n    _this.resolveTheme(_theme);\n\n    return _this;\n  }\n\n  _createClass(Editor, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var authenticated = this.props.authenticated;\n\n      if (authenticated) {\n        this.resolveAuthentication();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevDatasetId = prevProps.datasetId,\n          prevTheme = prevProps.theme,\n          prevAuthenticated = prevProps.authenticated;\n      var _this$props2 = this.props,\n          datasetId = _this$props2.datasetId,\n          theme = _this$props2.theme,\n          authenticated = _this$props2.authenticated; // When datasetId changes, we need to restore the editor itself\n\n      if (!isEqual(datasetId, prevDatasetId)) {\n        this.initializeRestoration(datasetId);\n      }\n\n      if (!isEqual(theme, prevTheme)) {\n        this.resolveTheme(theme);\n      }\n\n      if (!isEqual(authenticated, prevAuthenticated)) {\n        this.resolveAuthentication(authenticated);\n      }\n    } // We debounce all properties here\n    // Then we dont have to care if debouncing is set on the client\n\n  }, {\n    key: \"onSave\",\n    value: function onSave() {\n      var _this$props3 = this.props,\n          onSave = _this$props3.onSave,\n          dispatch = _this$props3.dispatch,\n          configuration = _this$props3.configuration,\n          widget = _this$props3.widget;\n\n      if (typeof onSave === \"function\") {\n        onSave(this.dataService.resolveUpdates(configuration, widget));\n      }\n\n      dispatch({\n        type: constants.sagaEvents.EDITOR_SAVE\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          configuration = _this$props4.configuration,\n          compact = _this$props4.theme.compact;\n      return React.createElement(StyledContainer, compact, React.createElement(Renderer, null), configuration.limit && React.createElement(EditorOptions, null), React.createElement(Footer, {\n        onSave: this.onSave\n      }));\n    }\n  }]);\n\n  return Editor;\n}(React.Component);\n\nexport default Editor;","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _actions$setConfigura;\n\nimport * as actions from \"./actions\";\nexport default (_actions$setConfigura = {}, _defineProperty(_actions$setConfigura, actions.setConfiguration, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n}), _defineProperty(_actions$setConfigura, actions.patchConfiguration, function (state, _ref2) {\n  var payload = _ref2.payload;\n  return _objectSpread({}, state, {}, payload);\n}), _actions$setConfigura);","import { connectState } from \"../../helpers/redux\";\nimport { setEditor as _setEditor } from \"../../modules/editor/actions\";\nimport { setTheme as _setTheme } from \"../../modules/theme/actions\"; // Components\n\nimport EditorComponent from \"./component\";\nexport default connectState(function (state) {\n  return {\n    editor: state.editor,\n    configuration: state.configuration,\n    widget: state.widget\n  };\n}, function (dispatch) {\n  return {\n    dispatch: dispatch,\n    setEditor: function setEditor(data) {\n      return dispatch(_setEditor(data));\n    },\n    setTheme: function setTheme(data) {\n      return dispatch(_setTheme(data));\n    }\n  };\n})(EditorComponent);","import WidgetEditorComponent from \"./component\";\nexport default WidgetEditorComponent;","import _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React from \"react\";\nimport Editor from \"../editor\";\n\nvar WidgetEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(WidgetEditor, _React$Component);\n\n  function WidgetEditor() {\n    _classCallCheck(this, WidgetEditor);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(WidgetEditor).apply(this, arguments));\n  }\n\n  _createClass(WidgetEditor, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          authenticated = _this$props.authenticated,\n          onSave = _this$props.onSave,\n          datasetId = _this$props.datasetId,\n          adapter = _this$props.adapter,\n          theme = _this$props.theme,\n          _this$props$compact = _this$props.compact,\n          compact = _this$props$compact === void 0 ? true : _this$props$compact;\n\n      if (typeof adapter !== \"function\") {\n        throw new Error(\"Widget editor: Missing prop adapter and adapter needs to be of type Adapter\");\n      }\n\n      return React.createElement(Editor, {\n        authenticated: authenticated,\n        onSave: onSave,\n        datasetId: datasetId,\n        adapter: new adapter(),\n        theme: _objectSpread({}, theme, {\n          compact: {\n            isCompact: compact,\n            isOpen: false\n          }\n        })\n      });\n    }\n  }]);\n\n  return WidgetEditor;\n}(React.Component);\n\nexport default WidgetEditor;","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as actions from \"./actions\";\nexport default _defineProperty({}, actions.setEditor, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n});","export default {\n  authenticated: false,\n  restoring: false,\n  initialized: false,\n  dataset: null,\n  widget: null,\n  widgetData: null,\n  errors: null\n};","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as actions from \"./actions\";\nexport default _defineProperty({}, actions.setTheme, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n});","export default {\n  compact: {\n    isCompact: false,\n    isOpen: false\n  },\n  color: \"#C32D7B\",\n  slider: {\n    track: \"#a3daf3\",\n    trackBackground: \"#f5f5f5\"\n  }\n};","import { createAction } from \"../../helpers/redux\";\nexport var setWidget = createAction(\"WIDGET/setWidget\");\nexport default {\n  setWidget: setWidget\n};","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as actions from \"./actions\";\nexport default _defineProperty({}, actions.setWidget, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n});","export default {};","export default {\n  title: \"\",\n  caption: \"\",\n  visualizationType: \"chart\",\n  chartType: \"pie\",\n  availableCharts: [{\n    value: \"pie\",\n    label: \"pie\"\n  }, {\n    value: \"bar\",\n    label: \"Bars\"\n  }, {\n    value: \"line\",\n    label: \"Line\"\n  }, {\n    value: \"scatter\",\n    label: \"Scatter\"\n  }]\n};","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as actions from \"./actions\";\nexport default _defineProperty({}, actions.setFilters, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n});","export default {\n  list: []\n};","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { combineReducers } from \"redux\";\nimport { handleModule } from \"vizzuality-redux-tools\";\nimport { constants } from \"@packages/core\";\nimport * as editor from \"./editor\";\nimport * as theme from \"./theme\";\nimport * as widget from \"./widget\";\nimport * as configuration from \"./configuration\";\nimport * as filters from \"./filters\";\nvar modules = {\n  configuration: handleModule(configuration),\n  editor: handleModule(editor),\n  theme: handleModule(theme),\n  filters: handleModule(filters),\n  widget: handleModule(widget)\n};\nexport default _defineProperty({}, constants.APP_NAMESPACE, combineReducers(modules));","import createSagaMiddleware from \"redux-saga\";\nvar sagaMiddleware = createSagaMiddleware();\nexport default sagaMiddleware;","import _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(preloadData),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(baseSaga);\n\nimport { takeLatest, put, select } from \"redux-saga/effects\";\nimport { getAction } from \"../../helpers/redux\";\nimport { constants } from \"@packages/core\";\nimport { setConfiguration } from \"../../modules/configuration/actions\";\n\nfunction preloadData() {\n  var _ref, _ref$widgetEditor$edi, name, description, widgetConfig, configuration;\n\n  return _regeneratorRuntime.wrap(function preloadData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return select();\n\n        case 2:\n          _ref = _context.sent;\n          _ref$widgetEditor$edi = _ref.widgetEditor.editor.widget.attributes;\n          name = _ref$widgetEditor$edi.name;\n          description = _ref$widgetEditor$edi.description;\n          widgetConfig = _ref$widgetEditor$edi.widgetConfig;\n          configuration = _objectSpread({}, widgetConfig.paramsConfig, {\n            title: name,\n            caption: description\n          });\n          _context.next = 10;\n          return put(setConfiguration(configuration));\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nexport default function baseSaga() {\n  return _regeneratorRuntime.wrap(function baseSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(constants.sagaEvents.DATA_FLOW_DATASET_WIDGET_READY, preloadData);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}","import _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(preloadData),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(resolveWithProxy),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(updateWidget),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(baseSaga);\n\nimport { takeLatest, put, call, select } from \"redux-saga/effects\";\nimport { getAction } from \"../../helpers/redux\";\nimport { VegaService, StateProxy } from \"@packages/core\";\nimport { constants } from \"@packages/core\";\nimport { setEditor } from \"../../modules/editor/actions\";\nimport { setWidget } from \"../../modules/widget/actions\";\nvar stateProxy = new StateProxy();\n\nfunction preloadData() {\n  var _ref, _ref$widgetEditor, editor, configuration, widgetData, widgetConfig, vega;\n\n  return _regeneratorRuntime.wrap(function preloadData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return select();\n\n        case 2:\n          _ref = _context.sent;\n          _ref$widgetEditor = _ref.widgetEditor;\n          editor = _ref$widgetEditor.editor;\n          configuration = _ref$widgetEditor.configuration;\n          widgetData = editor.widgetData;\n          widgetConfig = editor.widget.attributes.widgetConfig;\n          vega = new VegaService(widgetConfig, widgetData, configuration);\n          _context.next = 11;\n          return put(setWidget(vega.getChart()));\n\n        case 11:\n          stateProxy.cacheCurrent(configuration);\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction resolveWithProxy() {\n  var _ref2, _ref2$widgetEditor, configuration, editor, proxyResult;\n\n  return _regeneratorRuntime.wrap(function resolveWithProxy$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return select();\n\n        case 2:\n          _ref2 = _context2.sent;\n          _ref2$widgetEditor = _ref2.widgetEditor;\n          configuration = _ref2$widgetEditor.configuration;\n          editor = _ref2$widgetEditor.editor;\n          _context2.next = 8;\n          return call([stateProxy, \"sync\"], configuration, editor.dataset.id);\n\n        case 8:\n          proxyResult = _context2.sent;\n\n          if (!proxyResult.hasUpdates) {\n            _context2.next = 17;\n            break;\n          }\n\n          if (!proxyResult.widgetData) {\n            _context2.next = 15;\n            break;\n          }\n\n          _context2.next = 13;\n          return put(setEditor({\n            widgetData: proxyResult.widgetData\n          }));\n\n        case 13:\n          _context2.next = 15;\n          return call(updateWidget);\n\n        case 15:\n          _context2.next = 17;\n          return takeLatest(constants.sagaEvents.DATA_FLOW_PROXY_UPDATE, updateWidget);\n\n        case 17:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction updateWidget() {\n  var _ref3, _ref3$widgetEditor, editor, configuration, widgetData, widgetConfig, vega;\n\n  return _regeneratorRuntime.wrap(function updateWidget$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return select();\n\n        case 2:\n          _ref3 = _context3.sent;\n          _ref3$widgetEditor = _ref3.widgetEditor;\n          editor = _ref3$widgetEditor.editor;\n          configuration = _ref3$widgetEditor.configuration;\n          widgetData = editor.widgetData;\n          widgetConfig = editor.widget.attributes.widgetConfig;\n          vega = new VegaService(widgetConfig, widgetData, configuration);\n          _context3.next = 11;\n          return put(setWidget(vega.getChart()));\n\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}\n\nexport default function baseSaga() {\n  return _regeneratorRuntime.wrap(function baseSaga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(constants.sagaEvents.DATA_FLOW_VISUALISATION_READY, preloadData);\n\n        case 2:\n          _context4.next = 4;\n          return takeLatest(getAction(\"CONFIGURATION/patchConfiguration\"), resolveWithProxy);\n\n        case 4:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n} // SELECT primary_fuel as x, SUM(estimated_generation_gwh) as y FROM powerwatch_data_20180102 GROUP BY x ORDER BY y desc LIMIT 2\n// SELECT primary_fuel as x, SUM(estimated_generation_gwh) as y FROM powerwatch_data_20180102 GROUP BY x ORDER BY y desc LIMIT 2","import _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(root);\n\nimport { all, fork } from \"redux-saga/effects\";\nimport editor from \"./editor\";\nimport widget from \"./widget\";\nexport default function root() {\n  return _regeneratorRuntime.wrap(function root$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return all([fork(editor), fork(widget)]);\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}","import WidgetEditor from \"./components/widget-editor\";\nexport { default as reducers } from \"./modules\";\nexport { default as middleware } from \"./middleware\";\nexport { default as sagas } from \"./sagas\";\nexport default WidgetEditor;","import { createAction } from \"vizzuality-redux-tools\";\n\nexport const modifyOptions = createAction(\"PLAYGROUND/modifyOptions\");\n\nexport default {\n  modifyOptions\n};\n","import * as actions from \"./actions\";\n\nexport default {\n  [actions.modifyOptions]: (state, { payload }) => ({\n    ...state,\n    ...payload\n  })\n};\n","export default {\n  authToken: \"\",\n  optionsOpen: false,\n  compactMode: false,\n  theme: { color: \"#C32D7B\" },\n  dataset: \"03bfb30e-829f-4299-bab9-b2be1b66b5d4\"\n};\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport {\n  reducers,\n  middleware as WEmiddleware,\n  sagas\n} from \"@packages/widget-editor\";\n\nimport thunk from \"redux-thunk\";\n\n// import sagas from \"sagas\";\n\n// New modules\nimport { handleModule } from \"vizzuality-redux-tools\";\n\n// Modules\nimport * as editorOptions from \"modules/editor-options\";\n\nconst initStore = (initialState = {}) => {\n  const appReducers = combineReducers({\n    editorOptions: handleModule(editorOptions),\n    ...reducers\n  });\n\n  const middlewares = applyMiddleware(thunk, WEmiddleware);\n  const enhancers = composeWithDevTools(middlewares);\n\n  // create store\n  const store = createStore(appReducers, initialState, enhancers);\n\n  WEmiddleware.run(sagas);\n\n  return { store };\n};\n\nexport default initStore;\n","import React from \"react\";\n\nimport RwAdapter from \"@packages/rw-adapter\";\nimport WidgetEditor from \"@packages/widget-editor\";\n\nclass Editor extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  handleOnSave(diff) {\n    console.log(\"on save called from consumer with:\");\n    console.log(diff);\n  }\n\n  render() {\n    const {\n      editorOptions: { compactMode, authToken, dataset, theme }\n    } = this.props;\n\n    const authenticated = !!authToken && authToken.length > 0;\n\n    return (\n      <div className=\"widget-editor-wrapper\">\n        <WidgetEditor\n          compact={compactMode}\n          datasetId={dataset}\n          onSave={this.handleOnSave}\n          authenticated={authenticated}\n          adapter={RwAdapter}\n          theme={theme}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Editor;\n","import { connect } from \"react-redux\";\n\nimport EditorComponent from \"./component\";\n\nexport default connect(\n  state => ({\n    editorOptions: state.editorOptions\n  }),\n  {}\n)(EditorComponent);\n","import React, { Fragment } from \"react\";\n\nimport \"./styles.css\";\n\nclass EditorOptions extends React.Component {\n  render() {\n    const {\n      editorOptions: { compactMode, authToken, dataset, optionsOpen, theme },\n      modifyOptions\n    } = this.props;\n\n    const clx = `c-playground-options ${optionsOpen ? \"-open\" : \"\"}`;\n\n    return (\n      <div className={clx}>\n        <h4>Widget editor options</h4>\n        <label htmlFor=\"token\">Auth token</label>\n        <input\n          id=\"token\"\n          type=\"text\"\n          placeholder=\"Bearer token\"\n          value={authToken}\n          onChange={e => modifyOptions({ authToken: e.target.value })}\n        />\n        <label htmlFor=\"dataset\">Active Dataset</label>\n        <select\n          id=\"dataset\"\n          value={dataset}\n          onChange={e => modifyOptions({ dataset: e.target.value })}\n        >\n          <option value=\"03bfb30e-829f-4299-bab9-b2be1b66b5d4\">\n            Forest Sector Economic Contribution\n          </option>\n          <option value=\"d446a52e-c4c1-4e74-ae30-3204620a0365\">\n            Access to Electricity\n          </option>\n          <option value=\"20cc5eca-8c63-4c41-8e8e-134dcf1e6d76\">Fires</option>\n          <option value=\"a86d906d-9862-4783-9e30-cdb68cd808b8\">\n            Global Power Plant Database\n          </option>\n          <option value=\"1bc94710-d7ec-46f9-aa27-edddd87b1625\">\n            Cold Water Corals\n          </option>\n        </select>\n\n        <label htmlFor=\"editor-compact-mode\">Toggle Compact mode</label>\n        <button onClick={() => modifyOptions({ compactMode: !compactMode })}>\n          {compactMode ? \"Set Default mode\" : \"Set Compact mode\"}\n        </button>\n\n        <label htmlFor=\"theme-color\">\n          <span\n            className=\"color-presentation\"\n            style={{ background: theme.color }}\n          />{\" \"}\n          THEME - Color\n        </label>\n        <input\n          id=\"theme-color\"\n          type=\"text\"\n          placeholder=\"#00000\"\n          value={theme.color}\n          onChange={e =>\n            modifyOptions({ theme: { ...theme, color: e.target.value } })\n          }\n        />\n      </div>\n    );\n  }\n}\n\nexport default EditorOptions;\n","import { connect } from \"react-redux\";\n\nimport EditorOptionsComponent from \"./component\";\n\nimport { modifyOptions } from \"modules/editor-options/actions\";\n\nexport default connect(\n  state => ({\n    editorOptions: state.editorOptions\n  }),\n  { modifyOptions }\n)(EditorOptionsComponent);\n","import React from \"react\";\n\nconst ToggleOptions = ({ optionsActive, modifyOptions }) => {\n  return (\n    <button onClick={() => modifyOptions({ optionsOpen: !optionsActive })}>\n      {optionsActive ? \"Close options\" : \"View options\"}\n    </button>\n  );\n};\n\nexport default ToggleOptions;\n","import { connect } from \"react-redux\";\n\nimport ToggleOptionsComponent from \"./component\";\n\nimport { modifyOptions } from \"modules/editor-options/actions\";\n\nexport default connect(\n  state => ({\n    optionsActive: state.editorOptions.optionsOpen\n  }),\n  { modifyOptions }\n)(ToggleOptionsComponent);\n","import React, { useState } from \"react\";\nimport { Provider } from \"react-redux\";\n\nimport configureStore from \"store\";\n\nimport Editor from \"components/editor\";\nimport EditorOptions from \"components/editor-options\";\nimport ToggleOptions from \"components/toggle-options\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const { store } = configureStore();\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          Widget editor playground\n          <ToggleOptions />\n        </header>\n        <Editor />\n        <EditorOptions />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.defaultVegaSchema = function () {\n  return {\n    $schema: \"https://vega.github.io/schema/vega/v5.json\",\n    width: 100,\n    height: 100,\n    data: [],\n    legend: [],\n    config: [],\n    signals: [],\n    scales: [],\n    axes: [],\n    marks: [],\n    range: {\n      dotSize: [20, 250],\n      category20: [\"#3BB2D0\", \"#2C75B0\", \"#FAB72E\", \"#EF4848\", \"#65B60D\", \"#C32D7B\", \"#F577B9\", \"#5FD2B8\", \"#F1800F\", \"#9F1C00\", \"#A5E9E3\", \"#B9D765\", \"#393F44\", \"#CACCD0\", \"#717171\"],\n      ordinal: {\n        scheme: \"greens\"\n      },\n      ramp: {\n        scheme: \"purples\"\n      }\n    },\n    axis: {\n      labelFontSize: 13,\n      labelFont: \"Lato\",\n      labelColor: \"#717171\",\n      labelPadding: 10,\n      ticks: true,\n      tickSize: 8,\n      tickColor: \"#A9ABAD\",\n      tickOpacity: 0.5,\n      tickExtra: false\n    },\n    axisX: {\n      bandPosition: 0.5,\n      domainWidth: 1.2,\n      domainColor: \"#A9ABAD\",\n      labelAlign: \"center\",\n      labelBaseline: \"top\"\n    },\n    axisY: {\n      domain: false,\n      labelAlign: \"left\",\n      labelBaseline: \"bottom\",\n      tickOpacity: 0.5,\n      grid: true,\n      ticks: false,\n      gridColor: \"#A9ABAD\",\n      gridOpacity: 0.5\n    },\n    line: {\n      interpolate: \"linear\",\n      stroke: \"#3BB2D0\",\n      fillOpacity: 0\n    }\n  };\n};\n\nexports.sqlFields = {\n  value: \"x\",\n  category: \"y\"\n};\nexports.default = {\n  defaultVegaSchema: exports.defaultVegaSchema,\n  sqlFields: exports.sqlFields\n};","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar fields_1 = __importDefault(require(\"./fields\"));\n\nvar constants_1 = require(\"../helpers/wiget-helper/constants\");\n\nvar filters_1 = __importDefault(require(\"../helpers/filters\"));\n\nvar FiltersService =\n/*#__PURE__*/\nfunction () {\n  function FiltersService(data, datasetId) {\n    _classCallCheck(this, FiltersService);\n\n    this.configuration = data;\n    this.sql = \"\";\n    this.datasetId = datasetId;\n    this.prepareSelectStatement();\n    this.prepareAggregate();\n    this.prepareFilters();\n    this.prepareGroupBy();\n    this.prepareOrderBy();\n    this.prepareOrder();\n    this.prepareLimit();\n  }\n\n  _createClass(FiltersService, [{\n    key: \"prepareSelectStatement\",\n    value: function prepareSelectStatement() {\n      var category = this.configuration.category;\n      this.sql = \"SELECT \".concat(category.name, \" as \").concat(constants_1.sqlFields.value);\n    }\n  }, {\n    key: \"resolveTableName\",\n    value: function resolveTableName() {\n      var _this$configuration = this.configuration,\n          value = _this$configuration.value,\n          category = _this$configuration.category;\n      var xTableName = value.tableName;\n      var yTableName = category.tableName;\n\n      if (!xTableName && !yTableName) {\n        throw new Error(\"Filters service: canot parse table name from value nor category.\");\n      }\n\n      return xTableName ? xTableName : yTableName;\n    }\n  }, {\n    key: \"prepareAggregate\",\n    value: function prepareAggregate() {\n      var _this$configuration2 = this.configuration,\n          aggregateFunction = _this$configuration2.aggregateFunction,\n          value = _this$configuration2.value;\n      var name = value.name;\n\n      if (!aggregateFunction) {\n        this.sql = \"\".concat(this.sql, \", \").concat(name, \" as \").concat(constants_1.sqlFields.category, \" FROM \").concat(this.resolveTableName());\n      } else {\n        var aggregation = aggregateFunction.toUpperCase();\n\n        if (aggregation === \"SUM\" || aggregation === \"COUNT\") {\n          this.sql = \"\".concat(this.sql, \", \").concat(aggregation, \"(\").concat(name, \") as \").concat(constants_1.sqlFields.category, \" FROM \").concat(this.resolveTableName());\n        } else {\n          throw new Error(\"Aggragate function (\".concat(aggregateFunction, \") not implemented in filter service.\"));\n        }\n      }\n    }\n  }, {\n    key: \"rangeCondition\",\n    value: function rangeCondition(condition, name, value, type) {\n      var range = condition;\n      value.forEach(function (v, index) {\n        var serializeValue = type === \"date\" ? \"'\".concat(v, \"'\") : v;\n        var statement = \"\";\n\n        if (index === 0) {\n          statement = \"\".concat(name, \" >= \").concat(serializeValue);\n        } else if (index === 1) {\n          statement = \"\".concat(statement, \" AND \").concat(name, \" <= \").concat(serializeValue);\n        }\n\n        range = \"\".concat(range, \" \").concat(statement);\n      });\n      return range;\n    }\n  }, {\n    key: \"prepareFilters\",\n    value: function prepareFilters() {\n      var _this = this;\n\n      var filters = this.configuration.filters;\n      var filtersQuery = \"WHERE\";\n\n      if (filters && Array.isArray(filters) && filters.length > 0) {\n        filters.forEach(function (_ref) {\n          var name = _ref.name,\n              value = _ref.value,\n              type = _ref.type;\n          var isRange = value && Array.isArray(value) && value.length === 2;\n\n          if (isRange) {\n            filtersQuery = _this.rangeCondition(filtersQuery, name, value, type);\n          } else {\n            throw new Error(\"Expected value range filter recived (\".concat(value.join(), \"), not yet implemented in filter service.\"));\n          }\n        });\n      }\n\n      this.sql = \"\".concat(this.sql, \" \").concat(filtersQuery);\n    }\n  }, {\n    key: \"prepareGroupBy\",\n    value: function prepareGroupBy() {\n      var _this$configuration3 = this.configuration,\n          groupBy = _this$configuration3.groupBy,\n          aggregateFunction = _this$configuration3.aggregateFunction;\n\n      if (groupBy) {\n        var name = groupBy.name;\n        this.sql = \"\".concat(this.sql, \" GROUP BY \").concat(name || constants_1.sqlFields.value);\n      } else if (aggregateFunction && aggregateFunction !== \"none\") {\n        this.sql = \"\".concat(this.sql, \" GROUP BY \").concat(constants_1.sqlFields.value);\n      }\n    }\n  }, {\n    key: \"prepareOrderBy\",\n    value: function prepareOrderBy() {\n      var orderBy = this.configuration.orderBy;\n\n      if (orderBy) {\n        var name = orderBy.name;\n        this.sql = \"\".concat(this.sql, \" ORDER BY \").concat(name || constants_1.sqlFields.category);\n      }\n    }\n  }, {\n    key: \"prepareOrder\",\n    value: function prepareOrder() {\n      var orderBy = this.configuration.orderBy;\n\n      if (orderBy) {\n        var orderType = orderBy.orderType;\n        this.sql = \"\".concat(this.sql, \" \").concat(orderType || \"desc\");\n      }\n    }\n  }, {\n    key: \"prepareLimit\",\n    value: function prepareLimit() {\n      var _this$configuration$l = this.configuration.limit,\n          limit = _this$configuration$l === void 0 ? 500 : _this$configuration$l;\n      this.sql = \"\".concat(this.sql, \" LIMIT \").concat(limit);\n    }\n  }, {\n    key: \"requestWidgetData\",\n    value: function requestWidgetData() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.datasetId) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Error, datasetId not present in Filters service.\");\n\n              case 2:\n                _context.next = 4;\n                return fetch(\"https://api.resourcewatch.org/v1/query/\".concat(this.datasetId, \"?sql=\").concat(this.sql));\n\n              case 4:\n                response = _context.sent;\n                _context.next = 7;\n                return response.json();\n\n              case 7:\n                data = _context.sent;\n                return _context.abrupt(\"return\", data);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }], [{\n    key: \"baseFilter\",\n    value: function baseFilter(values, name, type, index) {\n      return {\n        column: name,\n        indicator: Array.isArray(values) || values.length === 2 ? \"range\" : \"value\",\n        id: \"we-filter-\".concat(name, \"-\").concat(index),\n        dataType: type,\n        filter: {\n          values: values,\n          notNull: true\n        }\n      };\n    }\n  }, {\n    key: \"patchFilters\",\n    value: function patchFilters(filters, payload, configuration, datasetId, fields) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var values, id, type, fieldService, patch;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                values = payload.values, id = payload.id, type = payload.type;\n                fieldService = new fields_1.default(configuration, datasetId, fields);\n                _context2.next = 4;\n                return filters_1.default(filters, fieldService, payload);\n\n              case 4:\n                patch = _context2.sent;\n                return _context2.abrupt(\"return\", patch);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    }\n  }]);\n\n  return FiltersService;\n}();\n\nexports.default = FiltersService;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar capitalize_1 = __importDefault(require(\"../helpers/capitalize\"));\n\nvar FieldsService =\n/*#__PURE__*/\nfunction () {\n  function FieldsService(configuration, datasetId, fields) {\n    _classCallCheck(this, FieldsService);\n\n    this.NUMERIC_TYPE = \"number\";\n    this.COLUMN_TYPE = \"string\";\n    this.configuration = configuration;\n    this.datasetId = datasetId;\n    this.fields = fields;\n  }\n\n  _createClass(FieldsService, [{\n    key: \"query\",\n    value: function query(q) {\n      return fetch(\"https://api.resourcewatch.org/v1/query/\".concat(this.datasetId, \"?\").concat(q)).then(function (response) {\n        if (response.status >= 400) throw new Error(response.statusText);\n        return response.json();\n      }).then(function (jsonData) {\n        return jsonData.data;\n      });\n    }\n  }, {\n    key: \"getColumnMinAndMax\",\n    value: function getColumnMinAndMax(field) {\n      var columnName = field.columnName;\n      var tableName = this.configuration.value.tableName;\n      var query = \"SELECT MIN(\".concat(columnName, \") AS min, MAX(\").concat(columnName, \") AS max FROM \").concat(tableName);\n      return this.query(\"sql=\".concat(query)).then(function (data) {\n        return data ? data[0] : {};\n      });\n    }\n  }, {\n    key: \"getColumnValues\",\n    value: function getColumnValues(field) {\n      var uniq = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var columnName = field.columnName;\n      var tableName = this.configuration.value.tableName;\n      var uniqQueryPart = uniq ? \"GROUP BY \".concat(columnName) : \"\";\n      var query = \"SELECT \".concat(columnName, \" FROM \").concat(tableName, \" \").concat(uniqQueryPart, \" ORDER BY \").concat(columnName);\n      return this.query(\"sql=\".concat(query)).then(function (data) {\n        return (data || []).map(function (d) {\n          return d[columnName];\n        });\n      });\n    }\n  }, {\n    key: \"getFieldInfo\",\n    value: function getFieldInfo(field, column) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var selectedField, res, _res;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                selectedField = this.fields.find(function (f) {\n                  return f.columnName === column;\n                });\n\n                if (!(selectedField.type === this.NUMERIC_TYPE)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.getColumnMinAndMax(selectedField);\n\n              case 4:\n                res = _context.sent;\n                return _context.abrupt(\"return\", res);\n\n              case 6:\n                if (!(selectedField.type === this.COLUMN_TYPE)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _context.next = 9;\n                return this.getColumnValues(selectedField);\n\n              case 9:\n                _res = _context.sent;\n                return _context.abrupt(\"return\", _res.map(function (r) {\n                  return {\n                    value: r,\n                    label: capitalize_1.default(r)\n                  };\n                }));\n\n              case 11:\n                return _context.abrupt(\"return\", \"Hello world\");\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }]);\n\n  return FieldsService;\n}();\n\nexports.default = FieldsService;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.APP_NAMESPACE = \"widgetEditor\";\nexports.ALLOWED_FIELD_TYPES = [{\n  name: \"esriFieldTypeSmallInteger\",\n  type: \"number\",\n  provider: \"esri\"\n}, {\n  name: \"esriFieldTypeInteger\",\n  type: \"number\",\n  provider: \"esri\"\n}, {\n  name: \"esriFieldTypeSingle\",\n  type: \"number\",\n  provider: \"esri\"\n}, {\n  name: \"esriFieldTypeDouble\",\n  type: \"number\",\n  provider: \"esri\"\n}, {\n  name: \"numeric\",\n  type: \"number\",\n  provider: \"psql\"\n}, {\n  name: \"number\",\n  type: \"number\",\n  provider: \"carto\"\n}, {\n  name: \"int\",\n  type: \"number\",\n  provider: \"psql\"\n}, {\n  name: \"integer\",\n  type: \"number\",\n  provider: \"psql\"\n}, {\n  name: \"float\",\n  type: \"number\",\n  provider: \"sql\"\n}, {\n  name: \"long\",\n  type: \"number\",\n  provider: \"sql\"\n}, {\n  name: \"double\",\n  type: \"number\",\n  provider: \"sql\"\n}, {\n  name: \"real\",\n  type: \"number\",\n  provider: \"sql\"\n}, {\n  name: \"decimal\",\n  type: \"number\",\n  provider: \"sql\"\n}, {\n  name: \"string\",\n  type: \"string\",\n  provider: \"sql\"\n}, {\n  name: \"char\",\n  type: \"string\",\n  provider: \"sql\"\n}, {\n  name: \"varchar\",\n  type: \"string\",\n  provider: \"sql\"\n}, {\n  name: \"esriFieldTypeString\",\n  type: \"string\",\n  provider: \"esri\"\n}, {\n  name: \"text\",\n  type: \"string\",\n  provider: \"elastic\"\n}, {\n  name: \"esriFieldTypeDate\",\n  type: \"date\",\n  provider: \"esri\"\n}, {\n  name: \"date\",\n  type: \"date\",\n  provider: \"sql\"\n}, {\n  name: \"time\",\n  type: \"date\",\n  provider: \"sql\"\n}, {\n  name: \"timestamp\",\n  type: \"date\",\n  provider: \"sql\"\n}, {\n  name: \"interval\",\n  type: \"date\",\n  provider: \"sql\"\n}, {\n  name: \"boolean\",\n  type: \"boolean\",\n  provider: \"sql\"\n}, {\n  name: \"array\",\n  type: \"array\",\n  provider: \"sql\"\n}];\nexports.sagaEvents = {\n  DATA_FLOW_DATASET_WIDGET_READY: \"\".concat(exports.APP_NAMESPACE, \"/SAGAS/DATA_FLOW/dataset_widget_ready\"),\n  DATA_FLOW_DATA_READY: \"\".concat(exports.APP_NAMESPACE, \"/SAGAS/DATA_FLOW/data_ready\"),\n  DATA_FLOW_VISUALISATION_READY: \"\".concat(exports.APP_NAMESPACE, \"/SAGAS/DATA_FLOW/visualisation_ready\"),\n  DATA_FLOW_WIDGET_DATA_READY: \"\".concat(exports.APP_NAMESPACE, \"/SAGAS/DATA_FLOW/visualisation_ready\"),\n  DATA_FLOW_PROXY_UPDATE: \"\".concat(exports.APP_NAMESPACE, \"/SAGAS/DATA_FLOW/proxy_update\"),\n  EDITOR_SAVE: \"\".concat(exports.APP_NAMESPACE, \"/CONFIGURATION/saveConfiguration\")\n};\nexports.reduxActions = {\n  EDITOR_SET_CONFIGURATION: \"\".concat(exports.APP_NAMESPACE, \"/CONFIGURATION/setConfiguration\"),\n  EDITOR_SET_WIDGET: \"\".concat(exports.APP_NAMESPACE, \"/WIDGET/setWidget\"),\n  EDITOR_SET_FILTERS: \"\".concat(exports.APP_NAMESPACE, \"/EDITOR/setFilters\")\n};\nexports.default = {\n  APP_NAMESPACE: exports.APP_NAMESPACE,\n  sagaEvents: exports.sagaEvents,\n  reduxActions: exports.reduxActions\n};"],"sourceRoot":""}