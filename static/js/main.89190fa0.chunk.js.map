{"version":3,"sources":["../../../packages/rw-adapter/build/index.js","../../../packages/core/build/services/dataset.js","../../../packages/core/build/services/widget.js","../../../packages/core/build/helpers/wiget-helper/index.js","../../../packages/core/build/helpers/wiget-helper/widget-helper.js","../../../packages/core/build/charts/index.js","../../../packages/core/build/helpers/wiget-helper/constants.js","../../../packages/rw-adapter/build/helpers/config.js","../../../packages/widget-editor/lib/modules/editor/actions.js","../../../packages/widget-editor/lib/modules/theme/actions.js","../../../packages/widget-editor/lib/sagas/events.js","../../../packages/widget-editor/lib/components/chart/component.js","../../../packages/widget-editor/lib/components/chart/index.js","../../../packages/widget-editor/lib/modules/configuration/actions.js","../../../packages/widget-editor/lib/components/select-chart/component.js","../../../packages/widget-editor/lib/components/select-chart/index.js","../../../packages/widget-editor/lib/style-constants.js","../../../packages/widget-editor/lib/components/renderer/component.js","../../../packages/widget-editor/lib/components/renderer/index.js","../../../packages/widget-editor/lib/components/button/component.js","../../../packages/widget-editor/lib/components/button/index.js","../../../packages/widget-editor/lib/components/editor-options/component.js","../../../packages/widget-editor/lib/components/editor-options/index.js","../../../packages/widget-editor/lib/components/footer/component.js","../../../packages/widget-editor/lib/components/footer/index.js","../../../packages/widget-editor/lib/components/editor/component.js","../../../packages/widget-editor/lib/components/editor/index.js","../../../packages/widget-editor/lib/sagas/editor/index.js","../../../packages/widget-editor/lib/modules/widget/actions.js","../../../packages/widget-editor/lib/sagas/widget/index.js","../../../packages/widget-editor/lib/sagas/index.js","../../../packages/widget-editor/lib/modules/editor/reducers.js","../../../packages/widget-editor/lib/modules/editor/initial-state.js","../../../packages/widget-editor/lib/modules/theme/reducers.js","../../../packages/widget-editor/lib/modules/theme/initial-state.js","../../../packages/widget-editor/lib/modules/widget/reducers.js","../../../packages/widget-editor/lib/modules/configuration/reducers.js","../../../packages/widget-editor/lib/modules/widget/initial-state.js","../../../packages/widget-editor/lib/modules/configuration/initial-state.js","../../../packages/widget-editor/lib/store/index.js","../../../packages/widget-editor/lib/index.js","../../../packages/widget-editor/lib/components/widget-editor/component.js","App.js","serviceWorker.js","index.js","../../../packages/core/build/index.js","../../../packages/core/build/sql/getQueryByFilters.js"],"names":["_regeneratorRuntime","_classCallCheck","_createClass","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","core_1","config_1","RwAdapter","params","datasetId","endpoint","config","datasetService","widgetService","default","DatasetService","WidgetService","key","mark","_callee","_this$config$getConfi","applications","env","locale","url","_ref","dataset","wrap","_context","prev","getConfig","concat","join","fetchData","sent","data","abrupt","stop","_callee2","_ref2","fields","_context2","_callee3","_this$config$getConfi2","widgetId","_ref3","widget","_context3","fromDataset","id","fetchWidget","_callee4","sql","_ref4","_context4","getDataSqlQuery","fetchWidgetData","_callee5","_this$config$getConfi3","_ref5","_context5","response","fetch","status","Error","statusText","json","t0","lodash_1","getQueryByFilters_1","find","attributes","defaultEditableWidget","_dataset$attributes","provider","tableName","query","widget_helper_1","_toConsumableArray","charts_1","constants_1","WidgetHelper","widgetConfig","configuration","schema","defaultTemplate","defaultVegaSchema","_this$configuration","chartType","name","scale","scales","assign","type","domain","field","range","scheme","padding","round","nice","_this","_this$configuration2","marks","from","encode","enter","x","width","band","y","y2","update","fill","hover","map","legend","_this$configuration3","transform","t","values","_this$configuration4","axes","orient","setAxes","setScale","setMarks","setLegend","setConfig","setData","ChartService","console","log","$schema","height","signals","ConfigHelper","acceptedParams","pick","setEditor","setTheme","DATA_FLOW_DATASET_WIDGET_READY","DATA_FLOW_DATA_READY","DATA_FLOW_VISUALISATION_READY","DATA_FLOW_WIDGET_DATA_READY","StyledContainer","div","withConfig","displayName","componentId","editor","chart","vegaContainer","memoryStoreWidget","current","parentNode","offsetWidth","runtime","vega","initialize","renderer","run","handleResize","getBoundingClientRect","signal","window","addEventListener","removeEventListener","createElement","className","ref","state","setConfiguration","patchConfiguration","InputStyles","control","display","border","borderRadius","options","onChange","option","defaultValue","styles","availableCharts","DEFAULT_BORDER","top","arguments","length","undefined","right","bottom","left","StyledButton","button","props","color","_ref$type","theme","children","StyledList","ul","StyledListItem","li","StyledFooter","footer","_React$Component","Editor","call","getDatasetAndWidgets","getFieldsAndLayers","resolveTheme","prevProps","prevTheme","_this$props","dispatch","payload","_getDatasetAndWidgets","_this$props2","adapter","widgetData","getDataset","getWidget","getWidgetData","_getFieldsAndLayers","_this$props3","layers","getFields","getLayers","Component","_marked","preloadData","_marked2","baseSaga","paramsConfig","setWidget","updateWidget","_marked3","widgetHelper","vegaConfig","getVegaConfig","root","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","target","i","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","_actions$setConfigura","visualizationType","label","sagaMiddleware","initialState","reducers","middlewares","enhancers","store","error","App","useState","colorPickerActive","setColorPickerActive","includes","onClick","style","background","onChangeComplete","gp","hex","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","dataset_1","widget_1","wiget_helper_1","getQueryByFilters","filters","arrColumns","arrOrder","sortOrder","filtersQuery","whereClause","operation","notNull","_whereClause","_whereClause2","getSerializedValue","v","split","columns","column","res","aggregateFunction","toUpperCase","as","orderBy","orders","order","where","groupingColumns","col","group","groupBy","val","slice","encodeURIComponent"],"mappings":"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","file":"static/js/main.89190fa0.chunk.js","sourcesContent":["\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@packages/core\");\n\nvar config_1 = __importDefault(require(\"./helpers/config\"));\n\nvar RwAdapter =\n/*#__PURE__*/\nfunction () {\n  function RwAdapter(params, datasetId) {\n    _classCallCheck(this, RwAdapter);\n\n    this.endpoint = \"https://api.resourcewatch.org/v1\";\n    this.config = null;\n    this.datasetService = null;\n    this.widgetService = null;\n    this.datasetId = null;\n    this.config = config_1.default(params);\n    this.datasetId = datasetId;\n    this.datasetService = new core_1.DatasetService(this.config);\n    this.widgetService = new core_1.WidgetService(this.config);\n  }\n\n  _createClass(RwAdapter, [{\n    key: \"getDataset\",\n    value: function getDataset() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this$config$getConfi, applications, env, locale, includes, url, _ref, dataset;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$config$getConfi = this.config.getConfig(), applications = _this$config$getConfi.applications, env = _this$config$getConfi.env, locale = _this$config$getConfi.locale;\n                includes = \"metadata,vocabulary,widget,layer\";\n                url = \"\".concat(this.endpoint, \"/dataset/\").concat(this.datasetId, \"?\").concat(applications.join(\",\"), \"&env=\").concat(env, \"&language=\").concat(locale, \"&includes=\").concat(includes, \"&page[size]=999\");\n                _context.next = 5;\n                return this.datasetService.fetchData(url);\n\n              case 5:\n                _ref = _context.sent;\n                dataset = _ref.data;\n                return _context.abrupt(\"return\", dataset);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getFields\",\n    value: function getFields() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var url, _ref2, fields;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                url = \"\".concat(this.endpoint, \"/fields/\").concat(this.datasetId);\n                _context2.next = 3;\n                return this.datasetService.fetchData(url);\n\n              case 3:\n                _ref2 = _context2.sent;\n                fields = _ref2.fields;\n                return _context2.abrupt(\"return\", fields);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"getWidget\",\n    value: function getWidget(datasetId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var _this$config$getConfi2, applications, env, locale, includes, widgetId, url, _ref3, widget;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this$config$getConfi2 = this.config.getConfig(), applications = _this$config$getConfi2.applications, env = _this$config$getConfi2.env, locale = _this$config$getConfi2.locale;\n                includes = \"metadata\";\n                widgetId = this.widgetService.fromDataset(datasetId).id;\n                url = \"\".concat(this.endpoint, \"/widget/\").concat(widgetId, \"?\").concat(applications.join(\",\"), \"&env=\").concat(env, \"&language=\").concat(locale, \"&includes=\").concat(includes, \"&page[size]=999\");\n                _context3.next = 6;\n                return this.widgetService.fetchWidget(url);\n\n              case 6:\n                _ref3 = _context3.sent;\n                widget = _ref3.data;\n                return _context3.abrupt(\"return\", widget);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"getWidgetData\",\n    value: function getWidgetData(dataset, widget) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var sql, url, _ref4, data;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                sql = this.widgetService.getDataSqlQuery(dataset, widget);\n                url = \"\".concat(this.endpoint, \"/query/\").concat(this.datasetId, \"?sql=\").concat(sql);\n                _context4.next = 4;\n                return this.widgetService.fetchWidgetData(url);\n\n              case 4:\n                _ref4 = _context4.sent;\n                data = _ref4.data;\n                return _context4.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"getLayers\",\n    value: function getLayers() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var _this$config$getConfi3, applications, env, locale, url, _ref5, data;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$config$getConfi3 = this.config.getConfig(), applications = _this$config$getConfi3.applications, env = _this$config$getConfi3.env, locale = _this$config$getConfi3.locale;\n                url = \"\".concat(this.endpoint, \"/dataset/\").concat(this.datasetId, \"/layer?app=\").concat(applications.join(\",\"), \"&env=\").concat(env, \"&page[size]=9999\");\n                _context5.next = 4;\n                return this.datasetService.fetchData(url);\n\n              case 4:\n                _ref5 = _context5.sent;\n                data = _ref5.data;\n                return _context5.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }]);\n\n  return RwAdapter;\n}();\n\nexports.default = RwAdapter;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar DatasetService =\n/*#__PURE__*/\nfunction () {\n  function DatasetService(config) {\n    _classCallCheck(this, DatasetService);\n\n    this.config = config;\n  }\n\n  _createClass(DatasetService, [{\n    key: \"fetchData\",\n    value: function fetchData(url) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(url);\n\n              case 3:\n                response = _context.sent;\n\n                if (!(response.status >= 400)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw new Error(response.statusText);\n\n              case 6:\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                throw new Error(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 11]]);\n      }));\n    }\n  }]);\n\n  return DatasetService;\n}();\n\nexports.default = DatasetService;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar lodash_1 = require(\"lodash\");\n\nvar getQueryByFilters_1 = __importDefault(require(\"../sql/getQueryByFilters\"));\n\nvar WidgetService =\n/*#__PURE__*/\nfunction () {\n  function WidgetService(config) {\n    _classCallCheck(this, WidgetService);\n\n    this.config = config;\n  }\n\n  _createClass(WidgetService, [{\n    key: \"fromDataset\",\n    value: function fromDataset(dataset) {\n      return lodash_1.find(dataset.attributes.widget, function (widget) {\n        return !!widget.attributes.defaultEditableWidget;\n      });\n    }\n  }, {\n    key: \"getDataSqlQuery\",\n    value: function getDataSqlQuery(dataset, widget) {\n      var _dataset$attributes = dataset.attributes,\n          provider = _dataset$attributes.provider,\n          tableName = _dataset$attributes.tableName;\n      var query = getQueryByFilters_1.default(tableName, provider);\n      return \"\".concat(query, \" LIMIT 10\");\n    }\n  }, {\n    key: \"fetchWidgetData\",\n    value: function fetchWidgetData(url) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(url);\n\n              case 3:\n                response = _context.sent;\n\n                if (!(response.status >= 400)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw new Error(response.statusText);\n\n              case 6:\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                throw new Error(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 11]]);\n      }));\n    }\n  }, {\n    key: \"fetchWidget\",\n    value: function fetchWidget(url) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return fetch(url);\n\n              case 3:\n                response = _context2.sent;\n\n                if (!(response.status >= 400)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                throw new Error(response.statusText);\n\n              case 6:\n                _context2.next = 8;\n                return response.json();\n\n              case 8:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](0);\n                throw new Error(_context2.t0);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 11]]);\n      }));\n    }\n  }]);\n\n  return WidgetService;\n}();\n\nexports.default = WidgetService;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar widget_helper_1 = __importDefault(require(\"./widget-helper\"));\n\nexports.default = widget_helper_1.default;","\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar charts_1 = __importDefault(require(\"../../charts\"));\n\nvar constants_1 = require(\"./constants\");\n\nvar WidgetHelper =\n/*#__PURE__*/\nfunction () {\n  function WidgetHelper(widgetConfig, data, configuration) {\n    _classCallCheck(this, WidgetHelper);\n\n    this.widgetConfig = widgetConfig;\n    this.configuration = configuration;\n    this.data = data;\n    this.schema = this.defaultTemplate();\n    var test = new charts_1.default(this.schema);\n  }\n\n  _createClass(WidgetHelper, [{\n    key: \"defaultTemplate\",\n    value: function defaultTemplate() {\n      return constants_1.defaultVegaSchema();\n    }\n  }, {\n    key: \"setScale\",\n    value: function setScale() {\n      var _this$configuration = this.configuration,\n          value = _this$configuration.value,\n          chartType = _this$configuration.chartType;\n      var name = value.name;\n      var scale = this.widgetConfig.scales[0];\n\n      if (chartType === \"pie\") {\n        this.schema = Object.assign(Object.assign({}, this.schema), {\n          scales: [].concat(_toConsumableArray(this.schema.scales), [{\n            name: scale.name,\n            type: \"ordinal\",\n            domain: Object.assign(Object.assign({}, scale.domain), {\n              field: name\n            }),\n            range: {\n              scheme: scale.range\n            }\n          }])\n        });\n      }\n\n      if (chartType === \"bars\") {\n        this.schema = Object.assign(Object.assign({}, this.schema), {\n          scales: [{\n            name: \"xscale\",\n            type: \"band\",\n            domain: {\n              data: \"table\",\n              field: \"name\"\n            },\n            range: \"width\",\n            padding: 0.05,\n            round: true\n          }, {\n            name: \"yscale\",\n            domain: {\n              data: \"table\",\n              field: \"estimated_generation_gwh\"\n            },\n            nice: true,\n            range: \"height\"\n          }]\n        });\n      }\n    }\n  }, {\n    key: \"setMarks\",\n    value: function setMarks() {\n      var _this = this;\n\n      var _this$configuration2 = this.configuration,\n          value = _this$configuration2.value,\n          chartType = _this$configuration2.chartType;\n\n      if (chartType === \"bars\") {\n        this.schema = Object.assign(Object.assign({}, this.schema), {\n          marks: [{\n            type: \"rect\",\n            from: {\n              data: \"table\"\n            },\n            encode: {\n              enter: {\n                x: {\n                  scale: \"xscale\",\n                  field: \"name\"\n                },\n                width: {\n                  scale: \"xscale\",\n                  band: 1\n                },\n                y: {\n                  scale: \"yscale\",\n                  field: \"estimated_generation_gwh\"\n                },\n                y2: {\n                  scale: \"yscale\",\n                  value: 0\n                }\n              },\n              update: {\n                fill: {\n                  value: \"steelblue\"\n                }\n              },\n              hover: {\n                fill: {\n                  value: \"red\"\n                }\n              }\n            }\n          }]\n        });\n      } else {\n        this.schema = Object.assign(Object.assign({}, this.schema), {\n          marks: this.widgetConfig.marks.map(function (mark) {\n            return Object.assign(Object.assign({}, mark), {\n              encode: Object.assign(Object.assign({}, mark.encode), {\n                enter: Object.assign(Object.assign({}, mark.encode.enter), {\n                  fill: Object.assign(Object.assign({}, mark.encode.fill), {\n                    scale: _this.schema.scales[0].name,\n                    field: value.name\n                  })\n                })\n              })\n            });\n          })\n        });\n      }\n    }\n  }, {\n    key: \"setLegend\",\n    value: function setLegend() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        legend: this.widgetConfig.legend\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig() {\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        config: this.widgetConfig.config\n      });\n    }\n  }, {\n    key: \"setData\",\n    value: function setData() {\n      var _this$configuration3 = this.configuration,\n          chartType = _this$configuration3.chartType,\n          value = _this$configuration3.value;\n      var transform = this.widgetConfig.data[0].transform.find(function (t) {\n        return t.type === chartType;\n      });\n\n      if (!transform) {\n        transform = {\n          type: \"pie\",\n          field: value.name\n        };\n      }\n\n      this.schema = Object.assign(Object.assign({}, this.schema), {\n        data: [{\n          values: this.data,\n          name: this.widgetConfig.data[0].name,\n          transform: [Object.assign(Object.assign({}, transform), {\n            field: value.name\n          })]\n        }]\n      });\n    }\n  }, {\n    key: \"setAxes\",\n    value: function setAxes() {\n      var _this$configuration4 = this.configuration,\n          value = _this$configuration4.value,\n          chartType = _this$configuration4.chartType;\n\n      if (chartType === \"bars\") {\n        this.schema = Object.assign(Object.assign({}, this.schema), {\n          axes: [{\n            orient: \"bottom\",\n            scale: \"xscale\"\n          }, {\n            orient: \"left\",\n            scale: \"yscale\"\n          }]\n        });\n      }\n    }\n  }, {\n    key: \"getVegaConfig\",\n    value: function getVegaConfig() {\n      this.setAxes();\n      this.setScale();\n      this.setMarks();\n      this.setLegend();\n      this.setConfig();\n      this.setData();\n      return this.schema;\n    }\n  }]);\n\n  return WidgetHelper;\n}();\n\nexports.default = WidgetHelper;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ChartService = function ChartService(config) {\n  _classCallCheck(this, ChartService);\n\n  console.log(\"parse me!\", config);\n};\n\nexports.default = ChartService;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.defaultVegaSchema = function () {\n  return {\n    $schema: \"https://vega.github.io/schema/vega/v5.json\",\n    width: 400,\n    height: 279,\n    data: [],\n    legend: [],\n    config: [],\n    signals: [],\n    scales: [],\n    axes: [],\n    marks: []\n  };\n};\n\nexports.default = {\n  defaultVegaSchema: exports.defaultVegaSchema\n};","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar lodash_1 = require(\"lodash\");\n\nvar ConfigHelper =\n/*#__PURE__*/\nfunction () {\n  function ConfigHelper(params) {\n    _classCallCheck(this, ConfigHelper);\n\n    this.setConfig(params);\n  }\n\n  _createClass(ConfigHelper, [{\n    key: \"setConfig\",\n    value: function setConfig(params) {\n      var acceptedParams = lodash_1.pick(params, [\"url\", \"env\", \"applications\", \"authUrl\", \"assetsPath\", \"userToken\", \"userEmail\", \"locale\"]);\n      this.config = Object.assign(Object.assign({}, this.config), acceptedParams);\n    }\n  }, {\n    key: \"getConfig\",\n    value: function getConfig() {\n      return this.config;\n    }\n  }]);\n\n  return ConfigHelper;\n}();\n\nexports.default = function (params) {\n  return new ConfigHelper(params);\n};","import { createAction } from \"vizzuality-redux-tools\";\nexport var setEditor = createAction(\"EDITOR/setEditor\");\nexport default {\n  setEditor: setEditor\n};","import { createAction } from \"vizzuality-redux-tools\";\nexport var setTheme = createAction(\"THEME/setTheme\");\nexport default {\n  setTheme: setTheme\n};","export default {\n  DATA_FLOW_DATASET_WIDGET_READY: \"SAGAS/DATA_FLOW/dataset_widget_ready\",\n  DATA_FLOW_DATA_READY: \"SAGAS/DATA_FLOW/data_ready\",\n  DATA_FLOW_VISUALISATION_READY: \"SAGAS/DATA_FLOW/visualisation_ready\",\n  DATA_FLOW_WIDGET_DATA_READY: \"SAGAS/DATA_FLOW/visualisation_ready\"\n};","import React, { useEffect, useRef } from \"react\";\nimport * as vega from \"vega\";\nimport styled from \"styled-components\";\nimport isEqual from \"lodash/isEqual\";\nimport isEmpty from \"lodash/isEmpty\";\nimport ChartTheme from \"../../helpers/theme\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"p6fymh-0\"\n})([\"flex 1;display:flex;width:100%;.c-chart{flex:1;text-align:center;}\"]);\n\nvar Chart = function Chart(_ref) {\n  var editor = _ref.editor,\n      widget = _ref.widget;\n  var chart = useRef();\n  var vegaContainer = useRef();\n  var memoryStoreWidget = useRef();\n  useEffect(function () {\n    if (chart.current && !isEmpty(widget) && !isEqual(widget, memoryStoreWidget)) {\n      var width = chart.current.parentNode.offsetWidth;\n      var runtime = vega.parse(widget);\n      vegaContainer.current = new vega.View(runtime).width(width / 2).initialize(chart.current).renderer(\"canvas\").hover().run();\n      memoryStoreWidget.current = widget;\n    }\n  }, [chart, editor, widget]);\n  useEffect(function () {\n    var handleResize = function handleResize() {\n      var width = chart.current.parentNode.getBoundingClientRect().width;\n      vegaContainer.current.signal(\"width\", width / 2).run(\"enter\");\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return function () {\n      return window.removeEventListener(\"resize\", handleResize);\n    };\n  });\n  return React.createElement(StyledContainer, null, React.createElement(\"div\", {\n    className: \"c-chart\",\n    ref: chart\n  }));\n};\n\nexport default Chart;","import { connect } from \"react-redux\"; // Components\n\nimport ChartComponent from \"./component\";\nexport default connect(function (state) {\n  return {\n    editor: state.editor,\n    widget: state.widget\n  };\n})(ChartComponent);","import { createAction } from \"vizzuality-redux-tools\";\nexport var setConfiguration = createAction(\"CONFIGURATION/setConfiguration\");\nexport var patchConfiguration = createAction(\"CONFIGURATION/patchConfiguration\");\nexport default {\n  setConfiguration: setConfiguration,\n  patchConfiguration: patchConfiguration\n};","import React from \"react\";\nimport styled from \"styled-components\";\nimport find from \"lodash/find\";\nimport Select from \"react-select\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"sc-5wfvth-0\"\n})([\"margin:10px;\"]);\nvar InputStyles = {\n  control: function control() {\n    return {\n      // none of react-select's styles are passed to <Control />\n      display: \"flex\",\n      border: \"1px solid rgba(202,204,208,0.85)\",\n      borderRadius: \"4px\",\n      padding: \"3px 0\"\n    };\n  }\n};\n\nvar SelectChart = function SelectChart(_ref) {\n  var patchConfiguration = _ref.patchConfiguration,\n      options = _ref.options,\n      value = _ref.value;\n\n  var handleChange = function handleChange(option) {\n    patchConfiguration({\n      chartType: option.value\n    });\n  };\n\n  return React.createElement(StyledContainer, null, React.createElement(Select, {\n    onChange: handleChange,\n    defaultValue: find(options, {\n      value: value\n    }),\n    options: options,\n    styles: InputStyles\n  }));\n};\n\nexport default SelectChart;","import { connect } from \"react-redux\";\nimport { patchConfiguration } from \"../../modules/configuration/actions\"; // Components\n\nimport SelectChartComponent from \"./component\";\nexport default connect(function (state) {\n  return {\n    options: state.configuration.availableCharts,\n    value: state.configuration.chartType\n  };\n}, {\n  patchConfiguration: patchConfiguration\n})(SelectChartComponent);","export var FOOTER_HEIGHT = \"100px\";\nexport var DEFAULT_BORDER = function DEFAULT_BORDER() {\n  var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  var right = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var bottom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var left = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  return \"\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.09);\\n\\n  border-color: rgba(26, 28, 34, 0.1);\\n  border-style: solid;\\n\\n  border-width: \".concat(top, \"px \").concat(right, \"px \").concat(bottom, \"px \").concat(left, \"px;\\n\");\n};\nexport default {\n  FOOTER_HEIGHT: FOOTER_HEIGHT,\n  DEFAULT_BORDER: DEFAULT_BORDER\n};","import React from \"react\";\nimport styled from \"styled-components\";\nimport Chart from \"../chart\";\nimport SelectChart from \"../select-chart\";\nimport { FOOTER_HEIGHT, DEFAULT_BORDER } from \"../../style-constants\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"sc-1jp54tw-0\"\n})([\"display:flex;flex-flow:column;height:calc(100% - \", \");background:#fff;flex:1;width:100%;\", \"\"], FOOTER_HEIGHT, DEFAULT_BORDER());\n\nvar Renderer = function Renderer() {\n  return React.createElement(StyledContainer, null, React.createElement(SelectChart, null), React.createElement(Chart, null));\n};\n\nexport default Renderer;","// TODO: This should be its own package\n// It should be possible to use the renderer without the editor!\nimport RendererComponent from \"./component\";\nexport default RendererComponent;","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nvar StyledButton = styled.button.withConfig({\n  displayName: \"component__StyledButton\",\n  componentId: \"l5yyzu-0\"\n})([\"cursor:pointer;font-size:16px;color:#393f44;border:1px solid rgba(202,204,208,0.85);background:transparent;padding:10px 20px;border-radius:5px;\", \" \", \" \", \"\"], function (props) {\n  return props.type && props.type === \"cta\" && css([\"background:\", \";color:#fff;border:1px solid transparent;\"], props.color);\n}, function (props) {\n  return props.type && props.type === \"highlight\" && css([\"color:\", \";border:1px solid \", \";\"], props.color, props.color);\n}, function (props) {\n  return props.type && props.type === \"default\" && css([\"&:hover,&.active{\", \"}\"], function (props) {\n    return props.color && css([\"border:1px solid \", \";color:\", \";\"], props.color, props.color);\n  });\n});\n\nvar Button = function Button(_ref) {\n  var _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"default\" : _ref$type,\n      theme = _ref.theme,\n      children = _ref.children;\n  return React.createElement(StyledButton, {\n    color: theme.color,\n    type: type\n  }, children);\n};\n\nexport default Button;","import { connect } from \"react-redux\"; // Components\n\nimport ButtonComponent from \"./component\";\nexport default connect(function (state) {\n  return {\n    theme: state.theme\n  };\n})(ButtonComponent);","import React from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../button\";\nimport { FOOTER_HEIGHT, DEFAULT_BORDER } from \"../../style-constants\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"sc-1tx06u6-0\"\n})([\"flex:1;background:#fff;height:calc(100% - \", \" - 20px);padding:0 30px;margin:10px 0;\", \"\"], FOOTER_HEIGHT, DEFAULT_BORDER(1, 1, 1, 0));\nvar StyledList = styled.ul.withConfig({\n  displayName: \"component__StyledList\",\n  componentId: \"sc-1tx06u6-1\"\n})([\"display:flex;justify-content:space-between;padding:20px 0;list-style:none;\"]);\nvar StyledListItem = styled.li.withConfig({\n  displayName: \"component__StyledListItem\",\n  componentId: \"sc-1tx06u6-2\"\n})([\"color:red;\"]);\n\nvar EditorOptions = function EditorOptions() {\n  return React.createElement(StyledContainer, null, React.createElement(StyledList, null, React.createElement(StyledListItem, null, React.createElement(Button, null, \"General\")), React.createElement(StyledListItem, null, React.createElement(Button, null, \"Visual style\")), React.createElement(StyledListItem, null, React.createElement(Button, null, \"Advanced\")), React.createElement(StyledListItem, null, React.createElement(Button, null, \"Table view\"))));\n};\n\nexport default EditorOptions;","import EditorOptionsComponent from \"./component\";\nexport default EditorOptionsComponent;","import React from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../button\";\nimport { FOOTER_HEIGHT } from \"../../style-constants\";\nvar StyledFooter = styled.footer.withConfig({\n  displayName: \"component__StyledFooter\",\n  componentId: \"t079zl-0\"\n})([\"width:100%;height:\", \";align-self:flex-end;display:flex;align-items:center;justify-content:space-between;padding:0 30px;\"], FOOTER_HEIGHT);\n\nvar Footer = function Footer() {\n  return React.createElement(StyledFooter, null, React.createElement(Button, {\n    type: \"highlight\"\n  }, \"Need help?\"), React.createElement(Button, {\n    type: \"cta\"\n  }, \"Save widget\"));\n};\n\nexport default Footer;","import FooterComponent from \"./component\";\nexport default FooterComponent;","import _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport isEqual from \"lodash/isEqual\";\nimport sagaEvents from \"../../sagas/events\";\nimport Renderer from \"../renderer\";\nimport EditorOptions from \"../editor-options\";\nimport Footer from \"../footer\";\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"component__StyledContainer\",\n  componentId: \"sc-1mx32o6-0\"\n})([\"width:100%;height:100%;display:flex;flex-flow:wrap;justify-content:space-between;flex-flow:column;@media only screen and (min-width:768px){flex-flow:wrap;}\"]);\n\nvar Editor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Editor, _React$Component);\n\n  function Editor(props) {\n    var _this;\n\n    _classCallCheck(this, Editor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editor).call(this, props));\n\n    _this.getDatasetAndWidgets();\n\n    _this.getFieldsAndLayers();\n\n    _this.resolveTheme();\n\n    return _this;\n  }\n\n  _createClass(Editor, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevTheme = prevProps.theme;\n      var theme = this.props.theme;\n\n      if (!isEqual(theme, prevTheme)) {\n        this.resolveTheme();\n      }\n    }\n  }, {\n    key: \"resolveTheme\",\n    value: function resolveTheme() {\n      var _this$props = this.props,\n          theme = _this$props.theme,\n          dispatch = _this$props.dispatch;\n      dispatch({\n        type: \"THEME/setTheme\",\n        payload: theme\n      });\n    }\n  }, {\n    key: \"getDatasetAndWidgets\",\n    value: function () {\n      var _getDatasetAndWidgets = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this$props2, adapter, setEditor, dispatch, dataset, widget, widgetData;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props2 = this.props, adapter = _this$props2.adapter, setEditor = _this$props2.setEditor, dispatch = _this$props2.dispatch;\n                _context.next = 3;\n                return adapter.getDataset();\n\n              case 3:\n                dataset = _context.sent;\n                _context.next = 6;\n                return adapter.getWidget(dataset);\n\n              case 6:\n                widget = _context.sent;\n                setEditor({\n                  dataset: dataset,\n                  widget: widget\n                });\n                dispatch({\n                  type: sagaEvents.DATA_FLOW_DATASET_WIDGET_READY\n                });\n                _context.next = 11;\n                return adapter.getWidgetData(dataset, widget);\n\n              case 11:\n                widgetData = _context.sent;\n                setEditor({\n                  widgetData: widgetData\n                });\n                dispatch({\n                  type: sagaEvents.DATA_FLOW_WIDGET_DATA_READY\n                });\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getDatasetAndWidgets() {\n        return _getDatasetAndWidgets.apply(this, arguments);\n      }\n\n      return getDatasetAndWidgets;\n    }()\n  }, {\n    key: \"getFieldsAndLayers\",\n    value: function () {\n      var _getFieldsAndLayers = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this$props3, adapter, setEditor, dispatch, fields, layers;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$props3 = this.props, adapter = _this$props3.adapter, setEditor = _this$props3.setEditor, dispatch = _this$props3.dispatch;\n                _context2.next = 3;\n                return adapter.getFields();\n\n              case 3:\n                fields = _context2.sent;\n                _context2.next = 6;\n                return adapter.getLayers();\n\n              case 6:\n                layers = _context2.sent;\n                setEditor({\n                  layers: layers,\n                  fields: fields\n                });\n                dispatch({\n                  type: sagaEvents.DATA_FLOW_DATA_READY\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getFieldsAndLayers() {\n        return _getFieldsAndLayers.apply(this, arguments);\n      }\n\n      return getFieldsAndLayers;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(StyledContainer, null, React.createElement(Renderer, null), React.createElement(EditorOptions, null), React.createElement(Footer, null));\n    }\n  }]);\n\n  return Editor;\n}(React.Component);\n\nexport default Editor;","import { connect } from \"react-redux\";\nimport { setEditor as _setEditor } from \"../../modules/editor/actions\";\nimport { setTheme as _setTheme } from \"../../modules/theme/actions\"; // Components\n\nimport EditorComponent from \"./component\";\nexport default connect(function (state) {\n  return {\n    editor: state.editor\n  };\n}, function (dispatch) {\n  return {\n    dispatch: dispatch,\n    setEditor: function setEditor(data) {\n      return dispatch(_setEditor(data));\n    },\n    setTheme: function setTheme(data) {\n      return dispatch(_setTheme(data));\n    }\n  };\n})(EditorComponent);","import _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(preloadData),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(baseSaga);\n\nimport { takeLatest, put, select } from \"redux-saga/effects\";\nimport { setConfiguration } from \"../../modules/configuration/actions\";\n\nfunction preloadData() {\n  var _ref, widgetConfig;\n\n  return _regeneratorRuntime.wrap(function preloadData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return select();\n\n        case 2:\n          _ref = _context.sent;\n          widgetConfig = _ref.editor.widget.attributes.widgetConfig;\n          _context.next = 6;\n          return put(setConfiguration(widgetConfig.paramsConfig));\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nexport default function baseSaga() {\n  return _regeneratorRuntime.wrap(function baseSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(\"EDITOR/setEditor\", preloadData);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}","import { createAction } from \"vizzuality-redux-tools\";\nexport var setWidget = createAction(\"WIDGET/setWidget\");\nexport default {\n  setWidget: setWidget\n};","import _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(preloadData),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(updateWidget),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(baseSaga);\n\nimport { takeLatest, put, select } from \"redux-saga/effects\";\nimport sagaEvents from \"../events\";\nimport { WidgetHelper } from \"@packages/core\";\nimport { setWidget } from \"../../modules/widget/actions\";\n\nfunction preloadData() {\n  var _ref, editor, configuration, widgetData, widgetConfig, widgetHelper, vegaConfig;\n\n  return _regeneratorRuntime.wrap(function preloadData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return select();\n\n        case 2:\n          _ref = _context.sent;\n          editor = _ref.editor;\n          configuration = _ref.configuration;\n          widgetData = editor.widgetData;\n          widgetConfig = editor.widget.attributes.widgetConfig;\n          widgetHelper = new WidgetHelper(widgetConfig, widgetData, configuration);\n          vegaConfig = widgetHelper.getVegaConfig();\n          _context.next = 11;\n          return put(setWidget(vegaConfig));\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction updateWidget() {\n  var _ref2, editor, configuration, widgetData, widgetConfig, widgetHelper, vegaConfig;\n\n  return _regeneratorRuntime.wrap(function updateWidget$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return select();\n\n        case 2:\n          _ref2 = _context2.sent;\n          editor = _ref2.editor;\n          configuration = _ref2.configuration;\n          widgetData = editor.widgetData;\n          widgetConfig = editor.widget.attributes.widgetConfig;\n          widgetHelper = new WidgetHelper(widgetConfig, widgetData, configuration);\n          vegaConfig = widgetHelper.getVegaConfig();\n          console.log(\"updating widget\", vegaConfig);\n          _context2.next = 12;\n          return put(setWidget(vegaConfig));\n\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nexport default function baseSaga() {\n  return _regeneratorRuntime.wrap(function baseSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return takeLatest(sagaEvents.DATA_FLOW_VISUALISATION_READY, preloadData);\n\n        case 2:\n          _context3.next = 4;\n          return takeLatest(\"CONFIGURATION/patchConfiguration\", updateWidget);\n\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}","import _regeneratorRuntime from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(root);\n\nimport { all, fork } from \"redux-saga/effects\";\nimport editor from \"./editor\";\nimport widget from \"./widget\";\nexport default function root() {\n  return _regeneratorRuntime.wrap(function root$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return all([fork(editor), fork(widget)]);\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as actions from \"./actions\";\nexport default _defineProperty({}, actions.setEditor, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n});","export default {\n  dataset: null,\n  widget: null,\n  widgetData: null\n};","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as actions from \"./actions\";\nexport default _defineProperty({}, actions.setTheme, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n});","export default {\n  color: \"#C32D7B\"\n};","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as actions from \"./actions\";\nexport default _defineProperty({}, actions.setWidget, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n});","import _defineProperty from \"/Users/moose/Documents/vizzuality/widget-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _actions$setConfigura;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as actions from \"./actions\";\nexport default (_actions$setConfigura = {}, _defineProperty(_actions$setConfigura, actions.setConfiguration, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {}, payload);\n}), _defineProperty(_actions$setConfigura, actions.patchConfiguration, function (state, _ref2) {\n  var payload = _ref2.payload;\n  return _objectSpread({}, state, {}, payload);\n}), _actions$setConfigura);","export default {};","export default {\n  visualizationType: \"chart\",\n  chartType: \"pie\",\n  availableCharts: [{\n    value: \"pie\",\n    label: \"pie\"\n  }, {\n    value: \"bars\",\n    label: \"Bars\"\n  }]\n};","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport createSagaMiddleware from \"redux-saga\";\nimport thunk from \"redux-thunk\";\nimport sagas from \"../sagas\"; // New modules\n\nimport { handleModule } from \"vizzuality-redux-tools\"; // Modules\n\nimport * as editor from \"../modules/editor\";\nimport * as theme from \"../modules/theme\";\nimport * as widget from \"../modules/widget\";\nimport * as configuration from \"../modules/configuration\";\nvar sagaMiddleware = createSagaMiddleware();\n\nvar initStore = function initStore() {\n  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var reducers = combineReducers({\n    configuration: handleModule(configuration),\n    editor: handleModule(editor),\n    theme: handleModule(theme),\n    widget: handleModule(widget)\n  });\n  var middlewares = applyMiddleware(thunk, sagaMiddleware);\n  var enhancers = composeWithDevTools(middlewares); // create store\n\n  var store = createStore(reducers, initialState, enhancers);\n  sagaMiddleware.run(sagas);\n  return {\n    store: store\n  };\n};\n\nexport default initStore;","import WidgetEditor from \"./components/widget-editor\";\nexport default WidgetEditor;","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport Editor from \"../editor\";\nimport configureStore from \"../../store\"; // XXX: This would be the public facing component\n\nvar WidgetEditor = function WidgetEditor(_ref) {\n  var adapter = _ref.adapter,\n      theme = _ref.theme;\n\n  var _configureStore = configureStore(),\n      store = _configureStore.store;\n\n  if (typeof adapter === \"undefined\") {\n    console.error(\"WidgetEditor requires a prop: adapter\");\n  }\n\n  return React.createElement(Provider, {\n    store: store\n  }, React.createElement(Editor, {\n    adapter: adapter,\n    theme: theme\n  }));\n};\n\nexport default WidgetEditor;","import React, { useState } from \"react\";\n\nimport \"./App.css\";\n\n// TODO: these would be combined\nimport RwAdapter from \"@packages/rw-adapter\";\nimport WidgetEditor from \"@packages/widget-editor\";\n\nimport { GithubPicker } from \"react-color\";\n\nfunction App() {\n  const [colorPickerActive, setColorPickerActive] = useState(false);\n  const [theme, setTheme] = useState({ color: \"#C32D7B\" });\n  const handleChangeTheme = gp => {\n    setTheme({ color: gp.hex });\n  };\n\n  const adapter = new RwAdapter(\n    {\n      applications: [\"rw\"],\n      env: \"production\",\n      locale: \"en\",\n      includes: [\"metadata\", \"vocabulary\", \"widget\", \"layer\"]\n    },\n    \"a86d906d-9862-4783-9e30-cdb68cd808b8\"\n  );\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        Widget editor V2\n        <div\n          className=\"App-set-theme\"\n          onClick={() => setColorPickerActive(!colorPickerActive)}\n        >\n          <span className=\"theme-preview\" style={{ background: theme.color }} />\n          <h4>Test Theme</h4>\n          {colorPickerActive && (\n            <GithubPicker onChangeComplete={handleChangeTheme} theme=\"Github\" />\n          )}\n        </div>\n      </header>\n      <div className=\"widget-editor-wrapper\">\n        <WidgetEditor adapter={adapter} theme={theme} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar dataset_1 = __importDefault(require(\"./services/dataset\"));\n\nexports.DatasetService = dataset_1.default;\n\nvar widget_1 = __importDefault(require(\"./services/widget\"));\n\nexports.WidgetService = widget_1.default;\n\nvar wiget_helper_1 = __importDefault(require(\"./helpers/wiget-helper\"));\n\nexports.WidgetHelper = wiget_helper_1.default;\n\nvar getQueryByFilters_1 = __importDefault(require(\"./sql/getQueryByFilters\"));\n\nexports.getQueryByFilters = getQueryByFilters_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction getQueryByFilters(tableName, provider) {\n  var filters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var arrColumns = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var arrOrder = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var sortOrder = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"asc\";\n  var filtersQuery = filters.map(function (filter) {\n    if (filter.value === null || filter.value === undefined) {\n      return null;\n    }\n\n    if (filter.type === \"string\") {\n      var whereClause;\n\n      switch (filter.operation) {\n        case \"contains\":\n          whereClause = \"\".concat(filter.name, \" LIKE '%\").concat(filter.value, \"%'\");\n          break;\n\n        case \"not-contain\":\n          whereClause = \"\".concat(filter.name, \" NOT LIKE '%\").concat(filter.value, \"%'\");\n          break;\n\n        case \"starts-with\":\n          whereClause = \"\".concat(filter.name, \" LIKE '\").concat(filter.value, \"%'\");\n          break;\n\n        case \"ends-with\":\n          whereClause = \"\".concat(filter.name, \" LIKE '%\").concat(filter.value, \"'\");\n          break;\n\n        case \"=\":\n          whereClause = \"\".concat(filter.name, \" LIKE '\").concat(filter.value, \"'\");\n          break;\n\n        case \"!=\":\n          whereClause = \"\".concat(filter.name, \" NOT LIKE '\").concat(filter.value, \"'\");\n          break;\n\n        case \"by-values\":\n        default:\n          whereClause = \"\".concat(filter.name, \" IN ('\").concat(filter.value.join(\"', '\"), \"')\");\n          break;\n      }\n\n      return filter.notNull ? \"\".concat(whereClause, \" AND \").concat(filter.name, \" IS NOT NULL\") : whereClause;\n    }\n\n    if (filter.type === \"number\") {\n      var _whereClause;\n\n      switch (filter.operation) {\n        case \"not-between\":\n          _whereClause = \"\".concat(filter.name, \" < \").concat(filter.value[0], \" OR \").concat(filter.name, \" > \").concat(filter.value[1]);\n          break;\n\n        case \">\":\n          _whereClause = \"\".concat(filter.name, \" > \").concat(filter.value);\n          break;\n\n        case \">=\":\n          _whereClause = \"\".concat(filter.name, \" >= \").concat(filter.value);\n          break;\n\n        case \"<\":\n          _whereClause = \"\".concat(filter.name, \" < \").concat(filter.value);\n          break;\n\n        case \"<=\":\n          _whereClause = \"\".concat(filter.name, \" <= \").concat(filter.value);\n          break;\n\n        case \"=\":\n          _whereClause = \"\".concat(filter.name, \" = \").concat(filter.value);\n          break;\n\n        case \"!=\":\n          _whereClause = \"\".concat(filter.name, \" <> \").concat(filter.value);\n          break;\n\n        case \"between\":\n        default:\n          _whereClause = \"\".concat(filter.name, \" >= \").concat(filter.value[0], \" AND \").concat(filter.name, \" <= \").concat(filter.value[1]);\n          break;\n      }\n\n      return filter.notNull ? \"\".concat(_whereClause, \" AND \").concat(filter.name, \" IS NOT NULL\") : _whereClause;\n    }\n\n    if (filter.type === \"date\") {\n      var _whereClause2;\n\n      var getSerializedValue = function getSerializedValue(v) {\n        return provider === \"featureservice\" ? \"date '\".concat(v.split(\"T\")[0], \"'\") : \"'\".concat(v, \"'\");\n      };\n\n      switch (filter.operation) {\n        case \"not-between\":\n          _whereClause2 = \"\".concat(filter.name, \" < \").concat(getSerializedValue(filter.value[0]), \" OR \").concat(filter.name, \" > \").concat(getSerializedValue(filter.value[1]));\n          break;\n\n        case \">\":\n          _whereClause2 = \"\".concat(filter.name, \" > \").concat(getSerializedValue(filter.value));\n          break;\n\n        case \">=\":\n          _whereClause2 = \"\".concat(filter.name, \" >= \").concat(getSerializedValue(filter.value));\n          break;\n\n        case \"<\":\n          _whereClause2 = \"\".concat(filter.name, \" < \").concat(getSerializedValue(filter.value));\n          break;\n\n        case \"<=\":\n          _whereClause2 = \"\".concat(filter.name, \" <= \").concat(getSerializedValue(filter.value));\n          break;\n\n        case \"=\":\n          _whereClause2 = \"\".concat(filter.name, \" = \").concat(getSerializedValue(filter.value));\n          break;\n\n        case \"!=\":\n          _whereClause2 = \"\".concat(filter.name, \" <> \").concat(getSerializedValue(filter.value));\n          break;\n\n        case \"between\":\n        default:\n          _whereClause2 = \"\".concat(filter.name, \" >= \").concat(getSerializedValue(filter.value[0]), \" AND \").concat(filter.name, \" <= \").concat(getSerializedValue(filter.value[1]));\n          break;\n      }\n\n      return filter.notNull ? \"\".concat(_whereClause2, \" AND \").concat(filter.name, \" IS NOT NULL\") : _whereClause2;\n    }\n\n    return null;\n  }).filter(function (filter) {\n    return !!filter;\n  }).join(\" AND \");\n  var columns = \"*\";\n\n  if (arrColumns.length) {\n    columns = arrColumns.map(function (column) {\n      var res = \"\".concat(column.value);\n\n      if (column.aggregateFunction) {\n        res = \"\".concat(column.aggregateFunction.toUpperCase(), \"(\").concat(res, \")\");\n      }\n\n      if (column.as) {\n        res = \"\".concat(res, \" as \").concat(column.key);\n      }\n\n      return res;\n    }).join(\", \");\n  }\n\n  var orderBy = \"\";\n\n  if (arrOrder.length) {\n    var orders = arrOrder.map(function (order) {\n      return order.name;\n    }).join(\" \");\n    orderBy = \"ORDER BY \".concat(orders, \" \").concat(sortOrder);\n  }\n\n  var where = filtersQuery.length ? \"WHERE \".concat(filtersQuery) : \"\";\n  var groupingColumns = arrColumns.filter(function (col) {\n    return col.group;\n  });\n  var groupBy = \"GROUP BY \";\n  groupingColumns.forEach(function (val) {\n    groupBy = \"\".concat(groupBy, \" \").concat(val.key, \",\");\n  });\n\n  if (groupingColumns.length === 0) {\n    groupBy = \"\";\n  } else {\n    groupBy = groupBy.slice(0, -1);\n  }\n\n  return encodeURIComponent(\"SELECT \".concat(columns, \" FROM \").concat(tableName, \" \").concat(where, \" \").concat(groupBy, \" \").concat(orderBy));\n}\n\nexports.default = getQueryByFilters;"],"sourceRoot":""}