(this["webpackJsonp@widget-editor/playground"]=this["webpackJsonp@widget-editor/playground"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getAction=t.createAction=t.connectState=void 0;var r=n(26),a=n(43),i=n(33),o=function(e,t){return(0,r.connect)((function(t){return"function"===typeof e?e(t[i.constants.APP_NAMESPACE]):{}}),t)};t.connectState=o;var l=function(e){return(0,a.createAction)("".concat(i.constants.APP_NAMESPACE,"/").concat(e))};t.createAction=l;var u=function(e){return"".concat(i.constants.APP_NAMESPACE,"/").concat(e)};t.getAction=u;var c={connectState:o,createAction:l,getAction:u};t.default=c},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Select",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CategoryIcon",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"CloseIcon",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"redux",{enumerable:!0,get:function(){return l.default}});var r=u(n(244)),a=u(n(249)),i=u(n(255)),o=u(n(256)),l=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.saveConfiguration=t.patchConfiguration=t.setConfiguration=void 0;var r=n(12),a=(0,r.createAction)("CONFIGURATION/setConfiguration");t.setConfiguration=a;var i=(0,r.createAction)("CONFIGURATION/patchConfiguration");t.patchConfiguration=i;var o=(0,r.createAction)("CONFIGURATION/saveConfiguration");t.saveConfiguration=o;var l={saveConfiguration:o,setConfiguration:a,patchConfiguration:i};t.default=l},,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(164));t.DatasetService=a.default;var i=r(n(166));t.WidgetService=i.default;var o=r(n(98));t.FiltersService=o.default;var l=r(n(173));t.DataService=l.default;var u=r(n(174));t.VegaService=u.default;var c=r(n(101));t.FieldsService=c.default;var d=r(n(181));t.StateProxy=d.default;var s=r(n(79));t.constants=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultVegaSchema=function(){return{$schema:"https://vega.github.io/schema/vega/v5.json",width:100,height:100,data:[],legend:[],config:{},signals:[],scales:[],axes:[],marks:[],axis:{labelFontSize:13,labelFont:"Lato",labelColor:"#717171",labelPadding:10,ticks:!0,tickSize:8,tickColor:"#A9ABAD",tickOpacity:.5,tickExtra:!1},axisX:{bandPosition:.5,domainWidth:1.2,domainColor:"#A9ABAD",labelAlign:"center",labelBaseline:"top"},axisY:{domain:!1,labelAlign:"left",labelBaseline:"bottom",tickOpacity:.5,grid:!0,ticks:!1,gridColor:"#A9ABAD",gridOpacity:.5},symbol:{fill:"#3BB2D0"},line:{interpolate:"linear",stroke:"#3BB2D0",fillOpacity:0}}},t.sqlFields={value:"x",category:"y"},t.default={defaultVegaSchema:t.defaultVegaSchema,sqlFields:t.sqlFields}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"reducers",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"sagas",{enumerable:!0,get:function(){return o.default}}),t.default=void 0;var r=l(n(156)),a=l(n(368)),i=l(n(384)),o=l(n(385));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default;t.default=u},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setScheme=t.setTheme=void 0;var r=n(12),a=(0,r.createAction)("EDITOR/THEME/setTheme");t.setTheme=a;var i=(0,r.createAction)("EDITOR/THEME/setScheme");t.setScheme=i;var o={setTheme:a,setScheme:i};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setFilters=void 0;var r=(0,n(12).createAction)("EDITOR/setFilters");t.setFilters=r;var a={setFilters:r};t.default=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(8))&&r.__esModule?r:{default:r}).default.div.withConfig({displayName:"input-group__InputGroup",componentId:"c44rbl-0"})(["position:relative;width:100%;",""],(function(e){return!e.noMargins&&"margin: 0 0 15px 0;"}));t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILTERS=t.FILTER_STRING_INDICATOR_TYPES=t.FILTER_NUMBER_INDICATOR_TYPES=t.COLUMN_FILTER_GROUP=t.DEFAULT_COLUMNS_FILTER=t.DEFAULT_VALUE_FILTER=t.DEFAULT_RANGE_FILTER=t.STRING_TYPES=t.NUMBER_TYPES=t.TYPE_TEXT_ENDS_WITH=t.TYPE_TEXT_STARTS_WITH=t.TYPE_TEXT_NOT_CONTAINS=t.TYPE_TEXT_CONTAINS=t.TYPE_FILTER_ON_VALUES=t.TYPE_VALUE=t.TYPE_RANGE=t.TYPE_INDICATOR=t.TYPE_COLUMNS=void 0;var r;(r=n(1))&&r.__esModule;t.TYPE_COLUMNS="columns";t.TYPE_INDICATOR="indicator";t.TYPE_RANGE="range";t.TYPE_VALUE="value";t.TYPE_FILTER_ON_VALUES="FILTER_ON_VALUES";t.TYPE_TEXT_CONTAINS="TEXT_CONTAINS";t.TYPE_TEXT_NOT_CONTAINS="TEXT_NOT_CONTAINS";t.TYPE_TEXT_STARTS_WITH="TEXT_STARTS_WITH";t.TYPE_TEXT_ENDS_WITH="TEXT_ENDS_WITH";var a=["range","value"];t.NUMBER_TYPES=a;var i=["FILTER_ON_VALUES","TEXT_CONTAINS","TEXT_NOT_CONTAINS","TEXT_STARTS_WITH","TEXT_ENDS_WITH"];t.STRING_TYPES=i;var o={values:[0,100],type:"range",notNull:!0,max:500,min:0};t.DEFAULT_RANGE_FILTER=o;var l={values:0,type:"value",notNull:!0,max:500,min:0};t.DEFAULT_VALUE_FILTER=l;var u={values:[],type:"columns"};t.DEFAULT_COLUMNS_FILTER=u;var c={column:null,label:null,dataType:null,indicator:"range",filter:o};t.COLUMN_FILTER_GROUP=c;var d=[{label:"Between",value:"range"},{label:"Equals",value:"value"}];t.FILTER_NUMBER_INDICATOR_TYPES=d;var s=[{label:"Filter by values",value:"FILTER_ON_VALUES"},{label:"Text Contains",value:"TEXT_CONTAINS"},{label:"Text does not contain",value:"TEXT_NOT_CONTAINS"},{label:"Text starts with",value:"TEXT_STARTS_WITH"},{label:"Text ends with",value:"TEXT_ENDS_WITH"}];t.FILTER_STRING_INDICATOR_TYPES=s;var f=[o,l,u,d,s,c];t.DEFAULT_FILTERS=f},,,,,,,,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(8))&&r.__esModule?r:{default:r}).default.div.withConfig({displayName:"flex__FlexContainer",componentId:"sc-105cfvb-0"})(["display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;flex-flow:",";width:100%;"," label{flex-basis:100%;}"],(function(e){return e.row?"row":"column"}),(function(e){return e.row?"> * { padding-right: 20px; &:last-child { padding-right: 0; } } ":""}));t.default=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(8))&&r.__esModule?r:{default:r}).default.label.withConfig({displayName:"form-label__FormLabel",componentId:"sc-8iknw1-0"})(["display:block;padding:0 0 10px 0;color:#393f44;font-weight:700;font-size:13px;"]);t.default=a},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setEditor=void 0;var r=(0,n(12).createAction)("EDITOR/setEditor");t.setEditor=r;var a={setEditor:r};t.default=a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_BORDER=t.FOOTER_HEIGHT=void 0;t.FOOTER_HEIGHT="100px";var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return"\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.09);\n\n  border-color: rgba(26, 28, 34, 0.1);\n  border-style: solid;\n\n  border-width: ".concat(e,"px ").concat(t,"px ").concat(n,"px ").concat(r,"px;\n")};t.DEFAULT_BORDER=r;var a={FOOTER_HEIGHT:"100px",DEFAULT_BORDER:r};t.default=a},function(e,t,n){"use strict";var r=n(86),a=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.getWidgetColumns=t.getSelectedColor=t.getWidgetSelectedColumn=void 0;var i=n(118),o={alias:"Single color",name:"Single color",identifier:"___single_color"},l=function(e){return e.configuration},u=function(e){return e.editor.dataset},c=(0,i.createSelector)([l,u],(function(e,t){if(!t||!t.id||!t.attributes||!t.attributes.metadata)return null;var n=t.attributes.metadata[0].attributes.columns[e.value.name];return a({},n,{identifier:e.value.name})}));t.getWidgetSelectedColumn=c;var d=(0,i.createSelector)([l,u,function(e){return e.filters}],(function(e,t,n){return t&&t.id&&t.attributes&&t.attributes.metadata?"pie"===e.chartType?e.category||null:n.color||o:null}));t.getSelectedColor=d;var s=(0,i.createSelector)([l,u,function(e,t){return t||null}],(function(e,t,n){if(!t||!t.id||!t.attributes||!t.attributes.widgetRelevantProps)return[];var i=t.attributes.widgetRelevantProps.map((function(e){return a({},t.attributes.metadata[0].attributes.columns[e],{identifier:e,name:e})}));return"pie"===e.chartType?i:n&&!0===n.colorDimention?[o].concat(r(i)):i}));t.getWidgetColumns=s},,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(8))&&r.__esModule?r:{default:r}).default.input.withConfig({displayName:"input__Input",componentId:"sc-18efscm-0"})(['width:100%;box-sizing:border-box;padding:14px 10px;background:#ffffff;border:1px solid rgba(202,204,208,0.85);border-radius:4px;color:#393f44;font-size:14px;&[type="number"]{box-sizing:content-box;padding:8px 10px;}']);t.default=a},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_NAMESPACE="widgetEditor",t.ALLOWED_FIELD_TYPES=[{name:"esriFieldTypeSmallInteger",type:"number",provider:"esri"},{name:"esriFieldTypeInteger",type:"number",provider:"esri"},{name:"esriFieldTypeSingle",type:"number",provider:"esri"},{name:"esriFieldTypeDouble",type:"number",provider:"esri"},{name:"numeric",type:"number",provider:"psql"},{name:"number",type:"number",provider:"carto"},{name:"int",type:"number",provider:"psql"},{name:"integer",type:"number",provider:"psql"},{name:"float",type:"number",provider:"sql"},{name:"long",type:"number",provider:"sql"},{name:"double",type:"number",provider:"sql"},{name:"real",type:"number",provider:"sql"},{name:"decimal",type:"number",provider:"sql"},{name:"string",type:"string",provider:"sql"},{name:"char",type:"string",provider:"sql"},{name:"varchar",type:"string",provider:"sql"},{name:"esriFieldTypeString",type:"string",provider:"esri"},{name:"text",type:"string",provider:"elastic"},{name:"esriFieldTypeDate",type:"date",provider:"esri"},{name:"date",type:"date",provider:"sql"},{name:"time",type:"date",provider:"sql"},{name:"timestamp",type:"date",provider:"sql"},{name:"interval",type:"date",provider:"sql"},{name:"boolean",type:"boolean",provider:"sql"},{name:"array",type:"array",provider:"sql"}],t.sagaEvents={DATA_FLOW_STORE_ADAPTER_CONFIG:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/adapter_configuration"),DATA_FLOW_DATASET_WIDGET_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/dataset_widget_ready"),DATA_FLOW_FIELDS_AND_LAYERS_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/fields_and_layers_ready"),DATA_FLOW_DATA_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/data_ready"),DATA_FLOW_VISUALISATION_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/visualisation_ready"),DATA_FLOW_WIDGET_DATA_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/visualisation_ready"),DATA_FLOW_PROXY_UPDATE:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/proxy_update"),EDITOR_SAVE:"".concat(t.APP_NAMESPACE,"/CONFIGURATION/saveConfiguration"),DATA_FLOW_UPDATE_WIDGET:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/updateWidget"),DATA_FLOW_CONFIGURATION_UPDATE:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/configurationUpdate")},t.reduxActions={EDITOR_SET_CONFIGURATION:"".concat(t.APP_NAMESPACE,"/CONFIGURATION/setConfiguration"),EDITOR_SET_WIDGET:"".concat(t.APP_NAMESPACE,"/WIDGET/setWidget"),EDITOR_SET_FILTERS:"".concat(t.APP_NAMESPACE,"/EDITOR/setFilters")},t.default={APP_NAMESPACE:t.APP_NAMESPACE,sagaEvents:t.sagaEvents,reduxActions:t.reduxActions}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALIGN_HORIZONTAL=t.ALIGN_VERTICAL=void 0;t.ALIGN_VERTICAL="vertical";t.ALIGN_HORIZONTAL="horizontal"},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setWidget=void 0;var r=(0,n(12).createAction)("WIDGET/setWidget");t.setWidget=r;var a={setWidget:r};t.default=a},,,,,,,,,function(e,t,n){"use strict";var r=n(15),a=n(16),i=n(4),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(167)),c=l(n(25)),d=l(n(101)),s=n(34),f=l(n(172));function p(e,t){return o(this,void 0,void 0,i.mark((function n(){var r;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<e.length)){n.next=7;break}return n.next=4,t(e[r],r,e);case 4:r++,n.next=1;break;case 7:case"end":return n.stop()}}),n)})))}var v=function(){function e(t,n,a){r(this,e),this.configuration=t,this.filters=n,this.sql="",this.dataset=a,this.prepareSelectStatement(),this.prepareAggregate(),this.prepareFilters(),this.prepareGroupBy(),this.prepareOrderBy(),this.prepareOrder(),this.prepareLimit()}return a(e,[{key:"resolveTableName",value:function(){return this.dataset.attributes.tableName}},{key:"prepareColor",value:function(){var e=this.configuration.color;return u.default(e)?", ".concat(e.identifier," as color"):""}},{key:"prepareSelectStatement",value:function(){var e=this.configuration.category;this.sql="SELECT ".concat(e.name," as ").concat(s.sqlFields.value," ").concat(this.prepareColor())}},{key:"prepareAggregate",value:function(){var e=this.configuration,t=e.aggregateFunction,n=e.value.name;if(t){var r=t.toUpperCase();if("SUM"!==r&&"COUNT"!==r)throw new Error("Aggragate function (".concat(t,") not implemented in filter service."));this.sql="".concat(this.sql,", ").concat(r,"(").concat(n,") as ").concat(s.sqlFields.category," FROM ").concat(this.resolveTableName())}else this.sql="".concat(this.sql,", ").concat(n," as ").concat(s.sqlFields.category," FROM ").concat(this.resolveTableName())}},{key:"escapeValue",value:function(e,t){return"date"===t||"string"===t?"'".concat(e,"'"):e}},{key:"rangeCondition",value:function(e,t,n,r){return"".concat(e," ").concat(t," >= ").concat(this.escapeValue(n[0],r)," AND ").concat(t," <= ").concat(this.escapeValue(n[1],r))}},{key:"valueRange",value:function(e,t,n,r){var a=this;return"".concat(e," ").concat(t," IN (").concat(n.map((function(e){return a.escapeValue(e.value,r)})).join(","),")")}},{key:"textContains",value:function(e,t,n,r){return"".concat(e," ").concat(t," = ").concat(this.escapeValue(n,r))}},{key:"valueEquals",value:function(e,t,n,r){return"".concat(e," ").concat(t," = ").concat(this.escapeValue(n,r))}},{key:"textNotContains",value:function(e,t,n,r){return"".concat(e," ").concat(t," != ").concat(this.escapeValue(n,r))}},{key:"textStartsWith",value:function(e,t,n,r){return"".concat(e," (lower(").concat(t,") LIKE '").concat(n,"%')")}},{key:"textEndsWith",value:function(e,t,n,r){return"".concat(e," (lower(").concat(t,") LIKE '%").concat(n,"')")}},{key:"prepareFilters",value:function(){var e=this,t=this.sql;this.filters&&this.filters.length>0&&(t="".concat(t," WHERE "),this.filters.forEach((function(n,r){var a=n.indicator,i=n.column,o=n.dataType,l=n.filter.values;t=r>0?"".concat(t," AND "):t,"range"===a&&(t=e.rangeCondition(t,i,l,o)),"FILTER_ON_VALUES"===a&&(t=e.valueRange(t,i,l,o)),"TEXT_CONTAINS"===a&&(t=e.textContains(t,i,l,o)),"TEXT_NOT_CONTAINS"===a&&(t=e.textNotContains(t,i,l,o)),"TEXT_STARTS_WITH"===a&&(t=e.textStartsWith(t,i,l,o)),"TEXT_ENDS_WITH"===a&&(t=e.textEndsWith(t,i,l,o)),"value"===a&&(t=e.valueEquals(t,i,l,o))}))),this.sql=t.replace(/ +(?= )/g,"")}},{key:"prepareGroupBy",value:function(){var e=this.configuration,t=e.groupBy,n=e.aggregateFunction;if(t){var r=t.name;this.sql="".concat(this.sql," GROUP BY ").concat(r||s.sqlFields.value)}else n&&"none"!==n&&(this.sql="".concat(this.sql," GROUP BY ").concat(s.sqlFields.value))}},{key:"prepareOrderBy",value:function(){var e=this.configuration.orderBy;if(e){var t=e.name;this.sql="".concat(this.sql," ORDER BY ").concat(t||s.sqlFields.category)}}},{key:"prepareOrder",value:function(){var e=this.configuration.orderBy;if(e){var t=e.orderType;this.sql="".concat(this.sql," ").concat(t||"asc")}}},{key:"prepareLimit",value:function(){var e=this.configuration.limit,t=void 0===e?500:e;this.sql="".concat(this.sql," LIMIT ").concat(t)}},{key:"requestWidgetData",value:function(){return o(this,void 0,void 0,i.mark((function e(){var t,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dataset.id){e.next=2;break}throw new Error("Error, datasetId not present in Filters service.");case 2:return e.abrupt("return",[]);case 5:return t=e.sent,e.next=8,t.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getQuery",value:function(){return this.sql.replace(/ +(?= )/g,"")}}],[{key:"handleFilters",value:function(e,t,n){return o(this,void 0,void 0,i.mark((function r(){var a,l,s,f,v,h,y,g,m=this;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.column,l=t.type,s=t.values,f=n.configuration,v=n.dataset,h=n.fields,n.widget,y=[],g=function(e){return u.default(e)?2===Object.keys(e).length?"range":"value":c.default(e)&&2===e.length?"range":"value"},r.next=6,p(e,(function(e,t){return o(m,void 0,void 0,i.mark((function n(){var r,o,u,c;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e[s]||0,o=e[a],u=e[l],c=new d.default(f,v,h),n.t0=y,n.t1=o,n.t2=g(r),n.t3="we-filter-".concat(o,"-").concat(t),n.t4=!e.operation,n.t5=u,n.t6={values:r,notNull:!0},n.next=13,c.getFieldInfo(e,o);case 13:n.t7=n.sent,n.t8={column:n.t1,indicator:n.t2,id:n.t3,exlude:n.t4,dataType:n.t5,filter:n.t6,fieldInfo:n.t7},n.t0.push.call(n.t0,n.t8);case 16:case"end":return n.stop()}}),n)})))}));case 6:return r.abrupt("return",y);case 7:case"end":return r.stop()}}),r)})))}},{key:"patchFilters",value:function(e,t,n,r,a){return o(this,void 0,void 0,i.mark((function o(){var l,u;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.values,t.id,t.type,l=new d.default(n,r,a),i.next=4,f.default(e,l,t);case 4:return u=i.sent,i.abrupt("return",u);case 6:case"end":return i.stop()}}),o)})))}}]),e}();t.default=v},,,function(e,t,n){"use strict";var r=n(4),a=n(15),i=n(16),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(171)),c=function(){function e(t,n,r){a(this,e),this.NUMERIC_TYPE="number",this.COLUMN_TYPE="string",this.DATE_TYPE="date",this.configuration=t,this.dataset=n,this.fields=r}return i(e,[{key:"query",value:function(e){return fetch("https://api.resourcewatch.org/v1/query/".concat(this.dataset.id,"?").concat(e)).then((function(e){if(e.status>=400)throw new Error(e.statusText);return e.json()})).then((function(e){return e.data}))}},{key:"getTableName",value:function(){return this.dataset.attributes.tableName}},{key:"getColumnMinAndMax",value:function(e){var t=e.columnName,n=this.getTableName(),r="SELECT MIN(".concat(t,") AS min, MAX(").concat(t,") AS max FROM ").concat(n);return this.query("sql=".concat(r)).then((function(e){return e?e[0]:{}}))}},{key:"getColumnValues",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.columnName,r=this.getTableName(),a=t?"GROUP BY ".concat(n):"",i="SELECT ".concat(n," FROM ").concat(r," ").concat(a," ORDER BY ").concat(n);return this.query("sql=".concat(i)).then((function(e){return(e||[]).map((function(e){return e[n]}))}))}},{key:"getFieldInfo",value:function(e,t){return o(this,void 0,void 0,r.mark((function e(){var n,a,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this.fields.find((function(e){return e.columnName===t}))).type!==this.NUMERIC_TYPE&&n.type!==this.DATE_TYPE){e.next=6;break}return e.next=4,this.getColumnMinAndMax(n);case 4:return a=e.sent,e.abrupt("return",a);case 6:if(n.type!==this.COLUMN_TYPE){e.next=11;break}return e.next=9,this.getColumnValues(n);case 9:return i=e.sent,e.abrupt("return",i.map((function(e){return{value:e,label:u.default(e)}})));case 11:return e.abrupt("return","".concat(n.type," Not implemented."));case 12:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=c},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_DATA=t.DIRECTION_HORIZONTAL=t.DIRECTION_VERTICAL=t.TYPE_RING=t.TYPE_DONUT=t.TYPE_PIE=t.TYPE_LINE=t.TYPE_SCATTERPLOT=t.TYPE_BAR=t.TYPE_COLUMN=void 0;t.TYPE_COLUMN="column";t.TYPE_BAR="bar";t.TYPE_SCATTERPLOT="scatter";t.TYPE_LINE="line";t.TYPE_PIE="pie";t.TYPE_DONUT="donut";t.TYPE_RING="ring";t.DIRECTION_VERTICAL="vertical";t.DIRECTION_HORIZONTAL="horizontal";var r=[{type:"column",direction:"vertical"},{type:"column",direction:"horizontal"},{type:"bar",direction:"vertical"},{type:"bar",direction:"horizontal"},{type:"line",direction:null},{type:"pie",direction:null},{type:"scatter",direction:null},{type:"ring",direction:null}];t.MENU_DATA=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=(r=n(323))&&r.__esModule?r:{default:r};var o=(0,a.connectState)((function(e){return{theme:e.theme}}))(i.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Number(e)===e&&e%1!==0}},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(23),a=n(15),i=n(16),o=n(4),l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(33),d=u(n(388));var s=function(){function e(){a(this,e),this.endpoint="https://api.resourcewatch.org/v1",this.dataEndpoint="https://api.resourcewatch.org/v1/query",this.config=null,this.datasetService=null,this.widgetService=null,this.datasetId=null,this.tableName=null,this.AUTH_TOKEN=null,this.applications=["rw"],this.env="production",this.locale="en",this.widget_params=["chartType","visualizationType","limit","value","category","color","size","orderBy","aggregateFunction","filters","areaIntersection","band","layer"];var t={applications:this.applications,env:this.env,locale:this.locale};this.config=d.default(t),this.datasetService=new c.DatasetService(this.config),this.widgetService=new c.WidgetService(this.config)}return i(e,[{key:"payload",value:function(){return{applications:this.applications,env:this.env}}},{key:"saveWidgetRW",value:function(){return l(this,void 0,void 0,o.mark((function e(){var t,n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat(this.endpoint,"/dataset/").concat(this.datasetId,"/widget"),!this.AUTH_TOKEN){e.next=16;break}return e.prev=2,e.next=5,fetch(t,{method:"POST",headers:{Authorization:"Bearer ".concat(this.AUTH_TOKEN)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(2),console.error("Cant save widget",e.t0);case 14:e.next=17;break;case 16:console.error("Missing auth token for saveWidget (RW)");case 17:case"end":return e.stop()}}),e,this,[[2,11]])})))}},{key:"hasAuthToken",value:function(){return!!this.AUTH_TOKEN}},{key:"setDatasetId",value:function(e){e||console.error("Error: datasetId is required"),this.datasetId=e}},{key:"setTableName",value:function(e){e||console.error("Error: datasetId is required"),this.tableName=e}},{key:"getDataset",value:function(){var e,t;return l(this,void 0,void 0,o.mark((function n(){var r,a,i,l,u,c,d,s;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.config.getConfig(),a=r.applications,i=r.env,l=r.locale,"metadata,vocabulary,widget,layer",u="".concat(this.endpoint,"/dataset/").concat(this.datasetId,"?").concat(a.join(","),"&env=").concat(i,"&language=").concat(l,"&includes=").concat("metadata,vocabulary,widget,layer","&page[size]=999"),n.next=5,this.datasetService.fetchData(u);case 5:return c=n.sent,d=c.data,this.tableName=(null===(t=null===(e=d)||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.tableName)||null,s=Object.assign(Object.assign({},d),{attributes:Object.assign(Object.assign({},d.attributes),{widget:d.attributes.widget.filter((function(e){return!!e.attributes.published}))})}),n.abrupt("return",s);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"getFields",value:function(){return l(this,void 0,void 0,o.mark((function e(){var t,n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.endpoint,"/fields/").concat(this.datasetId),e.next=3,this.datasetService.fetchData(t);case 3:return n=e.sent,r=n.fields,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getWidget",value:function(e,t){var n;return l(this,void 0,void 0,o.mark((function r(){var a,i,l,u,c,d,s,f,p;return o.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=this.config.getConfig(),i=a.applications,l=a.env,u=a.locale,c="metadata",d=t||(null===(n=this.widgetService.fromDataset(e))||void 0===n?void 0:n.id)){r.next=5;break}return r.abrupt("return",null);case 5:return s="".concat(this.endpoint,"/widget/").concat(d,"?").concat(i.join(","),"&env=").concat(l,"&language=").concat(u,"&includes=").concat(c,"&page[size]=999"),r.next=8,this.widgetService.fetchWidget(s);case 8:return f=r.sent,p=f.data,r.abrupt("return",p);case 11:case"end":return r.stop()}}),r,this)})))}},{key:"getWidgetData",value:function(e,t){return l(this,void 0,void 0,o.mark((function n(){var r,a,i,l;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.widgetService.getDataSqlQuery(e,t),a="".concat(this.endpoint,"/query/").concat(this.datasetId,"?sql=").concat(r),n.next=4,this.widgetService.fetchWidgetData(a);case 4:return i=n.sent,l=i.data,n.abrupt("return",l);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"getLayers",value:function(){return l(this,void 0,void 0,o.mark((function e(){var t,n,r,a,i,l;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config.getConfig(),n=t.applications,r=t.env,t.locale,a="".concat(this.endpoint,"/dataset/").concat(this.datasetId,"/layer?app=").concat(n.join(","),"&env=").concat(r,"&page[size]=9999"),e.next=4,this.datasetService.fetchData(a);case 4:return i=e.sent,l=i.data,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"handleSave",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rw",a=arguments.length>3?arguments[3]:void 0,i=a.configuration,o=a.widget,l=a.filters.list,u=t.dataset,c=u.id,d=u.attributes.tableName;this.setDatasetId(c),this.setTableName(d);var s={};this.widget_params.forEach((function(e){e in i&&(s=Object.assign(Object.assign({},s),r({},e,i[e])))}));var f=o;delete f.data,f.filters=this.filterSerializer(l);var p={name:i.title||null,description:i.description||null,application:n,widgetConfig:f};e(p)}},{key:"filterSerializer",value:function(e){var t=this,n=e.map((function(e){return{value:"FILTER_ON_VALUES"===e.indicator?e.filter.values.map((function(e){return e.value})):e.filter.values,type:e.dataType,name:e.column,datasetID:t.datasetId,tableName:t.tableName,alias:e.column}})),r=["value","type","datasetID","tableName"];return n.filter((function(e){return[].concat(r).filter((function(t){return function(e){return(!Array.isArray(e)||0!==e.length)&&(("string"!==typeof e||0!==e.length)&&null!==e)}(e[t])})).length===r.length}))}},{key:"requestData",value:function(e,t){return l(this,void 0,void 0,o.mark((function n(){var r,a;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.resourcewatch.org/v1/query/".concat(t.id,"?sql=").concat(e));case 2:return r=n.sent,n.next=5,r.json();case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))}},{key:"filterUpdate",value:function(e,t,n,r){return l(this,void 0,void 0,o.mark((function a(){var i,l,u,d,s,f;return o.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&Array.isArray(e)&&0!==e.length){a.next=2;break}return a.abrupt("return",[]);case 2:return i=n.attributes,l=i.name,u=i.description,d=i.widgetConfig,s=Object.assign(Object.assign({},d.paramsConfig),{title:l,caption:u}),a.next=6,c.FiltersService.handleFilters(e,{column:"name",values:"value",type:"type"},{configuration:s,dataset:r,fields:t,widget:n});case 6:return f=a.sent,a.abrupt("return",f);case 8:case"end":return a.stop()}}),a)})))}}]),e}();t.default=s},,,,,function(e,t,n){e.exports=n(393)},,,,,function(e,t,n){},,,,,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(157))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";var r=n(14),a=n(15),i=n(16),o=n(57),l=n(58);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=d(n(1)),c=d(n(163));function d(e){return e&&e.__esModule?e:{default:e}}var s=function(e){o(n,e);var t=l(n);function n(){return a(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){var e=this.props,t=e.authenticated,n=e.application,a=e.onSave,i=e.datasetId,o=e.widgetId,l=void 0===o?null:o,d=e.adapter,s=e.theme,f=e.disable,p=e.schemes,v=e.compact,h=void 0===v||v;if("function"!==typeof d)throw new Error("Widget editor: Missing prop adapter and adapter needs to be of type Adapter");if(!i)throw new Error("Widget editor: Missing prop datasetId of type string");return u.default.createElement(c.default,{authenticated:t,disable:f,application:n,onSave:a,datasetId:i,widgetId:l,adapter:new d,schemes:p,theme:r({},s,{compact:{isCompact:h,isOpen:!1}})})}}]),n}(u.default.Component);t.default=s},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=n(65),o=n(39),l=(r=n(240))&&r.__esModule?r:{default:r};var u=(0,a.connectState)((function(e){return{editor:e.editor,configuration:e.configuration,widget:e.widget,editorState:e}}),(function(e){return{dispatch:e,setEditor:function(t){return e((0,i.setEditor)(t))},setTheme:function(t){return e((0,o.setTheme)(t))},setScheme:function(t){return e((0,o.setScheme)(t))}}}))(l.default);t.default=u},function(e,t,n){"use strict";var r=n(4),a=n(15),i=n(16),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(t){a(this,e),this.config=t}return i(e,[{key:"fetchData",value:function(e){return o(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if(!((n=t.sent).status>=400)){t.next=7;break}throw new Error(n.statusText);case 7:return t.next=9,n.json();case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),console.error("Error loading dataset:",e),t.abrupt("return",{});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))}}]),e}();t.default=l},,function(e,t,n){"use strict";var r=n(4),a=n(15),i=n(16),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(97),u=function(){function e(t){a(this,e),this.config=t}return i(e,[{key:"fromDataset",value:function(e){var t;return l.find(null===(t=e.attributes)||void 0===t?void 0:t.widget,(function(e){return!!e.attributes.defaultEditableWidget}))}},{key:"getDataSqlQuery",value:function(e,t){return""}},{key:"fetchWidgetData",value:function(e){return o(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))}},{key:"fetchWidget",value:function(e){return o(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if(!((n=t.sent).status>=400)){t.next=6;break}throw new Error(n.statusText);case 6:return t.next=8,n.json();case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(0),new Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))}}]),e}();t.default=u},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";var r=n(4),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.TYPE_FILTER_ON_VALUES="FILTER_ON_VALUES",t.TYPE_TEXT_CONTAINS="TEXT_CONTAINS",t.TYPE_TEXT_NOT_CONTAINS="TEXT_NOT_CONTAINS",t.TYPE_TEXT_STARTS_WITH="TEXT_STARTS_WITH",t.TYPE_TEXT_ENDS_WITH="TEXT_ENDS_WITH";var i={values:"",type:null,notNull:!1},o={values:[0,100],type:"range",notNull:!0,max:500,min:0},l={values:0,type:"value",notNull:!0,max:500,min:0};function u(e,t){return a(this,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=0;case 1:if(!(a<e.length)){n.next=7;break}return n.next=4,t(e[a],a,e);case 4:a++,n.next=1;break;case 7:case"end":return n.stop()}}),n)})))}var c=function(e,t,n){return a(void 0,void 0,void 0,r.mark((function a(){var i,o,l;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.values,t.type,r.next=3,n.getFieldInfo(e,i.value);case 3:return o=r.sent,l="string"!==i.dataType?Object.assign(Object.assign({},e.filter),{values:[o.min,o.max]}):Object.assign(Object.assign({},e.filter),{type:"string",values:[]}),r.abrupt("return",Object.assign(Object.assign({},e),{column:i.value,indicator:"string"===i.dataType?"FILTER_ON_VALUES":"range",dataType:i.dataType,fieldInfo:o,filter:l}));case 6:case"end":return r.stop()}}),a)})))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Array.isArray(e)?e:[]:null===e?"":Array.isArray(e)?e.map((function(e){return e.label})).join(","):e},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.fieldInfo&&e.fieldInfo.min?e.fieldInfo.min:0,a=e.fieldInfo&&e.fieldInfo.max?e.fieldInfo.max:0;return t||(n?[r,a]:a)},f=function(e,n){var r=n.values,a=e.filter.values,u=null;if(r.value===t.TYPE_FILTER_ON_VALUES)u=Object.assign(Object.assign({},i),{notNull:!0,values:d(a,!0)});else if(r.value===t.TYPE_TEXT_CONTAINS||r.value===t.TYPE_TEXT_NOT_CONTAINS||r.value===t.TYPE_TEXT_STARTS_WITH||r.value===t.TYPE_TEXT_ENDS_WITH)u=Object.assign(Object.assign({},i),{values:d(a)});else if("range"===r.value)u=Object.assign(Object.assign({},o),{values:s(e,a,!0)});else{if("value"!==r.value)throw new Error("Filters helper patch indicator, type ".concat(r.value," is not a valid indicator."));u=Object.assign(Object.assign({},l),{values:s(e,a)})}return Object.assign(Object.assign({},e),{indicator:r.value,filter:u})},p=function(e,t){var n=t.values;return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{values:n})})},v=function(e,t){var n=t.values;return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{values:n})})},h=function(e){return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{notNull:!e.filter.notNull})})};t.default=function(e,n,i){return a(void 0,void 0,void 0,r.mark((function o(){var l,d,s;return r.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i.values,l=i.id,d=i.type,s=[],"columns"!==d){o.next=7;break}return o.next=5,u(e,(function(e){return a(void 0,void 0,void 0,r.mark((function t(){var a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id!==l){t.next=7;break}return t.next=3,c(e,i,n);case 3:a=t.sent,s.push(a),t.next=8;break;case 7:s.push(e);case 8:case"end":return t.stop()}}),t)})))}));case 5:o.next=8;break;case 7:s=e.map((function(e){if(e.id===l){if("indicator"===d)return f(e,i);if("range"===d)return p(e,i);if("value"===d||d===t.TYPE_FILTER_ON_VALUES)return v(e,i);if("NOT_NULL_CHECK"===d)return h(e);throw new Error("Error in filter helper type ".concat(d," not implemented."))}return e}));case 8:return o.abrupt("return",s);case 9:case"end":return o.stop()}}),o)})))}},function(e,t,n){"use strict";var r=n(4),a=n(15),i=n(16),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(24)),c=l(n(98)),d=n(79),s=function(){function e(t,n,r,i,o){a(this,e),this.adapter=r,this.setEditor=i,this.dispatch=o,this.dataset=null,this.widgetId=n,this.widget=null,this.widgetData=null,this.adapter.setDatasetId(t)}return i(e,[{key:"getDatasetAndWidgets",value:function(){return o(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.getDataset();case 2:return this.dataset=e.sent,e.next=5,this.adapter.getWidget(this.dataset,this.widgetId);case 5:this.widget=e.sent,this.setEditor({dataset:this.dataset,widget:this.widget}),this.dispatch({type:d.sagaEvents.DATA_FLOW_DATASET_WIDGET_READY});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"restoreEditor",value:function(e,t){return o(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.setEditor({restoring:!0}),this.widgetId=t,this.adapter.setDatasetId(e),n.next=5,this.getDatasetAndWidgets();case 5:return n.next=7,this.getFieldsAndLayers();case 7:return n.next=9,this.handleFilters();case 9:this.setEditor({restoring:!1});case 10:case"end":return n.stop()}}),n,this)})))}},{key:"handleFilters",value:function(){var e,t,n;return o(this,void 0,void 0,r.mark((function a(){var i,o,l,c,s,f;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.widget){r.next=2;break}return r.abrupt("return",null);case 2:if(i=null===(t=null===(e=this.widget.attributes)||void 0===e?void 0:e.widgetConfig)||void 0===t?void 0:t.paramsConfig,o=null===(n=i)||void 0===n?void 0:n.filters,l=null,c=null,!(o&&Array.isArray(o)&&o.length>0)){r.next=14;break}return s=o.filter((function(e){return!!e.operation})),u.default(i.orderBy)&&(l=i.orderBy),u.default(i.color)&&(c=i.color),r.next=12,this.adapter.filterUpdate(s,this.allowedFields,this.widget,this.dataset);case 12:f=r.sent,this.dispatch({type:d.reduxActions.EDITOR_SET_FILTERS,payload:{color:c,orderBy:l,list:f}});case 14:case"end":return r.stop()}}),a,this)})))}},{key:"isFieldAllowed",value:function(e){var t=d.ALLOWED_FIELD_TYPES.find((function(t){return t.name.toLowerCase()===e.type.toLowerCase()}));return!("cartodb_id"===e.columnName)&&t}},{key:"getFieldsAndLayers",value:function(){var e,t,n,a;return o(this,void 0,void 0,r.mark((function i(){var o,l,u,c=this;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.adapter.getFields();case 2:return o=r.sent,r.next=5,this.adapter.getLayers();case 5:l=r.sent,u=null===(a=null===(n=null===(t=null===(e=this.dataset)||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.metadata[0])||void 0===n?void 0:n.attributes)||void 0===a?void 0:a.columns,this.allowedFields=[],o&&Object.keys(o).length>0&&Object.keys(o).forEach((function(e){if(u&&e in u){var t=Object.assign(Object.assign({},o[e]),{columnName:e,metadata:u[e]});c.isFieldAllowed(t)&&c.allowedFields.push(t)}})),this.dispatch({type:d.sagaEvents.DATA_FLOW_FIELDS_AND_LAYERS_READY}),this.setEditor({layers:l,fields:this.allowedFields});case 11:case"end":return r.stop()}}),i,this)})))}},{key:"requestWithFilters",value:function(e,t){return o(this,void 0,void 0,r.mark((function n(){var a,i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.adapter.filterSerializer(e),a=new c.default(Object.assign({},t),e,this.dataset),n.next=4,this.adapter.requestData(a.getQuery(),this.dataset);case 4:!(i=n.sent).data||"errors"in i?this.setEditor({errors:["WIDGET_DATA_UNAVAILABLE"]}):(this.setEditor({widgetData:i.data}),this.dispatch({type:d.sagaEvents.DATA_FLOW_WIDGET_DATA_READY}));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"resolveInitialState",value:function(){return o(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatasetAndWidgets();case 2:return e.next=4,this.getFieldsAndLayers();case 4:return e.next=6,this.handleFilters();case 6:this.setEditor({initialized:!0});case 7:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(15),a=n(16),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(24)),l=i(n(175)),u=i(n(176)),c=i(n(177)),d=i(n(178)),s=i(n(179)),f=n(180),p=n(34),v=function(){function e(t,n,a,i){r(this,e),this.scheme=i.schemes.find((function(e){return e.name===i.selectedScheme})),this.colorApplied=o.default(a.color),this.schema=p.defaultVegaSchema(),this.widgetConfig=t,this.widgetData=n,this.configuration=a,this.setConfig(),this.resolveChart()}return a(e,[{key:"groupSimilar",value:function(e){var t={};e.forEach((function(e){e.x in t?t[e.x]=Object.assign(Object.assign({},t[e.x]),{y:t[e.x].y+e.y}):t[e.x]=Object.assign({},e)}));var n=[];return Object.keys(t).forEach((function(e){n.push(t[e])})),n}},{key:"groupByTop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;function n(e,t){return e.y>t.y?-1:t.y>e.y?1:0}var r=this.groupSimilar(e),a=r.sort(n),i=a.slice(0,t),o=a.slice(t,a.length+1),l=[],u={x:"Others",y:0};return o.forEach((function(e){u=Object.assign(Object.assign({},u),{y:u.y+e.y})})),i.forEach((function(e){l.push({x:e.x,y:e.y})})),[].concat(l,[u])}},{key:"groupByColor",value:function(e){var t={};e.forEach((function(e){e.color&&(e.color in t?t[e.color]=Object.assign(Object.assign({},t[e.color]),{y:t[e.color].y+e.y}):t[e.color]=e)}));var n=[];return Object.keys(t).forEach((function(e){n.push(t[e])})),n}},{key:"resolveDataFormat",value:function(){var e=this.configuration,t=e.chartType;e.direction;return"pie"===t?this.groupByTop(this.widgetData):this.widgetData}},{key:"resolveChart",value:function(){var e,t=this.configuration,n=t.chartType,r=t.direction,a=this.resolveDataFormat();if(-1===f.SUPPORTED_CHARTS.indexOf(n))throw new Error("Chart of type: ".concat(n," is not supported. we support: (").concat(f.SUPPORTED_CHARTS.join("|"),")"));"pie"===n&&(e=new l.default(this.schema,this.widgetConfig,a,this.scheme).getChart()),"bar"===n&&(e="horizontal"===r?new u.default(this.schema,this.widgetConfig,a,this.scheme,this.colorApplied).getChart():new c.default(this.schema,this.widgetConfig,a,this.scheme,this.colorApplied).getChart()),"line"===n&&(e=new d.default(this.schema,this.widgetConfig,a,this.scheme).getChart()),"scatter"===n&&(e=new s.default(this.schema,this.widgetConfig,a).getChart()),this.schema=Object.assign(Object.assign({},this.schema),e)}},{key:"setConfig",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{config:Object.assign(Object.assign({},this.schema.config),this.widgetConfig.config)})}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=v},function(e,t,n){"use strict";var r=n(15),a=n(16);Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),o=function(){function e(t,n,a,i){r(this,e),this.schema=t,this.scheme=i,this.widgetConfig=n,this.widgetData=a,this.generateSchema(),this.setGenericSettings()}return a(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig()})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{width:400,height:400})}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string",format:".2f"}]}}]}},{key:"setScales",value:function(){return[{name:"c",type:"ordinal",domain:{data:"table",field:i.sqlFields.value},range:this.scheme?this.scheme.category:"category20"}]}},{key:"setMarks",value:function(){return[{type:"arc",from:{data:"table"},encode:{enter:{tooltip:{signal:"{'Label': datum.x, 'Value': datum.y }"},fill:{scale:"c",field:i.sqlFields.value},x:{signal:"width / 2"},y:{signal:"height / 2"}},update:{startAngle:{field:"startAngle"},endAngle:{field:"endAngle"},innerRadius:{signal:"width > height ? height / 3 : width / 3"},outerRadius:{signal:"width > height ? height / 2 : width / 2"}},hover:{opacity:{value:.8}}}}]}},{key:"bindData",value:function(){return[{values:this.widgetData,name:"table",transform:[{type:"pie",field:i.sqlFields.category,startAngle:0,endAngle:6.29}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(15),a=n(16);Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),o=function(){function e(t,n,a,i,o){r(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=a,this.colorApplied=o,this.scheme=i,this.generateSchema(),this.setGenericSettings()}return a(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig(),config:Object.assign(Object.assign({},this.scheme.config),this.colorApplied?{}:{rect:{fill:this.scheme.mainColor}})})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:400,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"setScales",value:function(){var e=[{name:"x",type:"band",domain:{data:"table",field:"id"},range:"width",padding:.05},{name:"y",type:"linear",domain:{data:"table",field:i.sqlFields.category},nice:!0,zero:!0,range:"height"}];return this.colorApplied&&e.push({name:"color",type:"ordinal",domain:{data:"table",field:i.sqlFields.category},range:this.scheme.category}),e}},{key:"setMarks",value:function(){return[{type:"rect",from:{data:"table"},encode:{enter:Object.assign({tooltip:{signal:"{'Label': datum.x, 'Value': datum.y }"}},this.colorApplied?{fill:{scale:"color",field:i.sqlFields.category}}:{}),update:{opacity:{value:1},x:{scale:"x",field:"id"},width:{scale:"x",band:1},y:{scale:"y",field:"y"},y2:{scale:"y",value:0}},hover:{opacity:{value:.8}}}}]}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string",format:".2f"}]}}]}},{key:"setAxes",value:function(){return[Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisX),{orient:"bottom",scale:"x",labelOverlap:"parity",ticks:!1,encode:{labels:{update:{text:{signal:"width < 300 || data('table')[0].count > 10 ? truncate(data('table')[datum.value - 1].x, 12) : data('table')[datum.value - 1].x"},align:{signal:"width < 300 || data('table')[0].count > 10 ? 'right' : 'center'"},baseline:{signal:"width < 300 || data('table')[0].count > 10 ? 'middle' : 'top'"},angle:{signal:"width < 300 || data('table')[0].count > 10 ? -90 : 0"}}}}}),Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisY),{orient:"left",scale:"y",labelOverlap:"parity",format:"s",encode:{labels:{update:{align:{value:"right"},baseline:{value:"bottom"}}}}})]}},{key:"bindData",value:function(){var e=this.widgetData;this.scheme;return[{values:e,name:"table",transform:[{type:"identifier",as:"id"},{type:"joinaggregate",as:["count"]}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(15),a=n(16);Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),o=function(){function e(t,n,a,i,o){r(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=a,this.scheme=i,this.colorApplied=o,this.generateSchema(),this.setGenericSettings()}return a(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig(),config:Object.assign(Object.assign({},this.scheme.config),this.colorApplied?{}:{rect:{fill:this.scheme.mainColor}})})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:400,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"setScales",value:function(){var e=[{name:"x",type:"linear",domain:{data:"table",field:i.sqlFields.category},range:"width"},{name:"y",type:"band",domain:{data:"table",field:"x"},range:"height",padding:.05}];return this.colorApplied&&e.push({name:"color",type:"ordinal",domain:{data:"table",field:i.sqlFields.category},range:this.scheme.category}),e}},{key:"setAxes",value:function(){return[Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisX),{orient:"bottom",scale:"x",grid:!0,labelOverlap:"parity"}),Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisY),{orient:"left",scale:"y",labelOverlap:"parity",ticks:!1,grid:!1,encode:{labels:{update:{text:{signal:"truncate(datum.value, 12)"},align:{signal:"width < 300 || data('table')[0].count > 10 ? 'right' : 'center'"},baseline:{signal:"width < 300 || data('table')[0].count > 10 ? 'middle' : 'top'"}}}}})]}},{key:"setMarks",value:function(){return[{type:"rect",from:{data:"table"},encode:{enter:Object.assign(Object.assign({},this.colorApplied?{fill:{scale:"color",field:i.sqlFields.category}}:{}),{tooltip:{signal:"{'Label': datum.x, 'Value': datum.y }"}}),update:{opacity:{value:1},x:{scale:"x",value:0},x2:{scale:"x",field:i.sqlFields.category},y:{scale:"y",field:"x"},height:{scale:"y",band:1}},hover:{opacity:{value:.8}}}}]}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string",format:".2f"}]}}]}},{key:"bindData",value:function(){var e=this.widgetData;this.scheme;return[{values:e,name:"table",transform:[{type:"identifier",as:"id"},{type:"joinaggregate",as:["count"]}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(15),a=n(16);Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),o=function(){function e(t,n,a,i){r(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=a,this.scheme=i,this.generateSchema(),this.setGenericSettings()}return a(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig(),config:Object.assign(Object.assign({},this.schema.config),{line:Object.assign(Object.assign({},this.schema.config.line),{stroke:this.scheme?this.scheme.mainColor:this.schema.config.line.stroke}),symbol:Object.assign(Object.assign({},this.schema.config.symbol),{fill:this.scheme?this.scheme.mainColor:this.schema.config.symbol.fill})}),signals:[{name:"hover",value:null,on:[{events:"@cell:mouseover",update:"datum"},{events:"@cell:mouseout",update:"null"}]}]})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:400,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string"}]}}]}},{key:"setScales",value:function(){return[{name:"x",type:"point",range:"width",domain:{data:"table",field:"x"}},{name:"y",type:"linear",range:"height",nice:!0,zero:!0,domain:{data:"table",field:i.sqlFields.category}}]}},{key:"setMarks",value:function(){return[{name:"lines",interactive:!1,type:"line",from:{data:"table"},encode:{enter:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},strokeCap:{value:"round"},strokeWidth:{value:2},strokeJoin:{value:"round"}}}},{name:"points",interactive:!1,type:"symbol",from:{data:"dots"},encode:{enter:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"}},update:{opacity:{value:1}}}},{name:"cell",type:"path",from:{data:"lines"},transform:[{type:"voronoi",x:"datum.x",y:"datum.y",size:[{signal:"width"},{signal:"height"}]}],encode:{enter:{tooltip:{signal:"{'Value': datum.x }"}},update:{path:{field:"path"},fill:{value:"red"},opacity:{value:0}}}}]}},{key:"setAxes",value:function(){return[Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisX),{orient:"bottom",scale:"x",labelOverlap:"parity",ticks:!1}),Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisY),{orient:"left",scale:"y",labelOverlap:"parity",format:"s",encode:{labels:{update:{align:{value:"right"},baseline:{value:"bottom"}}}}})]}},{key:"bindData",value:function(){return[{values:this.widgetData,name:"table",transform:[{type:"identifier",as:"id"},{type:"joinaggregate",as:["count"]}]},{name:"dots",source:"table",transform:[{type:"filter",expr:"hover && hover.datum.x === datum.x"}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(15),a=n(16);Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),o=function(){function e(t,n,a){r(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=a,this.generateSchema(),this.setGenericSettings()}return a(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData()})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:300,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"setScales",value:function(){return[{name:"xscale",type:"linear",round:!0,nice:!0,zero:!1,domain:{data:"table",field:i.sqlFields.value},range:"width"},{name:"yscale",type:"linear",round:!0,nice:!0,zero:!0,domain:{data:"table",field:i.sqlFields.category},range:"height"}]}},{key:"setMarks",value:function(){return[{name:"marks",type:"symbol",from:{data:"table"},encode:{update:{x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"y"},strokeOpacity:{value:0},zindex:{value:0},opacity:{value:.5}},hover:{strokeOpacity:{value:1},zindex:{value:1},opacity:{value:1}}}}]}},{key:"setAxes",value:function(){return[{scale:"xscale",labelOverlap:"parity",orient:"bottom",encode:{labels:{update:{align:{value:"center"},baseline:{value:"top"}}}}},{scale:"yscale",labelOverlap:"parity",orient:"left",format:"s"}]}},{key:"bindData",value:function(){return[{values:this.widgetData,name:"table"}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_CHARTS=["pie","bar","line","scatter"],t.default={SUPPORTED_CHARTS:t.SUPPORTED_CHARTS}},function(e,t,n){"use strict";var r=n(4),a=n(15),i=n(16),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(79),c=l(n(60)),d=function(){function e(){a(this,e),this.chartCache={chartType:null,direction:null},this.configuration={value:null,category:null,orderBy:null,groupBy:null,color:null,aggregateFunction:null,filters:null,areaIntersection:null,band:null,layer:null,limit:null}}return i(e,[{key:"cacheChart",value:function(e){var t=e.configuration,n=t.chartType,r=void 0===n?null:n,a=t.direction,i=void 0===a?null:a;this.chartCache={chartType:r,direction:i}}},{key:"chartHasUpdate",value:function(e){var t=e.editor,n=e.configuration,r=n.chartType,a=n.direction,i=!c.default(this.chartCache,{chartType:r,direction:a});return this.chartCache={chartType:r,direction:a},i&&t.initialized}},{key:"configurationHasUpdate",value:function(e){var t=e.editor,n=e.configuration,r={value:n.value,category:n.category,orderBy:n.orderBy,groupBy:n.groupBy,color:n.color,aggregateFunction:n.aggregateFunction,filters:n.filters,areaIntersection:n.areaIntersection,band:n.band,layer:n.layer,limit:n.limit},a=!c.default(this.configuration,r);return this.configuration=r,a&&t.initialized}},{key:"sync",value:function(e){return o(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],this.chartHasUpdate(e)&&n.push(u.sagaEvents.DATA_FLOW_UPDATE_WIDGET),this.configurationHasUpdate(e)&&n.push(u.sagaEvents.DATA_FLOW_CONFIGURATION_UPDATE),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})))}}]),e}();t.default=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(15),a=n(16),i=n(77),o=n(57),l=n(58);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=y(n(1)),c=y(n(60)),d=y(n(112)),s=y(n(242)),f=y(n(309)),p=y(n(362)),v=n(33),h=n(367);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){o(n,e);var t=l(n);function n(e){var a;r(this,n),a=t.call(this,e),g(i(a),"resolveAuthentication",(0,d.default)((function(e){(0,a.props.setEditor)({authenticated:e})}),1e3)),g(i(a),"initializeRestoration",(0,d.default)((function(e,t){a.dataService.restoreEditor(e,t)}),1e3)),g(i(a),"resolveTheme",(0,d.default)((function(e){(0,a.props.setTheme)(e)}),1e3)),g(i(a),"resolveSchemes",(0,d.default)((function(e){(0,a.props.setScheme)(e)}),1e3));var o=a.props,l=o.datasetId,u=o.widgetId,c=o.adapter,s=o.setEditor,f=o.dispatch,p=o.theme,h=o.schemes;return a.onSave=a.onSave.bind(i(a)),a.dataService=new v.DataService(l,u,c,s,f),a.dataService.resolveInitialState(),a.resolveTheme(p),a.resolveSchemes(h),e.dispatch({type:v.constants.sagaEvents.DATA_FLOW_STORE_ADAPTER_CONFIG,payload:c}),a}return a(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.authenticated;e.disabled;t&&this.resolveAuthentication(),this.resolveEditorFunctionality()}},{key:"componentDidUpdate",value:function(e){var t=e.datasetId,n=e.widgetId,r=e.theme,a=e.schemes,i=e.authenticated,o=this.props,l=o.datasetId,u=o.widgetId,d=o.theme,s=o.schemes,f=o.authenticated;(0,c.default)(l,t)&&(0,c.default)(u,n)||this.initializeRestoration(l,u),(0,c.default)(d,r)||this.resolveTheme(d),(0,c.default)(s,a)||this.resolveSchemes(s),(0,c.default)(f,i)||this.resolveAuthentication(f)}},{key:"resolveEditorFunctionality",value:function(){var e=this.props,t=e.setEditor,n=e.disable;n&&Array.isArray(n)&&t({disabledFeatures:n})}},{key:"onSave",value:function(){var e=this.props,t=e.onSave,n=e.dispatch,r=e.editorState,a=e.adapter,i=e.application;"function"===typeof t&&a.handleSave(t,this.dataService,i,r),n({type:v.constants.sagaEvents.EDITOR_SAVE})}},{key:"render",value:function(){var e=this.props,t=e.adapter,n=e.theme.compact;return u.default.createElement(h.StyledContainer,n,u.default.createElement(s.default,null),u.default.createElement(f.default,{adapter:t,dataService:this.dataService}),u.default.createElement(p.default,{onSave:this.onSave}))}}]),n}(u.default.Component);t.default=m},,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(243))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(18),i=(r=n(257))&&r.__esModule?r:{default:r};var o=a.redux.connectState((function(e){return{editor:e.editor,widget:e.widget}}))(i.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=(r=n(245))&&r.__esModule?r:{default:r};var o=(0,a.connectState)((function(e){return{theme:e.theme}}))(i.default);t.default=o},function(e,t,n){"use strict";var r=n(114);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n(1))&&a.__esModule?a:{default:a},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(8));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=o.default.button.withConfig({displayName:"component__StyledButton",componentId:"sc-1hkaugy-0"})(["cursor:pointer;font-size:16px;color:#393f44;border:1px solid rgba(202,204,208,0.85);background:transparent;padding:10px 20px;border-radius:5px;outline:1;"," "," "," "," ",""],(function(e){return e.size&&"small"===e.size&&(0,o.css)(["padding:7px 15px;"])}),(function(e){return e.type&&"cta"===e.type&&(0,o.css)(["background:",";color:#fff;border:1px solid transparent;"],e.color)}),(function(e){return e.type&&"highlight"===e.type&&(0,o.css)(["color:",";border:1px solid ",";"],e.color,e.color)}),(function(e){return e.type&&"default"===e.type&&(0,o.css)(["&:hover,&.active{","}"],(function(e){return e.color&&(0,o.css)(["border:1px solid ",";color:",";"],e.color,e.color)}))}),(function(e){return e.active&&(0,o.css)(["border:1px solid ",";color:",";"],e.color,e.color)})),d=function(e){var t=e.type,n=void 0===t?"default":t,a=e.theme,o=e.children,l=r(e,["type","theme","children"]);return i.default.createElement(c,u({},l,{color:a.color,type:n}),o)};t.default=d},,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(250))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";var r=n(114);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=c(n(29)),o=c(n(251)),l=n(85),u=n(254);function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t=e.isCustom,n=void 0!==t&&t,c=(e.isPopup,e.relative),d=void 0!==c&&c,f=(e.configuration,e.align),p=void 0===f?l.ALIGN_HORIZONTAL:f,v=e.onChange,h=void 0===v?function(){}:v,y=r(e,["isCustom","isPopup","relative","configuration","align","onChange"]);return a.default.createElement(a.Fragment,null,a.default.createElement(u.StyledSelectBox,{align:p,relative:d},a.default.createElement(i.default,s({align:p,onChange:function(e){h(e)},styles:n?u.CustomStyles:u.InputStyles,components:n?{Menu:o.default}:null},y))))};t.default=f},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(252))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),a=n(18),i=n(85),o=n(253);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){var t=e.options,n=e.getValue,l=e.setValue,c=e.innerRef,d=e.innerProps,s=e.selectProps,f=n()[0],p=s.align,v=void 0===p?i.ALIGN_HORIZONTAL:p;return r.default.createElement(o.StyledPopupContainer,u({align:v,ref:c},d),r.default.createElement(o.StyledPopupInsideContainer,{align:v},t.map((function(e){return r.default.createElement(r.Fragment,{key:e.identifier+e.name},r.default.createElement(o.StyledCategoryAlias,{nonSelectedCategory:"___single_color"===e.identifier,active:f&&e.identifier===f.identifier,onClick:function(){return l(e)}},r.default.createElement(o.IconBox,null,r.default.createElement(a.CategoryIcon,null)),"___single_color"===e.identifier?"Single color":e.identifier),"___single_color"!==e.identifier&&r.default.createElement(o.StyledCategoryInfoContainer,null,r.default.createElement(o.StyledValueAlias,null,r.default.createElement(o.IconBox,null,"#"),e.alias||e.name||e.identifier),e.description&&r.default.createElement(o.StyledDescription,null,e.description)))}))))};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconBox=t.StyledCategoryInfoContainer=t.StyledDescription=t.StyledValueAlias=t.StyledCategoryDescription=t.StyledCategoryAlias=t.StyledPopupInsideContainer=t.StyledPopupContainer=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(8)),a=n(85);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=r.default.div.withConfig({displayName:"style__StyledPopupContainer",componentId:"hz8v7c-0"})(["*{box-sizing:border-box;}position:absolute;box-sizing:border-box;height:auto;min-width:200px;max-width:400px;z-index:2;bottom:40px;left:50%;margin-left:-100px;",""],(function(e){return e.align===a.ALIGN_VERTICAL&&(0,r.css)(["padding-left:20px;left:75px;bottom:initial;top:-30px;margin-left:initial;"])}));t.StyledPopupContainer=o;var l=r.default.div.withConfig({displayName:"style__StyledPopupInsideContainer",componentId:"hz8v7c-1"})(["padding:20px;max-height:200px;overflow-y:auto;border:1px solid rgba(26,28,34,0.1);border-radius:4px;background-color:#ffffff;box-shadow:0 20px 30px 0 rgba(0,0,0,0.1);cursor:initial;",'::-webkit-scrollbar{width:7px;}::-webkit-scrollbar-track{box-shadow:inset 0 0 2px grey;border-radius:10px;background:rgba(0,0,0,0.05);}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.3);border-radius:10px;}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.4);}&:after{content:"";position:absolute;left:calc(50% - 5px);bottom:-20px;border:12px solid transparent;border-top:12px solid #ffffff;z-index:3;',"}"],(function(e){return e.align===a.ALIGN_VERTICAL&&(0,r.css)(["box-shadow:-10px -10px 30px 0 rgba(0,0,0,0.15);"])}),(function(e){return e.align===a.ALIGN_VERTICAL&&(0,r.css)(["transform:rotate(90deg);left:0;top:5px;bottom:initial;"])}));t.StyledPopupInsideContainer=l;var u=r.default.h4.withConfig({displayName:"style__StyledCategoryAlias",componentId:"hz8v7c-2"})(["position:relative;padding-left:20px;margin-top:0;color:",";"," font-size:16px;line-height:25px;cursor:pointer;&:hover{color:#c32d7b;}"],(function(e){return e.active?"#2C75B0":"#393F44"}),(function(e){return e.nonSelectedCategory&&(0,r.css)(["margin-bottom:5px;"])}));t.StyledCategoryAlias=u;var c=r.default.div.withConfig({displayName:"style__StyledCategoryDescription",componentId:"hz8v7c-3"})(["position:relative;padding-left:20px;margin-top:10px;margin-bottom:10px;color:#393f44;font-size:16px;line-height:25px;"]);t.StyledCategoryDescription=c;var d=r.default.div.withConfig({displayName:"style__StyledValueAlias",componentId:"hz8v7c-4"})(["position:relative;padding-left:20px;margin-top:10px;margin-bottom:10px;color:#393f44;font-size:16px;line-height:25px;min-height:25px;white-space:nowrap;max-width:200px;overflow:hidden;text-overflow:ellipsis;"]);t.StyledValueAlias=d;var s=r.default.p.withConfig({displayName:"style__StyledDescription",componentId:"hz8v7c-5"})(["min-width:240px;font-size:16px;color:#717171;font-style:italic;padding-left:20px;"]);t.StyledDescription=s;var f=r.default.div.withConfig({displayName:"style__StyledCategoryInfoContainer",componentId:"hz8v7c-6"})(["display:flex;flex-flow:row;justify-content:space-between;align-items:center;"]);t.StyledCategoryInfoContainer=f;var p=r.default.div.withConfig({displayName:"style__IconBox",componentId:"hz8v7c-7"})(["color:#393f44;position:absolute;left:0;top:1px;"]);t.IconBox=p},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomStyles=t.InputStyles=t.StyledOverflow=t.StyledSelectBox=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(8));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=a.default.div.withConfig({displayName:"style__StyledSelectBox",componentId:"sc-1o683mn-0"})(["width:100%;max-width:300px;margin:0 auto;"," ",""],(function(e){return!e.relative&&(0,a.css)(["position:absolute;bottom:-30px;left:calc(50% - 150px);"])}),(function(e){return"vertical"===e.align&&(0,a.css)(["bottom:0;left:0;max-width:60px;height:100%;display:flex;align-items:center;justify-content:center;"])}));t.StyledSelectBox=o;var l=a.default.div.withConfig({displayName:"style__StyledOverflow",componentId:"sc-1o683mn-1"})(["position:absolute;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.1);z-index:10;"]);t.StyledOverflow=l;t.InputStyles={control:function(){return{display:"flex",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",padding:"3px 0"}}};var u={container:function(){return{position:"relative",boxSizing:"border-box",cursor:"pointer"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){var n=t.selectProps,r=n.menuIsOpen,a=n.align;return{color:"#c32d7b",transform:r&&"horizontal"===a?"rotate(180deg)":"none",transition:"all 0.2s ease-out"}},indicatorsContainer:function(){return{color:"#c32d7b",display:"flex",padding:"8px",transition:"color 150ms",boxSizing:"border-box",position:"relative",top:"5px"}},control:function(e,t){var n=t.selectProps.align;return r({margin:"0 auto",display:"flex",border:"none",minWidth:"90px",borderRadius:"4px",maxWidth:"210px",padding:"3px 0"},"vertical"===n?{transform:"rotate(-90deg)"}:null)},menu:function(e,t){var n=t.selectProps.align;return r({},e,{},"vertical"===n?{position:"absolute",left:"100px",top:"-50px",bottom:"auto",width:"300px"}:null)}};t.CustomStyles=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r};var i=function(){return a.default.createElement("svg",{width:"10px",height:"10px",viewBox:"0 0 10 10",version:"1.1"},a.default.createElement("g",{id:"Iteration",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"xAxis-Selector",transform:"translate(-183.000000, -311.000000)",fill:"#2C75B0"},a.default.createElement("g",{id:"Rectangle-409-+-364-+-MWh-Copy",transform:"translate(163.000000, 289.000000)"},a.default.createElement("g",{id:"Group-20",transform:"translate(19.000000, 10.000000)"},a.default.createElement("path",{d:"M4.5,12 L11,18.5 L7.5,22 L1,15.5 L1,12 L4.5,12 Z M3.5,13.5 C2.94771525,13.5 2.5,13.9477153 2.5,14.5 C2.5,15.0522847 2.94771525,15.5 3.5,15.5 C4.05228475,15.5 4.5,15.0522847 4.5,14.5 C4.5,13.9477153 4.05228475,13.5 3.5,13.5 Z",id:"item-category"}))))))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=a(n(8)).default.svg.withConfig({displayName:"CloseIcon__Icon",componentId:"sc-19ec855-0"})(["&:hover{path{fill:",";}}"],(function(e){return(e.hoverColor?e.hoverColor:"#C32D7B")||"auto"})),l=function(e){return r.default.createElement(o,i({},e,{viewBox:"0 0 32 32"}),r.default.createElement("path",{d:"M16 11.636l-11.636-11.636-4.364 4.364 11.636 11.636-11.636 11.636 4.364 4.364 11.636-11.636 11.636 11.636 4.364-4.364-11.636-11.636 11.636-11.636-4.364-4.364z"}))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1)),a=n(258);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var l=r.default.lazy((function(){return Promise.resolve().then((function(){return o(n(259))}))})),u=r.default.lazy((function(){return Promise.resolve().then((function(){return o(n(273))}))})),c=r.default.lazy((function(){return Promise.resolve().then((function(){return o(n(305))}))})),d=function(e){var t=e.widget,n=e.editor,i=e.widgetConfig,o=void 0===i?null:i,d=n.restoring,s=n.initialized,f=s&&!d&&0===Object.keys(t).length&&!o;return r.default.createElement(a.StyledContainer,null,f&&r.default.createElement(a.RestoringWidget,null,r.default.createElement(a.RestoringWidgetTitle,null,"No widget available")),!o&&!f&&r.default.createElement(r.Suspense,{fallback:r.default.createElement("div",null,"Loading...")},r.default.createElement(u,null)),s&&!d&&!f&&r.default.createElement(r.Suspense,{fallback:r.default.createElement(a.RestoringWidget,null,r.default.createElement(a.RestoringWidgetTitle,null,"Loading widget..."))},r.default.createElement(l,{widgetConfig:o})),!s&&!f&&r.default.createElement(a.RestoringWidget,null,r.default.createElement(a.RestoringWidgetTitle,null,"Loading widget...")),d&&!f&&r.default.createElement(a.RestoringWidget,null,r.default.createElement(a.RestoringWidgetTitle,null,"Building widget...")),!o&&r.default.createElement(r.Suspense,{fallback:r.default.createElement("div",null,"Loading...")},r.default.createElement(c,null)))};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestoringWidgetTitle=t.RestoringWidget=t.StyledContainer=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r},i=n(67);var o=a.default.div.withConfig({displayName:"style__StyledContainer",componentId:"bllszm-0"})(["position:relative;display:flex;flex-flow:column;height:calc(100% - ",");background:#fff;flex:1;width:100%;",""],i.FOOTER_HEIGHT,(0,i.DEFAULT_BORDER)());t.StyledContainer=o;var l=a.default.div.withConfig({displayName:"style__RestoringWidget",componentId:"bllszm-1"})(["height:300px;display:flex;align-items:center;justify-content:center;"]);t.RestoringWidget=l;var u=a.default.h4.withConfig({displayName:"style__RestoringWidgetTitle",componentId:"bllszm-2"})(["color:#a9a9a9;font-size:21px;"]);t.RestoringWidgetTitle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(18),i=(r=n(260))&&r.__esModule?r:{default:r};var o=a.redux.connectState((function(e){return{editor:e.editor,widget:e.widget}}))(i.default);t.default=o},function(e,t,n){"use strict";var r=n(15),a=n(16),i=n(57),o=n(58);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=v(n(1)),u=v(n(391)),c=f(n(395)),d=f(n(8)),s=f(n(60));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var h=l.default.lazy((function(){return Promise.resolve().then((function(){return v(n(265))}))})),y=d.default.div.withConfig({displayName:"component__StyledContainer",componentId:"sc-1bunifl-0"})(["display:flex;position:relative;width:100%;.c-chart{flex:1;text-align:center;overflow:hidden;margin:20px;max-height:400px;align-self:center;}"]),g=function(e,t){var n=function(e){if(!e||!e.interaction_config||!e.interaction_config.length)return[];var t=e.interaction_config.find((function(e){return"tooltip"===e.name}));return t&&t.config&&t.config.fields&&t.config.fields.length?t.config.fields:[]}(t);(0,c.default)(e,{showAllFields:!1,fields:n.map((function(e){var t=e.column,n=e.property,r=e.type;return{field:t,title:n,formatType:"date"===r?"time":r,format:e.format}}))})},m=function(e){i(n,e);var t=o(n);function n(e){var a;return r(this,n),(a=t.call(this,e)).externalRenderer=!!e.widgetConfig,a.vega=null,a}return a(n,[{key:"componentDidMount",value:function(){this.generateVegaChart()}},{key:"componentDidUpdate",value:function(e){(0,s.default)(e.widget,this.props.widget)||this.generateVegaChart()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.vega.resize)}},{key:"generateRuntime",value:function(e){var t=this,n=this.chart,r=u.parse(e,e.config),a=n.offsetWidth;this.vega=new u.View(r).initialize(n).renderer("canvas").width(a-40).hover().run(),e.interaction_config&&e.interaction_config.length&&g(this.vega,e),this.vega.resize=function(){if(n&&n.current){var r=n.current.offsetWidth;t.vega.width(r-40).run(),g(t.vega,e)}},window.addEventListener("resize",this.vega.resize)}},{key:"generateVegaChart",value:function(){var e=this.props,t=e.widget,n=e.widgetConfig;this.externalRenderer?this.generateRuntime(n):this.generateRuntime(t)}},{key:"render",value:function(){var e=this;return l.default.createElement(y,null,l.default.createElement("div",{className:"c-chart",ref:function(t){e.chart=t}}),!this.externalRenderer&&l.default.createElement(l.Suspense,{fallback:l.default.createElement("div",null,"Loading...")},l.default.createElement(h,null)))}}]),n}(l.default.Component);t.default=m},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(18),i=n(28),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(68)),l=(r=n(269))&&r.__esModule?r:{default:r};function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=a.redux.connectState((function(e){return{theme:e.theme,configuration:e.configuration,columns:o.getWidgetColumns(e)}}),{patchConfiguration:i.patchConfiguration})(l.default);t.default=c},,,,function(e,t,n){"use strict";var r=n(14),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=n(18);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=function(e){var t,n,l=e.columns,u=e.configuration,c=e.patchConfiguration,d=u.chartType,s=u.xAxisTitle,f=u.yAxisTitle,p=(null===u||void 0===u||null===(t=u.category)||void 0===t?void 0:t.name)||null,v=(null===u||void 0===u||null===(n=u.value)||void 0===n?void 0:n.name)||null,h=l.find((function(e){return e.identifier===v})),y=l.find((function(e){return e.identifier===p})),g=(0,i.useState)({chartValue:h,chartCategory:y}),m=a(g,2),b=m[0],_=m[1];(0,i.useEffect)((function(){var e,t,n=(null===u||void 0===u||null===(e=u.value)||void 0===e?void 0:e.name)||null,r=(null===u||void 0===u||null===(t=u.category)||void 0===t?void 0:t.name)||null,a=l.find((function(e){return e.identifier===n})),i=l.find((function(e){return e.identifier===r}));_({chartValue:a,chartCategory:i})}),[u]);var O=function(e){c({value:r({},u.value,{},e)})};return i.default.createElement(i.Fragment,null,"pie"===d&&i.default.createElement(o.Select,{align:"horizontal",menuPlacement:"top",value:b.chartValue,onChange:O,getOptionLabel:function(e){return f||e.alias},getOptionValue:function(e){return e.identifier},options:l,configuration:u,isCustom:!0,isPopup:!0}),"pie"!==d&&i.default.createElement(o.Select,{align:"vertical",menuPlacement:"top",value:b.chartValue,onChange:function(e){c({category:r({},u.category,{},e)})},getOptionLabel:function(e){return f||e.alias},getOptionValue:function(e){return e.identifier},options:l,configuration:u,isCustom:!0,isPopup:!0}),"pie"!==d&&i.default.createElement(o.Select,{align:"horizontal",menuPlacement:"top",value:b.chartCategory,onChange:O,getOptionLabel:function(e){return s||e.alias},getOptionValue:function(e){return e.identifier},options:l,configuration:u,isCustom:!0,isPopup:!0}))};t.default=u},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(18),i=n(28),o=n(39),l=(r=n(274))&&r.__esModule?r:{default:r};var u=a.redux.connectState((function(e){return{options:e.configuration.availableCharts,chartType:e.configuration.chartType,direction:e.configuration.direction,theme:e.theme}}),{patchConfiguration:i.patchConfiguration,setTheme:o.setTheme})(l.default);t.default=u},function(e,t,n){"use strict";var r=n(14),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=s(n(87)),l=n(18),u=s(n(29)),c=s(n(297)),d=n(304);function s(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}var p=["pie","scatter","map"],v=function(e){return p.indexOf(e)>-1},h=function(e){var t=e.patchConfiguration,n=e.options,s=e.chartType,f=e.direction,p=e.theme,h=e.setTheme,y=(0,i.useState)((0,o.default)(n,v(s)?{chartType:s}:{chartType:s,direction:f})),g=a(y,2),m=g[0],b=g[1];(0,i.useEffect)((function(){m&&m.chartType!==s&&b((0,o.default)(n,v(s)?{chartType:s}:{chartType:s,direction:f}))}),[s,m,f,n]);var _=p.compact,O=_.isCompact,x=_.isOpen,E=(0,i.useState)(!1),w=a(E,2),S=w[0],T=w[1];return i.default.createElement(d.StyledContainer,{isCompact:O},i.default.createElement(d.StyledSelectBox,{isCompact:O},i.default.createElement(u.default,{onChange:function(e){var n=e.chartType,r=e.direction;t({chartType:n,direction:r}),b(e),T(!1)},onMenuOpen:function(){return T(!0)},onMenuClose:function(){return T(!1)},value:m,options:n,styles:d.InputStyles,components:{Menu:c.default},menuIsOpen:S})),O&&i.default.createElement(l.Button,{type:"highlight",onClick:function(){h(r({},p,{compact:{isCompact:O,isOpen:!x}}))}},"Settings"))};t.default=h},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(298))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=n(125),o=n(299),l=(r=n(300))&&r.__esModule?r:{default:r};function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t=e.list,n=e.setData,r=e.title;return a.default.createElement(a.Fragment,null,t.length>0&&a.default.createElement("div",null,a.default.createElement(o.StyledTitle,null,r),a.default.createElement(o.StyledIcons,null,t.map((function(e,t){return a.default.createElement(l.default,c({key:t,setData:n},e))})))))},s=function(e){var t=e.options,n=e.getValue,r=e.setValue,l=e.innerRef,u=e.innerProps,s=n()[0],f=i.MENU_DATA.map((function(e){return e.active=e.type===s.chartType&&e.direction===s.direction,e.disabled=!t.find((function(t){return t.chartType===e.type&&t.direction===e.direction})),e})),p=f.filter((function(e){return e.type===i.TYPE_COLUMN})),v=f.filter((function(e){return e.type===i.TYPE_BAR})),h=f.filter((function(e){return e.type!==i.TYPE_BAR&&e.type!==i.TYPE_COLUMN})),y=function(e){var n=t.find((function(t){return t.chartType===e.type&&t.direction===e.direction}));n&&r(n)};return a.default.createElement(o.StyledContainer,c({ref:l},u),a.default.createElement(o.StyledMenu,null,a.default.createElement(d,{title:"Columns",setData:y,list:p}),a.default.createElement(d,{title:"Bars",setData:y,list:v}),a.default.createElement(d,{title:"More",setData:y,list:h})))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIcons=t.StyledTitle=t.StyledMenu=t.StyledContainer=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r};var i=a.default.div.withConfig({displayName:"style__StyledContainer",componentId:"sc-14w792-0"})(["padding-top:10px;position:absolute;top:30px;right:-102px;width:262px;z-index:11;@media only screen and (max-width:767px){right:0;}"]);t.StyledContainer=i;var o=a.default.div.withConfig({displayName:"style__StyledMenu",componentId:"sc-14w792-1"})(["box-sizing:border-box;height:auto;max-height:459px;width:100%;border:1px solid #D7D7D7;border-radius:4px;background-color:#FFFFFF;box-shadow:0 20px 30px 0 rgba(0,0,0,0.1);z-index:2;padding:29px 34px;&:before{content:' ';position:absolute;left:131px;top:-8px;border:10px solid transparent;border-top:10px solid #FFFFFF;z-index:3;transform:rotate(180deg);@media only screen and (max-width:767px){right:10px;left:auto;}}"]);t.StyledMenu=o;var l=a.default.h4.withConfig({displayName:"style__StyledTitle",componentId:"sc-14w792-2"})(["color:#555555;font-size:10px;font-weight:500;line-height:14px;margin-bottom:0;text-transform:uppercase;"]);t.StyledTitle=l;var u=a.default.div.withConfig({displayName:"style__StyledIcons",componentId:"sc-14w792-3"})(["display:flex;align-items:stretch;justify-content:flex-start;flex-wrap:wrap;margin-left:-8px;margin-right:-8px;"]);t.StyledIcons=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(301))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},i=n(125),o=n(302),l=n(303);var u=function(e){var t=e.type,n=void 0===t?i.TYPE_COLUMN:t,r=e.direction,u=void 0===r?i.DIRECTION_HORIZONTAL:r,c=e.active,d=void 0!==c&&c,s=e.disabled,f=void 0!==s&&s,p=e.setData,v=void 0===p?function(e){}:p;return a.default.createElement(o.StyledBox,null,a.default.createElement(o.StyledIcon,{active:d,disabled:f,onClick:function(){return v({type:n,direction:u})}},n===i.TYPE_LINE&&a.default.createElement(l.Line,null),n===i.TYPE_SCATTERPLOT&&a.default.createElement(l.Scatterplot,null),n===i.TYPE_RING&&a.default.createElement(l.Ring,null),n===i.TYPE_PIE&&a.default.createElement(l.Pie,null),n===i.TYPE_BAR&&u===i.DIRECTION_HORIZONTAL&&a.default.createElement(l.BarHorizontal,null),n===i.TYPE_BAR&&u===i.DIRECTION_VERTICAL&&a.default.createElement(l.BarVertical,null),n===i.TYPE_COLUMN&&u===i.DIRECTION_HORIZONTAL&&a.default.createElement(l.ColumnHorizontal,null),n===i.TYPE_COLUMN&&u===i.DIRECTION_VERTICAL&&a.default.createElement(l.ColumnVertical,null)))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIcon=t.StyledBox=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(8));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i=r.default.div.withConfig({displayName:"style__StyledBox",componentId:"sc-1y4fxp5-0"})(["box-sizing:border-box;padding:7px 8px;width:50%;"]);t.StyledBox=i;var o=r.default.div.withConfig({displayName:"style__StyledIcon",componentId:"sc-1y4fxp5-1"})(["box-sizing:border-box;height:51px;width:100%;border:",";border-radius:4px;background-color:#F7F7F7;display:flex;align-items:center;justify-content:center;text-align:center;opacity:",";pointer-events:",";&:hover{border:2px solid #C32D7B;}"],(function(e){return e.active?"2px solid #C32D7B":"1px solid #E6E6E6"}),(function(e){return e.disabled?"0.2":"1"}),(function(e){return e.disabled?"none":"auto"}));t.StyledIcon=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarHorizontal=t.BarVertical=t.ColumnHorizontal=t.ColumnVertical=t.Pie=t.Ring=t.Scatterplot=t.Line=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r};t.Line=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("g",{id:"chart-sparkline",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Group-13",transform:"translate(6.000000, 2.000000)",strokeWidth:"2"},a.default.createElement("polyline",{id:"Path",stroke:"#3BB2D0",points:"0 32 19.7727273 13.8 38.2272727 22.2 58 11"}),a.default.createElement("polyline",{id:"Path",stroke:"#2C75B0",points:"0 20.8695652 19.7727273 32 38.2272727 11.1304348 58 0"}))))};t.Scatterplot=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("g",{id:"chart-scatterplot",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Group-15",transform:"translate(11.000000, 6.000000)"},a.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"3.5",cy:"20.5",r:"3.5"}),a.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(45.500000, 3.500000) rotate(-180.000000) translate(-45.500000, -3.500000) ",cx:"45.5",cy:"3.5",r:"3.5"}),a.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(23.500000, 18.500000) rotate(-180.000000) translate(-23.500000, -18.500000) ",cx:"23.5",cy:"18.5",r:"3.5"}),a.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(38.000000, 9.000000) rotate(-180.000000) translate(-38.000000, -9.000000) ",cx:"38",cy:"9",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(34.000000, 18.000000) rotate(-180.000000) translate(-34.000000, -18.000000) ",cx:"34",cy:"18",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(14.000000, 18.000000) rotate(-180.000000) translate(-14.000000, -18.000000) ",cx:"14",cy:"18",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(27.000000, 11.000000) rotate(-180.000000) translate(-27.000000, -11.000000) ",cx:"27",cy:"11",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(40.000000, 15.000000) rotate(-180.000000) translate(-40.000000, -15.000000) ",cx:"40",cy:"15",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"21.5",cy:"7.5",r:"3.5"}),a.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"9",cy:"14",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"14",cy:"10",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"30",cy:"2",r:"2"}),a.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"7",cy:"9",r:"2"}))))};t.Ring=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("defs",null,a.default.createElement("path",{d:"M17.000408,0.00699401962 L17.0007338,8.01289404 C11.9861065,8.27253382 8,12.4207644 8,17.5 C8,22.7467051 12.2532949,27 17.5,27 C19.5656596,27 21.4773362,26.3407203 23.0360914,25.2210993 L28.6406118,30.9964293 C25.6142758,33.4973564 21.7326185,35 17.5,35 C7.83501688,35 0,27.1649831 0,17.5 C0,8.00210483 7.56645547,0.271450021 17.000408,0.00699401962 Z",id:"path-1"}),a.default.createElement("path",{d:"M18.0006388,0.00702339299 C27.4341042,0.27202186 35,8.00245611 35,17.5 C35,22.3324916 33.0412458,26.7074916 29.8743687,29.8743687 L24.2175144,24.2175144 C25.9366763,22.4983526 27,20.1233526 27,17.5 C27,12.4213412 23.0147988,8.27347605 18.0009747,8.01298265 Z",id:"path-3"})),a.default.createElement("g",{id:"chart-ring",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Rectangle",transform:"translate(18.000000, 0.000000)"},a.default.createElement("mask",{id:"mask-2",fill:"white"},a.default.createElement("use",{xlinkHref:"#path-1"})),a.default.createElement("use",{id:"Combined-Shape",fill:"#3BB2D0",xlinkHref:"#path-1"}),a.default.createElement("mask",{id:"mask-4",fill:"white"},a.default.createElement("use",{xlinkHref:"#path-3"})),a.default.createElement("use",{id:"Combined-Shape",fill:"#2C75B0",xlinkHref:"#path-3"}))))};t.Pie=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("defs",null,a.default.createElement("circle",{id:"path-1",cx:"17.5",cy:"17.5",r:"17.5"})),a.default.createElement("g",{id:"chart-pie",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Rectangle",transform:"translate(18.000000, 0.000000)"},a.default.createElement("mask",{id:"mask-2",fill:"white"},a.default.createElement("use",{xlinkHref:"#path-1"})),a.default.createElement("use",{id:"Mask",fill:"#3BB2D0",xlinkHref:"#path-1"}),a.default.createElement("path",{d:"M37.5,-1.5 L17.5,-1.5 L17.5,18.2071068 L37.5,38.2071068 L37.5,-1.5 Z",stroke:"#F7F7F7",fill:"#2C75B0",mask:"url(#mask-2)"}))))};t.ColumnVertical=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Group-14",transform:"translate(8.000000, 5.000000)"},a.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"0",width:"38",height:"4"}),a.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"15",width:"55",height:"4"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"0",y:"5",width:"18",height:"4"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"0",y:"20",width:"44",height:"4"}))))};t.ColumnHorizontal=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("g",{id:"chart-columns-a",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Group-13",transform:"translate(8.000000, 3.000000)"},a.default.createElement("g",{id:"Group-14"},a.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"15",width:"4",height:"13"}),a.default.createElement("rect",{fill:"#2C75B0",x:"45",y:"15",width:"4",height:"13"}),a.default.createElement("rect",{fill:"#2C75B0",x:"15",y:"5",width:"4",height:"23"}),a.default.createElement("rect",{fill:"#2C75B0",x:"30",y:"18",width:"4",height:"10"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"5",y:"10",width:"4",height:"18"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"50",y:"10",width:"4",height:"18"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"20",y:"0",width:"4",height:"28"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"35",y:"20",width:"4",height:"8"})))))};t.BarVertical=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("g",{id:"chart-bars-b",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Group-14",transform:"translate(8.000000, 6.000000)"},a.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"0",width:"27",height:"8"}),a.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"15",width:"18",height:"8"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"28",y:"0",width:"6",height:"8"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"19",y:"15",width:"35",height:"8"}))))};t.BarHorizontal=function(){return a.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},a.default.createElement("g",{id:"chart-columns-b",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.default.createElement("g",{id:"Group-14",transform:"translate(10.000000, 3.000000)"},a.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"16",width:"8",height:"13"}),a.default.createElement("rect",{fill:"#2C75B0",x:"42",y:"16",width:"8",height:"13"}),a.default.createElement("rect",{fill:"#2C75B0",x:"14",y:"24",width:"8",height:"5"}),a.default.createElement("rect",{fill:"#2C75B0",x:"28",y:"19",width:"8",height:"10"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"0",y:"10",width:"8",height:"5"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"42",y:"10",width:"8",height:"5"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"14",y:"0",width:"8",height:"23"}),a.default.createElement("rect",{fill:"#3BB2D0",x:"28",y:"5",width:"8",height:"13"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputStyles=t.StyledOverflow=t.StyledSelectBox=t.StyledContainer=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(8));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i=r.default.div.withConfig({displayName:"style__StyledContainer",componentId:"sc-1iw6b7w-0"})(["margin:10px;",""],(function(e){return e.isCompact&&(0,r.css)(["display:flex;align-items:center;"])}));t.StyledContainer=i;var o=r.default.div.withConfig({displayName:"style__StyledSelectBox",componentId:"sc-1iw6b7w-1"})(["",""],(function(e){return e.isCompact&&(0,r.css)(["width:100%;padding-right:15px;"])}));t.StyledSelectBox=o;var l=r.default.div.withConfig({displayName:"style__StyledOverflow",componentId:"sc-1iw6b7w-2"})(["position:absolute;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.1);z-index:10;"]);t.StyledOverflow=l;t.InputStyles={container:function(){return{position:"relative",boxSizing:"border-box",cursor:"pointer",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0)"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){return{color:"#c32d7b",transition:"all 0.2s ease-out"}},indicatorsContainer:function(){return{color:"#c32d7b",display:"flex",padding:"8px",transition:"color 150ms",boxSizing:"border-box",position:"relative",top:"5px"}},control:function(){return{display:"flex",border:"none",borderRadius:"4px",padding:"3px 0"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(18),i=n(40),o=n(28),l=(r=n(306))&&r.__esModule?r:{default:r},u=s(n(68)),c=s(n(308));function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var f=a.redux.connectState((function(e){return{widget:e.widget,color:e.filters.color,configuration:e.configuration,selectedColor:u.getSelectedColor(e),columns:u.getWidgetColumns(e,{colorDimention:!0}),schemeColor:c.getMainThemeColor(e),activeScheme:c.getActiveScheme(e),widgetData:e.widget&&e.widget.data?e.widget.data[0].values:null}}),{setFilters:i.setFilters,patchConfiguration:o.patchConfiguration})(l.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),a=n(18),i=l(n(24)),o=n(307);function l(e){return e&&e.__esModule?e:{default:e}}var u=0,c=function(e,t){t%e.length===0&&(u=0);var n=e[u];return u++,n},d=function(e){var t=e.color,n=e.configuration,l=e.schemeColor,u=e.selectedColor,d=e.activeScheme,s=e.columns,f=e.widgetData,p=e.setFilters,v=e.patchConfiguration,h="pie"===n.chartType,y=!h&&!(0,i.default)(t);return r.default.createElement(o.StyledContainer,null,y&&r.default.createElement(o.StyledColorsBoxContainer,{overflowIsHidden:!1,alignCenter:!(0,i.default)(t)},r.default.createElement(o.StyledColorsBox,{alignCenter:!1},r.default.createElement(o.StyledColorDot,{color:l}),"Single color")),!y&&r.default.createElement(o.StyledColorsBoxContainer,{overflowIsHidden:!0},f&&f.map((function(e,t){return r.default.createElement(o.StyledColorsBox,{alignCenter:!0,key:"".concat(e.x,"-").concat(t)},r.default.createElement(o.StyledColorDot,{color:c(d.category,t)}),e.x)}))),r.default.createElement(o.StyledDropdownBox,null,r.default.createElement(a.Select,{align:"horizontal",relative:!0,menuPlacement:"top",value:u,onChange:function(e){var t="___single_color"===e.identifier?null:e;h?v({category:t}):(p({color:t}),v({color:t}))},getOptionLabel:function(e){return e.name||e.alias||e.identifier},getOptionValue:function(e){return e.identifier},options:s,configuration:n,isCustom:!0,isPopup:!0})))};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledContainer=t.StyledColorDot=t.StyledColorsBox=t.StyledColorsBoxContainer=t.StyledDropdownBox=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(8));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i=r.default.div.withConfig({displayName:"style__StyledDropdownBox",componentId:"e73x7m-0"})(["flex:0 0 30%;"]);t.StyledDropdownBox=i;var o=r.default.div.withConfig({displayName:"style__StyledColorsBoxContainer",componentId:"e73x7m-1"})(["flex:0 0 70%;"," ",""],(function(e){return e.alignCenter&&(0,r.css)(["align-items:center;display:flex;"])}),(function(e){return e.overflowIsHidden&&(0,r.css)(["max-height:70px;overflow-y:scroll;"])}));t.StyledColorsBoxContainer=o;var l=r.default.div.withConfig({displayName:"style__StyledColorsBox",componentId:"e73x7m-2"})(["display:flex;align-items:center;font-size:14px;color:#717171;",""],(function(e){return e.alignCenter&&(0,r.css)(["float:left;width:110px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:5px;padding-left:20px;position:relative;> span{position:absolute;left:0;}"])}));t.StyledColorsBox=l;var u=r.default.span.withConfig({displayName:"style__StyledColorDot",componentId:"e73x7m-3"})([""," width:14px;height:14px;display:block;border-radius:14px;margin:0 5px 0 0;"],(function(e){return e.color&&(0,r.css)(["background:",";"],e.color)}));t.StyledColorDot=u;var c=r.default.div.withConfig({displayName:"style__StyledContainer",componentId:"e73x7m-4"})(["box-sizing:border-box;border-top:1px solid #d7d7d7;position:absolute;bottom:0;left:0;width:100%;min-height:55px;padding:15px 36px;display:flex;justify-content:space-between;*{box-sizing:border-box;outline:0;}"]);t.StyledContainer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveScheme=t.getMainThemeColor=void 0;var r=n(118),a=function(e){return e.theme.schemes},i=function(e){return e.theme.selectedScheme},o=(0,r.createSelector)([a,i],(function(e,t){return e.find((function(e){return e.name===t})).mainColor}));t.getMainThemeColor=o;var l=(0,r.createSelector)([a,i],(function(e,t){return e.find((function(e){return e.name===t}))}));t.getActiveScheme=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=n(28),o=(r=n(310))&&r.__esModule?r:{default:r};var l=(0,a.connectState)((function(e){return{disabledFeatures:e.editor.disabledFeatures,datasetId:e.editor.dataset&&e.editor.dataset.id?e.editor.dataset.id:null,limit:e.configuration.limit,orderBy:e.configuration.orderBy,groupBy:e.configuration.groupBy,compact:e.theme.compact}}),{patchConfiguration:i.patchConfiguration})(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(1)),a=h(n(8)),i=n(311),o=n(314),l=p(n(317)),u=p(n(319)),c=p(n(321)),d=p(n(126)),s=p(n(328)),f=n(67);function p(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var y=r.default.lazy((function(){return Promise.resolve().then((function(){return h(n(348))}))})),g=r.default.lazy((function(){return Promise.resolve().then((function(){return h(n(352))}))})),m=r.default.lazy((function(){return Promise.resolve().then((function(){return h(n(355))}))})),b=r.default.lazy((function(){return Promise.resolve().then((function(){return h(n(359))}))})),_=a.default.div.withConfig({displayName:"component__StyleEditorOptionsErrors",componentId:"ici61l-0"})(["position:absolute;left:50%;bottom:50%;transform:translate(-50%,-50%);h3{color:#ff6464;text-align:center;}p{color:#bfbfbf;font-size:12px;}"]),O=a.default.div.withConfig({displayName:"component__StyledContainer",componentId:"ici61l-1"})(["position:relative;flex:1;background:#fff;height:calc(100% - "," - 20px);padding:0 0 0 30px;margin:10px 0;overflow-y:hidden;"," "," ",""],f.FOOTER_HEIGHT,(0,f.DEFAULT_BORDER)(1,1,1,0),(function(e){return e.compact.isCompact&&(0,a.css)(["visibility:hidden;max-height:0;position:absolute;top:65px;left:0;margin:0;width:100%;transition:all 0.3s ease-in-out;"])}),(function(e){return e.compact.isCompact&&e.compact.isOpen&&(0,a.css)(["box-sizing:border-box;display:block;z-index:auto;visibility:visible;max-height:calc(100% - "," - 65px);"],f.FOOTER_HEIGHT)})),x=function(e){var t=e.disabledFeatures,n=e.datasetId,a=e.limit,f=(e.orderBy,e.groupBy,e.patchConfiguration),p=e.compact,v=e.dataService,h=function(e,t){"limit"===t&&f({limit:e}),"orderBy"===t&&f({orderBy:e}),"groupBy"===t&&f({groupBy:e})};return n?r.default.createElement(O,{compact:p},r.default.createElement(o.Tabs,null,r.default.createElement(o.Tab,{label:"General"},r.default.createElement(i.Accordion,null,r.default.createElement(i.AccordionSection,{title:"Description and labels",default:!0},r.default.createElement(l.default,null)),r.default.createElement(i.AccordionSection,{title:"Filters"},r.default.createElement(s.default,{dataService:v})),r.default.createElement(i.AccordionSection,{title:"Order"},r.default.createElement(u.default,{onChange:function(e){return h(e,"orderBy")}}),r.default.createElement(c.default,{onChange:function(e){return h(e,"groupBy")}}),a&&r.default.createElement(d.default,{min:0,max:500,onChange:function(e){return h(e,"limit")},handleOnChangeValue:function(e){return h(e,"limit")},label:"Limit",value:a})))),r.default.createElement(o.Tab,{label:"Visual style"},r.default.createElement(i.Accordion,null,-1===t.indexOf("typogrophy")&&r.default.createElement(i.AccordionSection,{title:"Typography"},r.default.createElement(r.Suspense,{fallback:r.default.createElement("div",null,"Loading...")},r.default.createElement(m,null))),-1===t.indexOf("theme-selection")&&r.default.createElement(i.AccordionSection,{title:"Color",openDefault:!0},r.default.createElement(r.Suspense,{fallback:r.default.createElement("div",null,"Loading...")},r.default.createElement(b,null))))),-1===t.indexOf("advanced-editor")&&r.default.createElement(o.Tab,{label:"Advanced"},r.default.createElement(r.Suspense,{fallback:r.default.createElement("div",null,"Loading...")},r.default.createElement(y,null))),-1===t.indexOf("table-view")&&r.default.createElement(o.Tab,{label:"Table view"},r.default.createElement(r.Suspense,{fallback:r.default.createElement("div",null,"Loading...")},r.default.createElement(g,null))))):r.default.createElement(O,{compact:p},r.default.createElement(_,null,r.default.createElement("h3",null,"Error loading dataset"),r.default.createElement("p",null,"Dataset not accessible at this moment.")))};t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(312);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){"use strict";var r=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=t.AccordionSection=void 0;var a,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=(a=n(392))&&a.__esModule?a:{default:a},l=n(313);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}t.AccordionSection=function(e){var t=e.title,n=e.openDefault,a=e.children,u=(0,i.useRef)({}),c=(0,i.useState)(0),d=r(c,2),s=d[0],f=d[1],p=(0,i.useState)(!1),v=r(p,2),h=v[0],y=v[1],g=function(){y(!h);var e=u.current;if(e){var t=s?0:e.scrollHeight;f(t)}};return(0,i.useEffect)((function(){setTimeout((function(){return n?g():null}),0)}),[]),i.default.createElement(l.StyledAccordionSection,null,i.default.createElement(l.StyledAccordionButton,{onClick:function(){return g()}},t),i.default.createElement(l.StyledAccordionContent,{ref:u,scrollHeight:s},i.default.createElement(o.default,{handleHeight:!0,skipOnMount:!0,onResize:function(){var e=u.current;if(e&&e.scrollHeight>0&&h){var t=e.scrollHeight;f(t)}}},i.default.createElement("div",null,a))))};t.Accordion=function(e){var t=e.children;return i.default.createElement(l.StyledAccordion,null,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledAccordionSection=t.StyledAccordionButton=t.StyledAccordionContent=t.StyledAccordion=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r};var i=a.default.div.withConfig({displayName:"style__StyledAccordion",componentId:"cea925-0"})(["width:100%;padding-top:24px;padding-bottom:24px;"]);t.StyledAccordion=i;var o=a.default.div.withConfig({displayName:"style__StyledAccordionContent",componentId:"cea925-1"})(['display:"block";max-height:',";overflow-y:",";transition:all 0.2s ease-out;padding-left:24px;padding-top:",";padding-bottom:",";"],(function(e){return e.scrollHeight+"px"||!1}),(function(e){return e.scrollHeight?"visible":"hidden"}),(function(e){return e.scrollHeight?"18px":"0"}),(function(e){return e.scrollHeight?"18px":"0"}));t.StyledAccordionContent=o;var l=a.default.a.withConfig({displayName:"style__StyledAccordionButton",componentId:"cea925-2"})(['display:block;height:25px;color:#393f44;font-size:16px;font-weight:bold;line-height:25px;position:relative;padding-left:25px;cursor:pointer;&:before{content:" ";width:10px;height:10px;border-radius:50%;background:#c32d7b;position:absolute;left:0;top:8px;}']);t.StyledAccordionButton=l;var u=a.default.div.withConfig({displayName:"style__StyledAccordionSection",componentId:"cea925-3"})(['padding-top:11px;padding-bottom:11px;position:relative;&:before{content:" ";height:1px;width:calc(100% - 24px);display:block;position:absolute;top:0;background-color:#d2d3d6;margin-left:24px;}&:first-child{&:before{display:none;}}']);t.StyledAccordionSection=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(315);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){"use strict";var r=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=t.Tabs=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=n(18),o=n(316);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){return a.default.createElement(i.Button,u({style:{height:"100%"}},e))};t.Tabs=function(e){var t=e.children.filter((function(e){return!!e})),n=(0,a.useState)(0),i=r(n,2),l=i[0],u=i[1];return(0,a.useEffect)((function(){var e=t.findIndex((function(e){return e.props.default}));u(-1===e?0:e)}),[]),a.default.createElement(o.StyledTabsContainer,null,a.default.createElement(o.StyledList,null,t.map((function(e,t){var n=e.props.label;return n?a.default.createElement(o.StyledListLabel,{key:t},a.default.createElement(c,{onClick:function(){return u(t)},active:t===l},n)):null}))),a.default.createElement(o.StyledTabsContentBox,null,t.map((function(e,t){var n=e.props.children;return a.default.createElement(o.StyledTabsContent,{key:t,active:t===l},n)}))))};t.Tab=function(e){var t=e.children;return e.label?t:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledListLabel=t.StyledList=t.StyledTabsContent=t.StyledTabsContentBox=t.StyledTabsContainer=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r};var i=a.default.div.withConfig({displayName:"style__StyledTabsContainer",componentId:"sc-1r3i2z7-0"})(["position:relative;height:100%;"]);t.StyledTabsContainer=i;var o=a.default.div.withConfig({displayName:"style__StyledTabsContentBox",componentId:"sc-1r3i2z7-1"})(["overflow-y:auto;height:calc(100% - 80px);padding-right:30px;::-webkit-scrollbar{width:7px;}::-webkit-scrollbar-track{box-shadow:inset 0 0 2px grey;border-radius:10px;background:rgba(0,0,0,0.05);}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.3);border-radius:10px;}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.4);}"]);t.StyledTabsContentBox=o;var l=a.default.div.withConfig({displayName:"style__StyledTabsContent",componentId:"sc-1r3i2z7-2"})(["display:",";"],(function(e){return e.active?"block":"none"}));t.StyledTabsContent=l;var u=a.default.ul.withConfig({displayName:"style__StyledList",componentId:"sc-1r3i2z7-3"})(["display:flex;justify-content:space-between;padding:20px 30px 20px 0;list-style:none;"]);t.StyledList=u;var c=a.default.li.withConfig({displayName:"style__StyledListLabel",componentId:"sc-1r3i2z7-4"})(["color:red;padding-right:5px;padding-left:5px;&:first-child{padding-left:0;}&:last-child{padding-right:0;}"]);t.StyledListLabel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=n(28),o=(r=n(318))&&r.__esModule?r:{default:r};var l=(0,a.connectState)((function(e){return{theme:e.theme,configuration:e.configuration}}),{patchConfiguration:i.patchConfiguration})(o.default);t.default=l},function(e,t,n){"use strict";var r=n(14),a=n(15),i=n(16),o=n(77),l=n(57),u=n(58);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=y(n(1)),d=y(n(60)),s=y(n(52)),f=y(n(53)),p=y(n(41)),v=y(n(70)),h=y(n(112));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){l(n,e);var t=u(n);function n(e){var i,l,u,c;return a(this,n),i=t.call(this,e),l=o(i),u="handleUpdate",c=(0,h.default)((function(){var e=i.props,t=e.configuration,n=e.patchConfiguration,a=i.state,o=a.title,l=a.caption,u=a.yAxis;n({title:o,caption:l,xAxisTitle:a.xAxis,yAxisTitle:u,category:r({},t.category),value:r({},t.value)})}),1e3),u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,i.state=i.stateFromProps(e.configuration),i}return i(n,[{key:"componentDidUpdate",value:function(e){var t=e.configuration,n=this.props.configuration;(0,d.default)(this.stateFromProps(t),this.stateFromProps(n))||this.setState(this.stateFromProps(n))}},{key:"stateFromProps",value:function(e){var t,n;return{title:(null===e||void 0===e?void 0:e.title)?e.title:"",caption:(null===e||void 0===e?void 0:e.caption)?e.caption:"",yAxis:(null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.alias)?e.category.alias:"",xAxis:(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.alias)?e.value.alias:""}}},{key:"setTitle",value:function(e){this.setState({title:e}),this.handleUpdate()}},{key:"setCaption",value:function(e){this.setState({caption:e}),this.handleUpdate()}},{key:"setYAxis",value:function(e){this.setState({yAxis:e}),this.handleUpdate()}},{key:"setXAxis",value:function(e){this.setState({xAxis:e}),this.handleUpdate()}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.caption,a=t.xAxis,i=t.yAxis;return c.default.createElement(s.default,null,c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-title"},"Title"),c.default.createElement(v.default,{type:"text",placeholder:"Add title",name:"options-title",value:n,onChange:function(t){return e.setTitle(t.target.value)}})),c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-title"},"Caption"),c.default.createElement(v.default,{type:"text",placeholder:"Add caption",name:"options-capton",value:r,onChange:function(t){return e.setCaption(t.target.value)}})),c.default.createElement(s.default,{row:!0},c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-x-axis"},"X axis"),c.default.createElement(v.default,{type:"text",placeholder:"Overwrite axis name",name:"options-x-axis",value:a,onChange:function(t){return e.setXAxis(t.target.value)}})),c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-y-axis"},"Y axis"),c.default.createElement(v.default,{type:"text",placeholder:"Overwrite axis name",name:"options-y-axis",value:i,onChange:function(t){return e.setYAxis(t.target.value)}}))))}}]),n}(c.default.Component);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=n(40),o=(r=n(320))&&r.__esModule?r:{default:r},l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(68));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=(0,a.connectState)((function(e){return{orderBy:e.filters.orderBy,columns:l.getWidgetColumns(e)}}),{setFilters:i.setFilters})(o.default);t.default=c},function(e,t,n){"use strict";var r=n(21),a=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=s(n(87)),l=s(n(29)),u=s(n(52)),c=s(n(53)),d=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}var p={control:function(){return{display:"flex",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",padding:"3px 0"}},option:function(e){return a({},e)}},v=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],h=function(e){var t=e.orderBy,n=e.columns,s=e.setFilters,f=e.onChange,h=n.map((function(e){return{value:e.name||e.alias||e.identifier,label:e.name||e.alias||e.identifier}})),y=h.find((function(e){return t?e.label===t.name:null})),g=t&&t.orderType?(0,o.default)(v,{value:t.orderType.toLowerCase()}):v[0],m=(0,i.useState)(g||v[0]),b=r(m,2),_=b[0],O=b[1],x=function(e,r){var i;"orderByType"===r?(i=t,O(e)):i=n.find((function(t){return t.name===e.value})),s({orderBy:i}),f(a({},i,{orderType:"orderByType"===r?e.value:_.value}))};return i.default.createElement(u.default,null,i.default.createElement(d.default,null,i.default.createElement(c.default,{htmlFor:"options-title"},"Order by"),i.default.createElement(l.default,{onChange:function(e){return x(e,"column")},value:y,options:h,styles:p})))};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=n(40),o=(r=n(322))&&r.__esModule?r:{default:r},l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(68));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=(0,a.connectState)((function(e){return{groupBy:e.filters.groupBy,columns:l.getWidgetColumns(e)}}),{setFilters:i.setFilters})(o.default);t.default=c},function(e,t,n){"use strict";var r=n(21),a=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=s(n(87)),l=s(n(29)),u=s(n(52)),c=s(n(53)),d=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}var p={control:function(){return{display:"flex",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",padding:"3px 0"}},option:function(e){return a({},e)}},v=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],h=function(e){var t=e.groupBy,n=e.columns,s=e.setFilters,f=e.onChange,h=n.map((function(e){return{value:e.name||e.alias||e.identifier,label:e.name||e.alias||e.identifier}})),y=h.find((function(e){return t?e.label===t.name:null})),g=t&&t.orderType?(0,o.default)(v,{value:t.orderType.toLowerCase()}):v[0],m=(0,i.useState)(g||v[0]),b=r(m,2),_=b[0],O=b[1],x=function(e,r){var i;"orderByType"===r?(i=t,O(e)):i=n.find((function(t){return t.name===e.value})),s({groupBy:i}),f(a({},i,{orderType:"orderByType"===r?e.value:_.value}))};return i.default.createElement(u.default,null,i.default.createElement(d.default,null,i.default.createElement(c.default,{htmlFor:"options-title"},"Group by"),i.default.createElement(l.default,{onChange:function(e){return x(e,"column")},value:y,options:h,styles:p})))};t.default=h},function(e,t,n){"use strict";var r=n(14),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=p(n(324)),l=p(n(325)),u=(p(n(52)),p(n(53))),c=p(n(41)),d=p(n(70)),s=p(n(8)),f=p(n(127));function p(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=s.default.div.withConfig({displayName:"component__StyledSliderBox",componentId:"sc-1a2sw2e-0"})(["width:100%;display:flex;padding:20px 0;"]),g=s.default.div.withConfig({displayName:"component__StyledInputBox",componentId:"sc-1a2sw2e-1"})(["width:100%;display:flex;align-items:center;justify-content:",";input{max-width:100px;}"],(function(e){return e.isDouble?"space-between":"flex-end"})),m=function(e){var t=e.label,n=e.min,s=void 0===n?null:n,p=e.max,v=void 0===p?null:p,m=e.value,b=e.minDistance,_=void 0===b?1:b,O=e.onChange,x=void 0===O?function(e){}:O,E=e.handleOnChangeValue,w=void 0===E?function(e,t){}:E,S=(0,i.useState)({value:m,key:null}),T=a(S,2),C=T[0],P=T[1],j=(0,o.default)(C,400);(0,i.useEffect)((function(){j.key?w(j.value,j.key):x(j.value)}),[j]);var A=Array.isArray(C.value),k=(0,f.default)(s)||(0,f.default)(v),M=s,D=v;A?(M=C.value[0],D=C.value[1]):D=C.value?C.value:v,D-M<=_&&(M=D-_);var I=r({},null!==s&&{min:s},{},null!==v&&{max:v});return i.default.createElement(c.default,null,t&&i.default.createElement(u.default,{htmlFor:"options-limit"},t),i.default.createElement(y,null,i.default.createElement(l.default,h({},I,{step:k?.1:1,value:A?[M,D]:D,defaultValue:A?s:[s,v],onChange:function(e){return P({value:e,key:null})}}))),i.default.createElement(g,{isDouble:A},A&&i.default.createElement(d.default,h({},I,{value:M,type:"number",name:"options-limit",onChange:function(e){return P({value:e.target.value,key:"minValue"})}})),i.default.createElement(d.default,h({},I,{value:D,type:"number",name:"options-limit",onChange:function(e){return P({value:e.target.value,key:"maxValue"})}}))))};t.default=m},function(e,t,n){"use strict";var r=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1);var i=function(e,t){var n=(0,a.useState)(e),i=r(n,2),o=i[0],l=i[1];return(0,a.useEffect)((function(){var n=setTimeout((function(){l(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=(r=n(326))&&r.__esModule?r:{default:r};var o=(0,a.connectState)((function(e){return{theme:e.theme}}))(i.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(8)),i=l(n(327));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=(0,a.default)(i.default).withConfig({displayName:"component__StyledSlider",componentId:"sc-1d0g5uz-0"})(["height:4px;width:inherit;background:",";"],(function(e){return e.array?"transparent":e.theme.slider.track})),d=a.default.div.withConfig({displayName:"component__StyledThumb",componentId:"sc-1d0g5uz-1"})(["height:18px;line-height:18px;width:18px;background-color:#fff;border:3px solid ",";border-radius:50%;transform:translateY(-50%);z-index:0 !important;top:50%;cursor:grab;"],(function(e){return e.theme.slider.track})),s=a.default.div.withConfig({displayName:"component__StyledTrack",componentId:"sc-1d0g5uz-2"})(["top:0;bottom:0;background:",";border-radius:999px;"],(function(e){return e.isArray?e.isArray&&1===e.index?e.theme.slider.track:e.theme.slider.trackBackground:2===e.index?e.theme.slider.track:1===e.index?e.theme.slider.trackBackground:e.theme.slider.track})),f=function(e,t){return r.default.createElement(d,e)},p=function(e,t){return r.default.createElement(s,u({},e,{isArray:Array.isArray(t.value),index:t.index}))},v=function(e){var t=e.min,n=void 0===t?1:t,i=e.max,o=void 0===i?500:i,l=e.step,u=void 0===l?1:l,d=e.value,s=e.defaultValue,v=e.theme,h=e.onChange,y=void 0===h?function(){}:h,g=e.onDone,m=void 0===g?function(){}:g;return r.default.createElement(a.ThemeProvider,{theme:v},r.default.createElement(c,{onAfterChange:m,onChange:y,renderTrack:p,renderThumb:f,value:d,step:u,defaultValue:s,max:o,min:n}))};t.default=v},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=void 0;var a=n(12),i=n(40),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(329));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var u=(0,a.connectState)((function(e){return{configuration:e.configuration,dataset:e.editor.dataset,filters:e.filters.list,fields:e.editor.fields}}),{setFilters:i.setFilters})(o.default);t.default=u},function(e,t,n){"use strict";var r=n(14),a=n(86),i=n(4),o=n(128);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=O(n(1)),u=n(33),c=O(n(41)),d=n(18),s=O(n(330)),f=n(42),p=O(n(331)),v=O(n(334)),h=O(n(336)),y=O(n(338)),g=O(n(340)),m=O(n(342)),b=O(n(344)),_=n(347);function O(e){return e&&e.__esModule?e:{default:e}}var x=function(e){var t=e.dataService,n=e.setFilters,O=e.filters,x=void 0===O?[]:O,E=e.fields,w=void 0===E?[]:E,S=e.configuration,T=e.dataset,C=w.map((function(e){return{label:e.metadata&&e.metadata.alias?e.metadata.alias:e.columnName.replace(/_/gi," "),value:e.columnName,dataType:e.type}})),P=function(){var e=o(i.mark((function e(r,a,o){var l;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.FiltersService.patchFilters(x,{values:r,id:a,type:o},S,T,w);case 2:l=e.sent,n({list:l}),t.requestWithFilters(l,S);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return l.default.createElement(_.StyledFilterBox,null,l.default.createElement(b.default,{addFilter:function(){var e=[].concat(a(x),[r({},f.COLUMN_FILTER_GROUP,{id:(0,s.default)("we-filter-")})]);n({list:e})}}),!x.length&&l.default.createElement(_.StyledEmpty,null,"No filters found. Please, add them."),x.map((function(e){return l.default.createElement(_.StyledFilterSection,{key:e.id},l.default.createElement(c.default,{noMargins:!0},l.default.createElement(y.default,{filter:e,setData:P,optionData:C}),l.default.createElement(_.StyledDeleteBox,null,l.default.createElement(d.Button,{type:"highlight",onClick:function(){return function(e){var t=x.filter((function(t){return t.id!==e}))||[];n({list:t})}(e.id)}},"Delete"))),null!==e.column&&l.default.createElement(_.StyledFilter,null,f.NUMBER_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,{noMargins:e.indicator===f.TYPE_RANGE},l.default.createElement(m.default,{filter:e,disabled:null===e.column,setData:P,optionData:f.FILTER_NUMBER_INDICATOR_TYPES})),f.STRING_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,null,l.default.createElement(m.default,{filter:e,disabled:null===e.column,setData:P,optionData:f.FILTER_STRING_INDICATOR_TYPES})),f.STRING_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,null,e.indicator===f.TYPE_FILTER_ON_VALUES&&l.default.createElement(g.default,{filter:e,setData:P,optionData:e.fieldInfo}),e.indicator!==f.TYPE_FILTER_ON_VALUES&&l.default.createElement(h.default,{isNumeric:!1,filter:e,setData:P})),f.NUMBER_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,null,e.indicator===f.TYPE_RANGE&&l.default.createElement(v.default,{disabled:null===e.column,filter:e,setData:P}),e.indicator===f.TYPE_VALUE&&l.default.createElement(h.default,{disabled:null===e.column,filter:e,setData:P})),l.default.createElement(p.default,{filter:e,name:"filter-not-null-".concat(e.id),label:"Not null values",setData:P})))})))};t.default=x},,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(332))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},i=n(333);var o=function(e){var t=e.filter,n=e.name,r=void 0===n?"untitled_checkbox":n,o=e.label,l=void 0===o?"":o,u=e.setData;return t?a.default.createElement(i.StyledCheckbox,null,a.default.createElement("input",{type:"checkbox",id:r,checked:t.filter.notNull,onChange:function(e){return u(e.target.value,t.id,"NOT_NULL_CHECK")}}),a.default.createElement("label",{htmlFor:r},l)):null};t.default=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StyledCheckbox=void 0;var a=((r=n(8))&&r.__esModule?r:{default:r}).default.div.withConfig({displayName:"style__StyledCheckbox",componentId:"sc-181eqha-0"})(['color:#393f44;input[type="checkbox"]{opacity:0;position:absolute;}label{cursor:pointer;position:relative;display:inline-block;padding-left:22px;font-size:14px;}label::before,label::after{position:absolute;content:"";display:inline-block;}label::before{height:16px;width:16px;border:1px solid #3bb2d0;border-radius:5px;left:0px;top:0;}label::after{height:3px;width:6px;border-left:2px solid #3bb2d0;border-bottom:2px solid #3bb2d0;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:5px;top:6px;}input[type="checkbox"] + label::after{content:none;}input[type="checkbox"]:checked + label::after{content:"";}input[type="checkbox"]:focus + label::before{box-shadow:0 0 3px #3bb2d0;}']);t.StyledCheckbox=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(335))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";var r=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(1)),i=l(n(126)),o=n(42);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return new Date(Date.UTC(e)).toISOString()},c=function(e){return new Date(e).getFullYear()},d=function(e){var t=e.filter,n=e.disabled,l=void 0!==n&&n,d=e.setData,s=t.filter.values,f=t.fieldInfo?t.fieldInfo:{min:0,max:100},p=f.min,v=f.max,h=r(s,2),y=h[0],g=h[1],m=function(e){var n;n="date"===t.dataType?[u(e[0]),u(e[1])]:e,d(n,t.id,o.TYPE_RANGE)},b=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxValue";n="date"===t.dataType?"maxValue"===r?[u(y),u(Number(e))]:[u(Number(e)),u(g)]:"maxValue"===r?[y,Number(e)]:[Number(e),g],d(n,t.id,o.TYPE_RANGE)};return"date"===t.dataType?a.default.createElement(i.default,{min:c(p),max:c(v),disabled:l,value:[c(y),c(g)],onChange:function(e){return m(e)},handleOnChangeValue:b}):a.default.createElement(i.default,{min:p,max:v,disabled:l,value:[y,g],onChange:function(e){return m(e)},handleOnChangeValue:b})};t.default=d},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(337))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),a=u(n(70)),i=u(n(8)),o=u(n(127)),l=n(42);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)(a.default).withConfig({displayName:"component__StyledInput",componentId:"sc-4recye-0"})(["text-align:left !important;"]),d=function(e){var t=e.filter,n=e.disabled,a=void 0!==n&&n,i=e.setData,u=e.isNumeric,d=void 0===u||u,s=t.filter.values,f=t.fieldInfo?t.fieldInfo:{min:0,max:100},p=f.min,v=f.max,h=(0,o.default)(p)||(0,o.default)(v);return r.default.createElement(c,{min:p,max:v,step:h?.1:1,disabled:a,value:s,type:d?"number":"text",name:"filter-value-".concat(t.id),onChange:function(e){return i(e.target.value,t.id,l.TYPE_VALUE)}})};t.default=d},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(339))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1)),a=o(n(29)),i=n(42);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.filter,n=e.setData,o=void 0===n?function(){}:n,l=e.optionData,u=void 0===l?[]:l,c=u.find((function(e){return e.value===t.column}));return r.default.createElement(a.default,{value:c,placeholder:"Select Column",name:"filter-column-".concat(t.id),options:u,onChange:function(e){o(e,t.id,i.TYPE_COLUMNS)}})};t.default=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(341))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1)),a=o(n(29)),i=n(42);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.filter,n=e.disabled,o=void 0!==n&&n,l=e.setData,u=void 0===l?function(){}:l,c=e.optionData,d=void 0===c?[]:c,s=t.filter.values;return r.default.createElement(a.default,{isDisabled:o,value:s||null,isMulti:!0,placeholder:"Select ".concat(t.column),name:"filter-string-values-".concat(t.id),options:d,onChange:function(e){u(e,t.id,i.TYPE_FILTER_ON_VALUES)}})};t.default=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(343))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1)),a=o(n(29)),i=n(42);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.filter,n=e.disabled,o=void 0!==n&&n,l=e.setData,u=void 0===l?function(){}:l,c=e.optionData,d=void 0===c?[]:c,s="string"===t.indicator?t.filter.values:d.find((function(e){return e.value===t.indicator}));return r.default.createElement(a.default,{isDisabled:o,value:s||null,isMulti:"string"===t.indicator,placeholder:"string"===t.indicator?"Select ".concat(t.column):"Select Indicator",name:"filter-indicator-".concat(t.id),options:d,onChange:function(e){u(e,t.id,i.TYPE_INDICATOR)}})};t.default=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(345))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),a=n(18),i=n(346);function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var l=function(e){var t=e.addFilter;return r.default.createElement(i.StyledAddSection,null,r.default.createElement(a.Button,{size:"small",onClick:function(){return t()}},"Add Filter"))};t.default=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StyledAddSection=void 0;var a=((r=n(8))&&r.__esModule?r:{default:r}).default.div.withConfig({displayName:"style__StyledAddSection",componentId:"sc-6qdouu-0"})(["position:absolute;top:-40px;right:0;"]);t.StyledAddSection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledDeleteBox=t.StyledFilter=t.StyledFilterSection=t.StyledEmpty=t.StyledFilterBox=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r};var i=a.default.div.withConfig({displayName:"style__StyledFilterBox",componentId:"o4sr4l-0"})(["position:relative;"]);t.StyledFilterBox=i;var o=a.default.div.withConfig({displayName:"style__StyledEmpty",componentId:"o4sr4l-1"})(["max-width:300px;margin:0 auto;display:flex;align-items:center;justify-content:center;text-align:center;"]);t.StyledEmpty=o;var l=a.default.div.withConfig({displayName:"style__StyledFilterSection",componentId:"o4sr4l-2"})(["padding:10px 0;position:relative;label{text-transform:capitalize;}"]);t.StyledFilterSection=l;var u=a.default.div.withConfig({displayName:"style__StyledFilter",componentId:"o4sr4l-3"})(["padding:15px 0 0 20px;margin:0 0 0 10px;border-left:1px solid #d2d3d6;"]);t.StyledFilter=u;var c=a.default.div.withConfig({displayName:"style__StyledDeleteBox",componentId:"o4sr4l-4"})(["position:absolute;right:0;top:50%;transform:translate(-50px,-50%);button{font-size:12px;padding:7px 10px;border:none;font-weight:500;}"]);t.StyledDeleteBox=c},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((r=n(349))&&r.__esModule?r:{default:r}).default;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),a=l(n(394)),i=l(n(350)),o=n(351);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.json,n=e.onChange,l=void 0===n?function(){}:n;return r.default.createElement(o.StyledField,null,r.default.createElement(a.default,{placeholder:t,colors:o.EditorColors,locale:i.default,style:o.EditorStyles,onChange:l}))};t.default=u},,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EditorStyles=t.EditorColors=t.StyledField=void 0;var a=((r=n(8))&&r.__esModule?r:{default:r}).default.div.withConfig({displayName:"style__StyledField",componentId:"sc-1alfild-0"})(["box-sizing:border-box;height:221px;width:100%;border:1px solid rgba(202,204,208,0.85);border-radius:4px;background-color:#FFFFFF;padding:0;font-size:14px;"]);t.StyledField=a;t.EditorColors={keys:"#C32D7B",number:"#2C75B0",string:"#C32D7B",background:"white",background_warning:"#ffebeb"};t.EditorStyles={labelColumn:{display:"none",boxSizing:"border-box"},body:{fontSize:"14px",height:"100%",width:"100%"},outerBox:{width:"100%",height:"100%",boxSizing:"border-box"},container:{height:"100%",width:"100%",boxSizing:"border-box"},warningBox:{width:"100%",position:"absolute",left:"0",bottom:"-62px"},contentBox:{padding:"20px 0 20px 20px",height:"100%",width:"100%",boxSizing:"border-box"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=(r=n(353))&&r.__esModule?r:{default:r};var o=(0,a.connectState)((function(e){return{widgetData:e.editor.widgetData,configuration:e.configuration}}))(i.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},i=n(354);var o=function(e){var t,n,r=e.widgetData,o=e.configuration,l=(null===o||void 0===o||null===(t=o.value)||void 0===t?void 0:t.alias)||"",u=(null===o||void 0===o||null===(n=o.category)||void 0===n?void 0:n.alias)||"";return a.default.createElement(i.StyledTableBox,null,a.default.createElement(i.StyledTable,null,a.default.createElement("thead",null,a.default.createElement(i.StyledTr,null,a.default.createElement(i.StyledTh,null,u),a.default.createElement(i.StyledTh,null,l))),a.default.createElement("tbody",null,r&&r.map((function(e,t){return a.default.createElement(i.StyledTr,{key:t},a.default.createElement(i.StyledTd,null,e.x),a.default.createElement(i.StyledTd,{center:!0},e.y))})))))};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledTh=t.StyledTd=t.StyledTr=t.StyledTable=t.StyledTableBox=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r};var i=a.default.div.withConfig({displayName:"style__StyledTableBox",componentId:"e0k6e9-0"})(["width:100%;height:100%;overflow:auto;"]);t.StyledTableBox=i;var o=a.default.table.withConfig({displayName:"style__StyledTable",componentId:"e0k6e9-1"})(["border-collapse:separate;border-spacing:0;width:100%;padding:0;border-radius:4px;overflow:hidden;border:1px solid rgba(26,28,34,.1);font-size:14px;margin-bottom:20px;"]);t.StyledTable=o;var l=a.default.tr.withConfig({displayName:"style__StyledTr",componentId:"e0k6e9-2"})(["background-color:#fff;box-sizing:border-box;"]);t.StyledTr=l;var u=a.default.td.withConfig({displayName:"style__StyledTd",componentId:"e0k6e9-3"})(["width:100%;padding:20px;text-align:",";"],(function(e){return e.center?"center":"left"}));t.StyledTd=u;var c=a.default.td.withConfig({displayName:"style__StyledTh",componentId:"e0k6e9-4"})(["position:relative;font-size:14px;color:#393f44;font-weight:700;white-space:nowrap;padding:20px;"]);t.StyledTh=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=n(39),o=(r=n(356))&&r.__esModule?r:{default:r};var l=(0,a.connectState)((function(e){return{theme:e.theme}}),{setTheme:i.setTheme})(o.default);t.default=l},function(e,t,n){"use strict";var r=n(23),a=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=p(n(1)),o=p(n(52)),l=p(n(53)),u=p(n(41)),c=p(n(70)),d=p(n(29)),s=n(357),f=n(358);function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t=e.theme,n=e.setTheme,p=t.font,v=t.titleSize,h=t.captionSize,y=t.axisTitleSize,g=s.FONTS.find((function(e){return e.value===p}))||s.FONTS[0],m=function(e,i){var o=new RegExp("^[0-9]*$"),l=""!==i&&o.test(Number(i))?i:"auto";n(a({},t,r({},e,l)))};return i.default.createElement("div",null,i.default.createElement(l.default,{htmlFor:"options-title"},"Font"),i.default.createElement(d.default,{value:g,onChange:function(e){n(a({},t,{font:e.value}))},options:s.FONTS,styles:f.InputStyles}),i.default.createElement("br",null),i.default.createElement(o.default,{row:!0},i.default.createElement(u.default,null,i.default.createElement(l.default,{htmlFor:"typography-title-size"},"Title size"),i.default.createElement(c.default,{name:"typography-title-size",value:"auto"===v?"":v,type:"text",onChange:function(e){return m("titleSize",e.target.value)},placeholder:"Auto"})),i.default.createElement(u.default,null,i.default.createElement(l.default,{htmlF:!0,or:"typography-caption-size"},"Caption size"),i.default.createElement(c.default,{name:"typography-caption-size",value:"auto"===h?"":h,type:"text",onChange:function(e){return m("captionSize",e.target.value)},placeholder:"Auto"})),i.default.createElement(u.default,null,i.default.createElement(l.default,{htmlFor:"typography-axisTitleSize"},"Axis title size"),i.default.createElement(c.default,{name:"typography-axisTitleSize",value:"auto"===y?"":y,type:"text",onChange:function(e){return m("axisTitleSize",e.target.value)},placeholder:"Auto"}))))};t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FONTS=void 0;t.FONTS=[{value:"lato",label:"Lato"},{value:"arial",label:"Arial"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputStyles=void 0;t.InputStyles={container:function(){return{position:"relative",boxSizing:"border-box",cursor:"pointer",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0)"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){return{color:"#c32d7b",transition:"all 0.2s ease-out"}},indicatorsContainer:function(){return{color:"#c32d7b",display:"flex",padding:"8px",transition:"color 150ms",boxSizing:"border-box",position:"relative",top:"5px"}},control:function(){return{display:"flex",border:"none",borderRadius:"4px",padding:"3px 0"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=n(39),o=(r=n(360))&&r.__esModule?r:{default:r};var l=(0,a.connectState)((function(e){return{theme:e.theme}}),{setTheme:i.setTheme})(o.default);t.default=l},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n(1))&&a.__esModule?a:{default:a},o=n(361);var l=function(e){var t=e.theme,n=e.setTheme,a=t.schemes,l=t.selectedScheme;return i.default.createElement(o.StyledShemesContainer,null,a.map((function(e,a){return i.default.createElement(o.StyledShemesCard,{key:"".concat(e.name,"-").concat(a)},i.default.createElement(o.StyledCardBox,{active:l===e.name,onClick:function(){return function(e){n(r({},t,{selectedScheme:e.name}))}(e)}},i.default.createElement(o.StyledShemeInfo,null,i.default.createElement(o.StyledShemeName,null,e.name),i.default.createElement(o.StyledShemeColors,null,i.default.createElement("div",{style:{flexBasis:"100%",background:e.mainColor}}),i.default.createElement("div",{style:{flexBasis:"100%",display:"flex"}},e.category.map((function(t){return i.default.createElement("div",{key:t,style:{flexBasis:"".concat(100/e.category.length,"%"),background:t}})})))))))})))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledShemeColors=t.StyledShemeName=t.StyledShemeInfo=t.StyledCardBox=t.StyledShemesCard=t.StyledShemesContainer=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(8));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i=r.default.div.withConfig({displayName:"style__StyledShemesContainer",componentId:"vlyagb-0"})(["display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;width:100%;margin-left:-5px;margin-right:-5px;*{box-sizing:border-box;}"]);t.StyledShemesContainer=i;var o=r.default.div.withConfig({displayName:"style__StyledShemesCard",componentId:"vlyagb-1"})(["width:33.333%;display:flex;align-items:center;justify-content:center;padding-right:5px;padding-left:5px;input{display:none;}"]);t.StyledShemesCard=o;var l=r.default.div.withConfig({displayName:"style__StyledCardBox",componentId:"vlyagb-2"})(["width:100%;box-sizing:border-box;height:100px;border:",";border-radius:4px;background-color:rgba(255,255,255,0);padding:15px 18px;&:hover{border:2px solid #C32D7B;cursor:pointer;}"],(function(e){return e.active?"2px solid #C32D7B":"1px solid rgba(202,204,208,0.85)"}));t.StyledCardBox=l;var u=r.default.div.withConfig({displayName:"style__StyledShemeInfo",componentId:"vlyagb-3"})([""]);t.StyledShemeInfo=u;var c=r.default.div.withConfig({displayName:"style__StyledShemeName",componentId:"vlyagb-4"})(["font-size:14px;margin:0;padding-bottom:7px;text-transform:uppercase;"]);t.StyledShemeName=c;var d=r.default.div.withConfig({displayName:"style__StyledShemeColors",componentId:"vlyagb-5"})(["div{height:21px;}"]);t.StyledShemeColors=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(12),i=(r=n(363))&&r.__esModule?r:{default:r};var o=(0,a.connectState)((function(e){return{authenticated:e.editor.authenticated}}))(i.default);t.default=o},function(e,t,n){"use strict";var r=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=(a=n(8))&&a.__esModule?a:{default:a},l=n(18),u=n(364),c=n(67);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}var s=o.default.footer.withConfig({displayName:"component__StyledFooter",componentId:"xd8mvj-0"})(["width:100%;height:",";align-self:flex-end;display:flex;align-items:center;justify-content:space-between;padding:0 30px;"],c.FOOTER_HEIGHT),f=function(e){var t=e.authenticated,n=e.onSave,a=(0,i.useState)(!1),o=r(a,2),c=o[0],d=o[1];return i.default.createElement(s,null,i.default.createElement(u.Modal,{isOpen:c,closeModal:function(){return d(!1)}},i.default.createElement("h2",null,"How to customize the visualization")),i.default.createElement(l.Button,{onClick:function(){return d(!0)},type:"highlight"},"Need help?"),t&&i.default.createElement(l.Button,{type:"cta",onClick:n},"Save widget"))};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(365);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},i=n(18),o=n(366);t.Modal=function(e){var t=e.isOpen,n=e.closeModal,r=e.children;return a.default.createElement(o.StyledModalBox,{isOpen:t},a.default.createElement(o.StyledModalContainer,{isOpen:t},a.default.createElement(o.StyledModalContent,null,a.default.createElement(o.StyledModalCloseBtn,{onClick:function(){return n()}},a.default.createElement(i.CloseIcon,{width:"20px",height:"20px",hoverColor:"#C32D7B"})),r,a.default.createElement(o.StyledActions,null,a.default.createElement(i.Button,{onClick:function(){return n()},type:"cta"},"Ok, got it!")))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledActions=t.StyledModalCloseBtn=t.StyledModalContent=t.StyledModalContainer=t.StyledModalBox=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r};var i=a.default.div.withConfig({displayName:"style__StyledModalBox",componentId:"irhh82-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.3);transition:all .16s cubic-bezier(.47,0,.745,.715);z-index:",";visibility:",";opacity:",";display:flex;justify-content:center;align-items:center;"],(function(e){return e.isOpen?1100:-1}),(function(e){return e.isOpen?"visible":"hidden"}),(function(e){return e.isOpen?1:0}));t.StyledModalBox=i;var o=a.default.div.withConfig({displayName:"style__StyledModalContainer",componentId:"irhh82-1"})(["-webkit-transition:-webkit-transform .24s cubic-bezier(.215,.61,.355,1);transition:-webkit-transform .24s cubic-bezier(.215,.61,.355,1);transition:transform .24s cubic-bezier(.215,.61,.355,1);transition:transform .24s cubic-bezier(.215,.61,.355,1),-webkit-transform .24s cubic-bezier(.215,.61,.355,1);-webkit-transform:translateY(0);transform:",";display:-webkit-box;display:flex;position:relative;width:calc(100% - 50px);max-width:880px;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.15);z-index:1;"],(function(e){return e.isOpen?"translateY(0)":"translateY(-35px)"}));t.StyledModalContainer=o;var l=a.default.div.withConfig({displayName:"style__StyledModalContent",componentId:"irhh82-2"})(["position:relative;width:100%;max-height:85vh;min-height:150px;overflow:auto;padding:72px;-webkit-overflow-scrolling:touch;box-shadow:0 7px 15px 0 rgba(0,0,0,.15);"]);t.StyledModalContent=l;var u=a.default.button.withConfig({displayName:"style__StyledModalCloseBtn",componentId:"irhh82-3"})(["fill:#000;display:block;position:absolute;top:15px;right:15px;width:30px;height:30px;padding:0;border:0;background-color:transparent;cursor:pointer;z-index:2;outline:none;"]);t.StyledModalCloseBtn=u;var c=a.default.div.withConfig({displayName:"style__StyledActions",componentId:"irhh82-4"})(["padding-top:60px;"]);t.StyledActions=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledContainer=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(8)),a=n(67);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=r.default.div.withConfig({displayName:"style__StyledContainer",componentId:"sc-1fm4mu4-0"})(["width:100%;min-height:740px;",""],(function(e){return e.isCompact?(0,r.css)(["box-sizing:border-box;position:relative;max-width:600px;margin:0 auto;height:calc(100% - ",");"],a.FOOTER_HEIGHT):(0,r.css)(["height:100%;display:flex;flex-flow:wrap;justify-content:space-between;flex-flow:column;@media only screen and (min-width:768px){flex-flow:wrap;}"])}));t.StyledContainer=o},function(e,t,n){"use strict";var r=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(22),i=n(43),o=n(33),l=p(n(369)),u=p(n(372)),c=p(n(375)),d=p(n(378)),s=p(n(381));function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var v={configuration:(0,i.handleModule)(d),editor:(0,i.handleModule)(l),theme:(0,i.handleModule)(u),filters:(0,i.handleModule)(s),widget:(0,i.handleModule)(c)},h=r({},o.constants.APP_NAMESPACE,(0,a.combineReducers)(v));t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var r=u(n(65));t.actions=r;var a=u(n(370));t.reducers=a;var i,o=(i=n(371))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var r=n(23),a=n(14);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r({},function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(65)).setEditor,(function(e,t){var n=t.payload;return a({},e,{},n)}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={authenticated:!1,restoring:!1,disabledFeatures:[],initialized:!1,dataset:null,widget:null,widgetData:null,errors:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var r=u(n(39));t.actions=r;var a=u(n(373));t.reducers=a;var i,o=(i=n(374))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var r,a=n(23),i=n(86),o=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(39));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=(a(r={},l.setTheme,(function(e,t){var n=t.payload;return o({},e,{},n)})),a(r,l.setScheme,(function(e,t){var n=t.payload;return o({},e,{schemes:[].concat(i(e.schemes),i(n))})})),r);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={compact:{isCompact:!0,isOpen:!1},schemes:[{name:"default",mainColor:"#97bd3d",category:["#97bd3d","#2C75B0","#FAB72E","#EF4848","#3BB2D0","#C32D7B","#F577B9","#5FD2B8","#F1800F","#9F1C00","#A5E9E3","#B9D765","#393F44","#CACCD0","#717171"]}],color:"#C32D7B",slider:{track:"#a3daf3",trackBackground:"#f5f5f5"},selectedScheme:"default",font:"lato",titleSize:"auto",captionSize:"auto",axisTitleSize:"auto"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var r=u(n(89));t.actions=r;var a=u(n(376));t.reducers=a;var i,o=(i=n(377))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var r=n(23),a=n(14);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r({},function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(89)).setWidget,(function(e,t){var n=t.payload;return a({},e,{},n)}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var r=u(n(28));t.actions=r;var a=u(n(379));t.reducers=a;var i,o=(i=n(380))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var r,a=n(23),i=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(28));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=(a(r={},o.setConfiguration,(function(e,t){var n=t.payload;return i({},e,{},n)})),a(r,o.patchConfiguration,(function(e,t){var n=t.payload;return i({},e,{},n)})),r);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={title:"",caption:"",visualizationType:"chart",chartType:"bar",direction:"horizontal",xAxisTitle:null,yAxisTitle:null,availableCharts:[{value:"pie",chartType:"pie",direction:null,label:"Pie"},{value:"bar-horizontal",chartType:"bar",direction:"horizontal",label:"Bar (Horizontal)"},{value:"bar-vertical",chartType:"bar",direction:"vertical",label:"Bar (Vertical)"},{value:"line",chartType:"line",direction:null,label:"Line"},{value:"scatter",chartType:"scatter",direction:null,label:"Scatter"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var r=u(n(40));t.actions=r;var a=u(n(382));t.reducers=a;var i,o=(i=n(383))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var r=n(23),a=n(14);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r({},function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(40)).setFilters,(function(e,t){var n=t.payload;return a({},e,{},n)}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={orderBy:null,color:null,list:[]}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,((r=n(396))&&r.__esModule?r:{default:r}).default)();t.default=a},function(e,t,n){"use strict";var r=n(4),a=r.mark(c);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=n(90),o=u(n(386)),l=u(n(387));function u(e){return e&&e.__esModule?e:{default:e}}function c(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.all)([(0,i.fork)(o.default),(0,i.fork)(l.default)]);case 2:case"end":return e.stop()}}),a)}},function(e,t,n){"use strict";var r=n(4),a=n(14),i=r.mark(d),o=r.mark(s);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l=n(90),u=n(33),c=n(28);function d(){var e,t,n,o,u,d,s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,l.select)();case 2:if(e=r.sent,!(t=e.widgetEditor.editor).widget){r.next=9;break}return n=t.widget.attributes,o=n.name,u=n.description,d=n.widgetConfig,s=a({},d.paramsConfig,{title:o,caption:u}),r.next=9,(0,l.put)((0,c.setConfiguration)(s));case 9:case"end":return r.stop()}}),i)}function s(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeLatest)(u.constants.sagaEvents.DATA_FLOW_DATASET_WIDGET_READY,d);case 2:case"end":return e.stop()}}),o)}},function(e,t,n){"use strict";var r=n(4),a=n(128),i=r.mark(_),o=r.mark(O),l=r.mark(x),u=r.mark(E),c=r.mark(w),d=r.mark(S);Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var s=n(90),f=n(12),p=n(33),v=n(65),h=n(89),y=new p.StateProxy,g=null;function m(e){return b.apply(this,arguments)}function b(){return(b=a(r.mark((function e(t){var n,a,i,o,l,u,c,d;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.configuration,a=t.filters,i=t.editor.dataset,o=new p.FiltersService(n,a,i),l=o.getQuery(),u=g.dataEndpoint,e.next=6,fetch("".concat(u,"/").concat(i.id,"?sql=").concat(l));case 6:return c=e.sent,e.next=9,c.json();case 9:return d=e.sent,e.abrupt("return",d);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload,g=t;case 2:case"end":return n.stop()}}),i)}function O(){var e,t,n,a,i,l,u,c,d,f;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s.select)();case 2:if(e=r.sent,t=e.widgetEditor,n=t.editor,a=t.configuration,i=t.theme,!n.widget){r.next=18;break}return l=n.widgetData,u=n.widget.attributes.widgetConfig,c=new p.VegaService(u,l,a,i),r.next=13,(0,s.put)((0,h.setWidget)(c.getChart()));case 13:return r.next=15,(0,s.select)();case 15:d=r.sent,f=d.widgetEditor,y.cacheChart(f);case 18:case"end":return r.stop()}}),o)}function x(){var e,t,n;return r.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.select)();case 2:return e=a.sent,t=e.widgetEditor,a.next=6,(0,s.call)([y,"sync"],t);case 6:if(!((n=a.sent)&&n.length>0)){a.next=15;break}a.t0=r.keys(n);case 9:if((a.t1=a.t0()).done){a.next=15;break}return event=a.t1.value,a.next=13,(0,s.put)({type:n[event]});case 13:a.next=9;break;case 15:case"end":return a.stop()}}),l)}function E(){var e,t,n,a,i,o,l,c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s.select)();case 2:if(e=r.sent,t=e.widgetEditor,n=t.editor,a=t.configuration,i=t.theme,!n.initialized||!n.widgetData){r.next=13;break}return o=n.widgetData,l=n.widget.attributes.widgetConfig,c=new p.VegaService(l,o,a,i),r.next=13,(0,s.put)((0,h.setWidget)(c.getChart()));case 13:case"end":return r.stop()}}),u)}function w(){var e,t,n;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s.select)();case 2:return e=r.sent,t=e.widgetEditor,r.next=6,(0,s.call)(m,t);case 6:if(!(n=r.sent).data){r.next=15;break}return r.next=10,(0,s.put)((0,v.setEditor)({widgetData:n.data}));case 10:return r.next=12,(0,s.call)(E);case 12:if(t.editor.initialized){r.next=15;break}return r.next=15,(0,s.put)({type:p.constants.sagaEvents.DATA_FLOW_VISUALISATION_READY});case 15:case"end":return r.stop()}}),c)}function S(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(p.constants.sagaEvents.DATA_FLOW_FIELDS_AND_LAYERS_READY,w);case 2:return e.next=4,(0,s.takeLatest)(p.constants.sagaEvents.DATA_FLOW_VISUALISATION_READY,O);case 4:return e.next=6,(0,s.takeLatest)(p.constants.sagaEvents.DATA_FLOW_STORE_ADAPTER_CONFIG,_);case 6:return e.next=8,(0,s.takeLatest)(p.constants.sagaEvents.DATA_FLOW_UPDATE_WIDGET,E);case 8:return e.next=10,(0,s.takeLatest)(p.constants.sagaEvents.DATA_FLOW_CONFIGURATION_UPDATE,w);case 10:return e.next=12,(0,s.takeLatest)((0,f.getAction)("CONFIGURATION/patchConfiguration"),x);case 12:return e.next=14,(0,s.takeLatest)((0,f.getAction)("EDITOR/THEME/setTheme"),E);case 14:case"end":return e.stop()}}),d)}},function(e,t,n){"use strict";var r=n(15),a=n(16);Object.defineProperty(t,"__esModule",{value:!0});var i=n(97),o=function(){function e(t){r(this,e),this.setConfig(t)}return a(e,[{key:"setConfig",value:function(e){var t=i.pick(e,["url","env","applications","authUrl","assetsPath","userToken","userEmail","locale"]);this.config=Object.assign(Object.assign({},this.config),t)}},{key:"getConfig",value:function(){return this.config}}]),e}();t.default=function(e){return new o(e)}},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"modifyOptions",(function(){return m})),n.d(r,"default",(function(){return b}));var a={};n.r(a),n.d(a,"default",(function(){return O}));var i={};n.r(i),n.d(i,"actions",(function(){return r})),n.d(i,"initialState",(function(){return x})),n.d(i,"reducers",(function(){return a}));var o=n(1),l=n.n(o),u=n(19),c=n.n(u),d=(n(149),n(26)),s=n(30),f=n(22),p=n(131),v=n(35),h=n.n(v),y=n(138),g=n(43),m=Object(g.createAction)("PLAYGROUND/modifyOptions"),b={modifyOptions:m},_=n(3),O=Object(_.a)({},m,(function(e,t){var n=t.payload;return Object(s.a)({},e,{},n)})),x={authToken:"",optionsOpen:!1,compactMode:!1,widget:null,theme:{color:"#C32D7B"},dataset:"1ad53858-f5da-47cb-8006-5b4aa5aad589"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(f.combineReducers)(Object(s.a)({editorOptions:Object(g.handleModule)(i)},v.reducers)),n=Object(f.applyMiddleware)(y.a,v.middleware),r=Object(p.composeWithDevTools)(n),a=Object(f.createStore)(t,e,r);return v.middleware.run(v.sagas),{store:a}},w=n(17),S=n(13),T=n(47),C=n(46),P=n(139),j=n.n(P),A=[{name:"pine",mainColor:"#907A59",category:["#907A59","#6AAC9F","#D5C0A1","#5C7D86","#F9AF38","#F05B3F","#89AD24","#CE4861","#F5808F","#86C48F","#F28627","#B23912","#BAD6AF","#C9C857","#665436"]},{name:"wind",mainColor:"#5A7598",category:["#5A7598","#C1CCDC","#DBB86F","#B7597B","#5FAB55","#8D439E","#CD87CA","#6BC8CB","#C58857","#712932","#ACE3E9","#B1D193","#294260","#49ACDB","#2A75C3"]}],k=function(e){Object(T.a)(n,e);var t=Object(C.a)(n);function n(e){return Object(w.a)(this,n),t.call(this,e)}return Object(S.a)(n,[{key:"handleOnSave",value:function(e){console.log("on save called from consumer with:"),console.log(e)}},{key:"render",value:function(){var e=this.props.editorOptions,t=e.compactMode,n=e.authToken,r=e.dataset,a=e.widget,i=e.theme,o=!!n&&n.length>0;return l.a.createElement("div",{className:"widget-editor-wrapper"},l.a.createElement(h.a,{schemes:A,compact:t,disable:[],datasetId:r,widgetId:a,onSave:this.handleOnSave,authenticated:o,application:"rw",adapter:j.a,theme:i}))}}]),n}(l.a.Component),M=Object(d.connect)((function(e){return{editorOptions:e.editorOptions}}),{})(k),D=(n(389),function(e){Object(T.a)(n,e);var t=Object(C.a)(n);function n(e){var r;Object(w.a)(this,n),(r=t.call(this,e)).state={widgets:[]};fetch("https://api.resourcewatch.org/v1/widget?includes=metadata,user,vocabulary").then((function(e){return e.json()})).then((function(e){r.setState({widgets:e.data})}));return r}return Object(S.a)(n,[{key:"render",value:function(){var e=this.state.widgets,t=this.props,n=t.editorOptions,r=n.compactMode,a=n.authToken,i=n.dataset,o=n.widget,u=n.optionsOpen,c=n.theme,d=t.modifyOptions,f="c-playground-options ".concat(u?"-open":"");return l.a.createElement("div",{className:f},l.a.createElement("h4",null,"Widget editor options"),l.a.createElement("label",{htmlFor:"token"},"Auth token"),l.a.createElement("input",{id:"token",type:"text",placeholder:"Bearer token",value:a,onChange:function(e){return d({authToken:e.target.value})}}),l.a.createElement("label",{htmlFor:"dataset"},"Active Dataset"),l.a.createElement("select",{id:"dataset",value:i,onChange:function(e){return d({widget:null,dataset:e.target.value})}},l.a.createElement("option",{value:"03bfb30e-829f-4299-bab9-b2be1b66b5d4"},"Forest Sector Economic Contribution"),l.a.createElement("option",{value:"1ad53858-f5da-47cb-8006-5b4aa5aad589"},"Countries lacking access to electricity (urban)"),l.a.createElement("option",{value:"20cc5eca-8c63-4c41-8e8e-134dcf1e6d76"},"Fires"),l.a.createElement("option",{value:"a86d906d-9862-4783-9e30-cdb68cd808b8"},"Global Power Plant Database"),l.a.createElement("option",{value:"1bc94710-d7ec-46f9-aa27-edddd87b1625"},"Cold Water Corals")),l.a.createElement("label",{htmlFor:"widget"},"Select widget"),l.a.createElement("select",{id:"widget",value:o||"NO_WIDGET_SELECTED",onChange:function(t){"NO_WIDGET_SELECTED"===t.target.value?d({widget:null,dataset:"d446a52e-c4c1-4e74-ae30-3204620a0365"}):d({dataset:e.find((function(e){return e.id===t.target.value})).attributes.dataset,widget:t.target.value})}},l.a.createElement("option",{value:"NO_WIDGET_SELECTED"},"-"),e.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.attributes.name)}))),l.a.createElement("label",{htmlFor:"editor-compact-mode"},"Toggle Compact mode"),l.a.createElement("button",{onClick:function(){return d({compactMode:!r})}},r?"Set Default mode":"Set Compact mode"),l.a.createElement("label",{htmlFor:"theme-color"},l.a.createElement("span",{className:"color-presentation",style:{background:c.color}})," ","THEME - Color"),l.a.createElement("input",{id:"theme-color",type:"text",placeholder:"#00000",value:c.color,onChange:function(e){return d({theme:Object(s.a)({},c,{color:e.target.value})})}}))}}]),n}(l.a.Component)),I=Object(d.connect)((function(e){return{editorOptions:e.editorOptions}}),{modifyOptions:m})(D),N=function(e){var t=e.optionsActive,n=e.modifyOptions;return l.a.createElement("button",{onClick:function(){return n({optionsOpen:!t})}},t?"Close options":"View options")},F=Object(d.connect)((function(e){return{optionsActive:e.editorOptions.optionsOpen}}),{modifyOptions:m})(N);n(390);var B=function(){var e=E().store;return l.a.createElement(d.Provider,{store:e},l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},"Widget editor playground",l.a.createElement(F,null)),l.a.createElement(M,null),l.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[144,1,2]]]);
//# sourceMappingURL=main.705c5a74.chunk.js.map