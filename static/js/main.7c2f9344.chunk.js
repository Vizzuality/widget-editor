(this["webpackJsonp@widget-editor/playground"]=this["webpackJsonp@widget-editor/playground"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getAction=t.createAction=t.connectState=void 0;var a=n(34),r=n(68),i=n(41),o=function(e,t){return(0,a.connect)((function(t){return"function"===typeof e?e(t[i.constants.APP_NAMESPACE]):{}}),t)};t.connectState=o;var l=function(e){return(0,r.createAction)("".concat(i.constants.APP_NAMESPACE,"/").concat(e))};t.createAction=l;var u=function(e){return"".concat(i.constants.APP_NAMESPACE,"/").concat(e)};t.getAction=u;var c={connectState:o,createAction:l,getAction:u};t.default=c},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Select",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"CategoryIcon",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"CloseIcon",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"redux",{enumerable:!0,get:function(){return l.default}});var a=u(n(307)),r=u(n(310)),i=u(n(316)),o=u(n(317)),l=u(n(14));function u(e){return e&&e.__esModule?e:{default:e}}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.saveConfiguration=t.patchConfiguration=t.setConfiguration=void 0;var a=n(14),r=(0,a.createAction)("CONFIGURATION/setConfiguration");t.setConfiguration=r;var i=(0,a.createAction)("CONFIGURATION/patchConfiguration");t.patchConfiguration=i;var o=(0,a.createAction)("CONFIGURATION/saveConfiguration");t.saveConfiguration=o;var l={saveConfiguration:o,setConfiguration:r,patchConfiguration:i};t.default=l},,,,,,,,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(11))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"input-group__InputGroup",componentId:"c44rbl-0"})(["position:relative;width:100%;",""],(function(e){return!e.noMargins&&"margin: 0 0 15px 0;"}));t.default=r},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(228));t.DatasetService=r.default;var i=a(n(230));t.WidgetService=i.default;var o=a(n(149));t.FiltersService=o.default;var l=a(n(237));t.DataService=l.default;var u=a(n(238));t.VegaService=u.default;var c=a(n(152));t.FieldsService=c.default;var s=a(n(245));t.StateProxy=s.default;var d=a(n(115));t.constants=d.default},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(11))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"flex__FlexContainer",componentId:"sc-105cfvb-0"})(["display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;flex-flow:",";width:100%;"," label{flex-basis:100%;}"],(function(e){return e.row?"row":"column"}),(function(e){return e.row?"> * { padding-right: 20px; &:last-child { padding-right: 0; } } ":""}));t.default=r},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(11))&&a.__esModule?a:{default:a}).default.label.withConfig({displayName:"form-label__FormLabel",componentId:"sc-8iknw1-0"})(["display:block;padding:0 0 10px 0;color:#393f44;font-weight:700;font-size:13px;"]);t.default=r},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultVegaSchema=function(){return{$schema:"https://vega.github.io/schema/vega/v5.json",width:100,height:100,data:[],legend:[],config:{},signals:[],scales:[],axes:[],marks:[],axis:{labelFontSize:13,labelFont:"Lato",labelColor:"#717171",labelPadding:10,ticks:!0,tickSize:8,tickColor:"#A9ABAD",tickOpacity:.5,tickExtra:!1},axisX:{bandPosition:.5,domainWidth:1.2,domainColor:"#A9ABAD",labelAlign:"center",labelBaseline:"top"},axisY:{domain:!1,labelAlign:"left",labelBaseline:"bottom",tickOpacity:.5,grid:!0,ticks:!1,gridColor:"#A9ABAD",gridOpacity:.5},symbol:{fill:"#3BB2D0"},line:{interpolate:"linear",stroke:"#3BB2D0",fillOpacity:0}}},t.sqlFields={value:"x",category:"y"},t.default={defaultVegaSchema:t.defaultVegaSchema,sqlFields:t.sqlFields}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"reducers",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"sagas",{enumerable:!0,get:function(){return o.default}}),t.default=void 0;var a=l(n(220)),r=l(n(495)),i=l(n(511)),o=l(n(512));function l(e){return e&&e.__esModule?e:{default:e}}var u=a.default;t.default=u},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setScheme=t.setTheme=void 0;var a=n(14),r=(0,a.createAction)("EDITOR/THEME/setTheme");t.setTheme=r;var i=(0,a.createAction)("EDITOR/THEME/setScheme");t.setScheme=i;var o={setTheme:r,setScheme:i};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setFilters=void 0;var a=(0,n(14).createAction)("EDITOR/setFilters");t.setFilters=a;var r={setFilters:a};t.default=r},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(11))&&a.__esModule?a:{default:a}).default.input.withConfig({displayName:"input__Input",componentId:"sc-18efscm-0"})(['width:100%;box-sizing:border-box;padding:14px 10px;background:#ffffff;border:1px solid rgba(202,204,208,0.85);border-radius:4px;color:#393f44;font-size:14px;&[type="number"]{box-sizing:content-box;padding:8px 10px;}']);t.default=r},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILTERS=t.FILTER_STRING_INDICATOR_TYPES=t.FILTER_NUMBER_INDICATOR_TYPES=t.COLUMN_FILTER_GROUP=t.DEFAULT_COLUMNS_FILTER=t.DEFAULT_VALUE_FILTER=t.DEFAULT_RANGE_FILTER=t.STRING_TYPES=t.NUMBER_TYPES=t.TYPE_TEXT_ENDS_WITH=t.TYPE_TEXT_STARTS_WITH=t.TYPE_TEXT_NOT_CONTAINS=t.TYPE_TEXT_CONTAINS=t.TYPE_FILTER_ON_VALUES=t.TYPE_VALUE=t.TYPE_RANGE=t.TYPE_INDICATOR=t.TYPE_COLUMNS=void 0;var a;(a=n(1))&&a.__esModule;t.TYPE_COLUMNS="columns";t.TYPE_INDICATOR="indicator";t.TYPE_RANGE="range";t.TYPE_VALUE="value";t.TYPE_FILTER_ON_VALUES="FILTER_ON_VALUES";t.TYPE_TEXT_CONTAINS="TEXT_CONTAINS";t.TYPE_TEXT_NOT_CONTAINS="TEXT_NOT_CONTAINS";t.TYPE_TEXT_STARTS_WITH="TEXT_STARTS_WITH";t.TYPE_TEXT_ENDS_WITH="TEXT_ENDS_WITH";var r=["range","value"];t.NUMBER_TYPES=r;var i=["FILTER_ON_VALUES","TEXT_CONTAINS","TEXT_NOT_CONTAINS","TEXT_STARTS_WITH","TEXT_ENDS_WITH"];t.STRING_TYPES=i;var o={values:[0,100],type:"range",notNull:!0,max:500,min:0};t.DEFAULT_RANGE_FILTER=o;var l={values:0,type:"value",notNull:!0,max:500,min:0};t.DEFAULT_VALUE_FILTER=l;var u={values:[],type:"columns"};t.DEFAULT_COLUMNS_FILTER=u;var c={column:null,label:null,dataType:null,indicator:"range",filter:o};t.COLUMN_FILTER_GROUP=c;var s=[{label:"Between",value:"range"},{label:"Equals",value:"value"}];t.FILTER_NUMBER_INDICATOR_TYPES=s;var d=[{label:"Filter by values",value:"FILTER_ON_VALUES"},{label:"Text Contains",value:"TEXT_CONTAINS"},{label:"Text does not contain",value:"TEXT_NOT_CONTAINS"},{label:"Text starts with",value:"TEXT_STARTS_WITH"},{label:"Text ends with",value:"TEXT_ENDS_WITH"}];t.FILTER_STRING_INDICATOR_TYPES=d;var f=[o,l,u,s,d,c];t.DEFAULT_FILTERS=f},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setEditor=void 0;var a=(0,n(14).createAction)("EDITOR/setEditor");t.setEditor=a;var r={setEditor:a};t.default=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_BORDER=t.FOOTER_HEIGHT=void 0;t.FOOTER_HEIGHT="100px";var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return"\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.09);\n\n  border-color: rgba(26, 28, 34, 0.1);\n  border-style: solid;\n\n  border-width: ".concat(e,"px ").concat(t,"px ").concat(n,"px ").concat(a,"px;\n")};t.DEFAULT_BORDER=a;var r={FOOTER_HEIGHT:"100px",DEFAULT_BORDER:a};t.default=r},function(e,t,n){"use strict";var a=n(122),r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.getWidgetColumns=t.getSelectedColor=t.getWidgetSelectedColumn=void 0;var i=n(171),o={alias:"Single color",name:"Single color",identifier:"___single_color"},l=function(e){return e.configuration},u=function(e){return e.editor.dataset},c=(0,i.createSelector)([l,u],(function(e,t){if(!t||!t.id||!t.attributes||!t.attributes.metadata)return null;var n=t.attributes.metadata[0].attributes.columns[e.value.name];return r({},n,{identifier:e.value.name})}));t.getWidgetSelectedColumn=c;var s=(0,i.createSelector)([l,u,function(e){return e.filters}],(function(e,t,n){return t&&t.id&&t.attributes&&t.attributes.metadata?"pie"===e.chartType?e.category||null:n.color||o:null}));t.getSelectedColor=s;var d=(0,i.createSelector)([l,u,function(e,t){return t||null}],(function(e,t,n){if(!t||!t.id||!t.attributes||!t.attributes.widgetRelevantProps)return[];var i=t.attributes.widgetRelevantProps.map((function(e){return r({},t.attributes.metadata[0].attributes.columns[e],{identifier:e,name:e})}));return"pie"===e.chartType?i:n&&!0===n.colorDimention?[o].concat(a(i)):i}));t.getWidgetColumns=d},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_NAMESPACE="widgetEditor",t.ALLOWED_FIELD_TYPES=[{name:"esriFieldTypeSmallInteger",type:"number",provider:"esri"},{name:"esriFieldTypeInteger",type:"number",provider:"esri"},{name:"esriFieldTypeSingle",type:"number",provider:"esri"},{name:"esriFieldTypeDouble",type:"number",provider:"esri"},{name:"numeric",type:"number",provider:"psql"},{name:"number",type:"number",provider:"carto"},{name:"int",type:"number",provider:"psql"},{name:"integer",type:"number",provider:"psql"},{name:"float",type:"number",provider:"sql"},{name:"long",type:"number",provider:"sql"},{name:"double",type:"number",provider:"sql"},{name:"real",type:"number",provider:"sql"},{name:"decimal",type:"number",provider:"sql"},{name:"string",type:"string",provider:"sql"},{name:"char",type:"string",provider:"sql"},{name:"varchar",type:"string",provider:"sql"},{name:"esriFieldTypeString",type:"string",provider:"esri"},{name:"text",type:"string",provider:"elastic"},{name:"esriFieldTypeDate",type:"date",provider:"esri"},{name:"date",type:"date",provider:"sql"},{name:"time",type:"date",provider:"sql"},{name:"timestamp",type:"date",provider:"sql"},{name:"interval",type:"date",provider:"sql"},{name:"boolean",type:"boolean",provider:"sql"},{name:"array",type:"array",provider:"sql"}],t.sagaEvents={DATA_FLOW_STORE_ADAPTER_CONFIG:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/adapter_configuration"),DATA_FLOW_DATASET_WIDGET_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/dataset_widget_ready"),DATA_FLOW_FIELDS_AND_LAYERS_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/fields_and_layers_ready"),DATA_FLOW_DATA_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/data_ready"),DATA_FLOW_VISUALISATION_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/visualisation_ready"),DATA_FLOW_WIDGET_DATA_READY:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/visualisation_ready"),DATA_FLOW_PROXY_UPDATE:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/proxy_update"),EDITOR_SAVE:"".concat(t.APP_NAMESPACE,"/CONFIGURATION/saveConfiguration"),DATA_FLOW_UPDATE_WIDGET:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/updateWidget"),DATA_FLOW_CONFIGURATION_UPDATE:"".concat(t.APP_NAMESPACE,"/SAGAS/DATA_FLOW/configurationUpdate")},t.reduxActions={EDITOR_SET_CONFIGURATION:"".concat(t.APP_NAMESPACE,"/CONFIGURATION/setConfiguration"),EDITOR_SET_WIDGET:"".concat(t.APP_NAMESPACE,"/WIDGET/setWidget"),EDITOR_SET_FILTERS:"".concat(t.APP_NAMESPACE,"/EDITOR/setFilters")},t.default={APP_NAMESPACE:t.APP_NAMESPACE,sagaEvents:t.sagaEvents,reduxActions:t.reduxActions}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALIGN_HORIZONTAL=t.ALIGN_VERTICAL=void 0;t.ALIGN_VERTICAL="vertical";t.ALIGN_HORIZONTAL="horizontal"},,,,function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1);var i=function(e,t){var n=(0,r.useState)(e),i=a(n,2),o=i[0],l=i[1];return(0,r.useEffect)((function(){var n=setTimeout((function(){l(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=(a=n(393))&&a.__esModule?a:{default:a};var o=(0,r.connectState)((function(e){return{theme:e.theme}}))(i.default);t.default=o},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setWidget=void 0;var a=(0,n(14).createAction)("WIDGET/setWidget");t.setWidget=a;var r={setWidget:a};t.default=r},,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(306))&&a.__esModule?a:{default:a}).default;t.default=r},,,,,,function(e,t,n){"use strict";var a=n(19),r=n(20),i=n(4),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(231)),c=l(n(38)),s=l(n(152)),d=n(52),f=l(n(236));function p(e,t){return o(this,void 0,void 0,i.mark((function n(){var a;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=0;case 1:if(!(a<e.length)){n.next=7;break}return n.next=4,t(e[a],a,e);case 4:a++,n.next=1;break;case 7:case"end":return n.stop()}}),n)})))}var v=function(){function e(t,n,r){a(this,e),this.configuration=t,this.filters=n,this.sql="",this.dataset=r,this.prepareSelectStatement(),this.prepareAggregate(),this.prepareFilters(),this.prepareGroupBy(),this.prepareOrderBy(),this.prepareOrder(),this.prepareLimit()}return r(e,[{key:"resolveTableName",value:function(){return this.dataset.attributes.tableName}},{key:"prepareColor",value:function(){var e=this.configuration.color;return u.default(e)?", ".concat(e.identifier," as color"):""}},{key:"prepareSelectStatement",value:function(){var e=this.configuration.category;this.sql="SELECT ".concat(e.name," as ").concat(d.sqlFields.value," ").concat(this.prepareColor())}},{key:"prepareAggregate",value:function(){var e=this.configuration,t=e.aggregateFunction,n=e.value.name;if(t){var a=t.toUpperCase();if("SUM"!==a&&"COUNT"!==a)throw new Error("Aggragate function (".concat(t,") not implemented in filter service."));this.sql="".concat(this.sql,", ").concat(a,"(").concat(n,") as ").concat(d.sqlFields.category," FROM ").concat(this.resolveTableName())}else this.sql="".concat(this.sql,", ").concat(n," as ").concat(d.sqlFields.category," FROM ").concat(this.resolveTableName())}},{key:"escapeValue",value:function(e,t){return"date"===t||"string"===t?"'".concat(e,"'"):e}},{key:"rangeCondition",value:function(e,t,n,a){return"".concat(e," ").concat(t," >= ").concat(this.escapeValue(n[0],a)," AND ").concat(t," <= ").concat(this.escapeValue(n[1],a))}},{key:"valueRange",value:function(e,t,n,a){var r=this;return"".concat(e," ").concat(t," IN (").concat(n.map((function(e){return r.escapeValue(e.value,a)})).join(","),")")}},{key:"textContains",value:function(e,t,n,a){return"".concat(e," ").concat(t," = ").concat(this.escapeValue(n,a))}},{key:"valueEquals",value:function(e,t,n,a){return"".concat(e," ").concat(t," = ").concat(this.escapeValue(n,a))}},{key:"textNotContains",value:function(e,t,n,a){return"".concat(e," ").concat(t," != ").concat(this.escapeValue(n,a))}},{key:"textStartsWith",value:function(e,t,n,a){return"".concat(e," (lower(").concat(t,") LIKE '").concat(n,"%')")}},{key:"textEndsWith",value:function(e,t,n,a){return"".concat(e," (lower(").concat(t,") LIKE '%").concat(n,"')")}},{key:"prepareFilters",value:function(){var e=this,t=this.sql;this.filters&&this.filters.length>0&&(t="".concat(t," WHERE "),this.filters.forEach((function(n,a){var r=n.indicator,i=n.column,o=n.dataType,l=n.filter.values;t=a>0?"".concat(t," AND "):t,"range"===r&&(t=e.rangeCondition(t,i,l,o)),"FILTER_ON_VALUES"===r&&(t=e.valueRange(t,i,l,o)),"TEXT_CONTAINS"===r&&(t=e.textContains(t,i,l,o)),"TEXT_NOT_CONTAINS"===r&&(t=e.textNotContains(t,i,l,o)),"TEXT_STARTS_WITH"===r&&(t=e.textStartsWith(t,i,l,o)),"TEXT_ENDS_WITH"===r&&(t=e.textEndsWith(t,i,l,o)),"value"===r&&(t=e.valueEquals(t,i,l,o))}))),this.sql=t.replace(/ +(?= )/g,"")}},{key:"prepareGroupBy",value:function(){var e=this.configuration,t=e.groupBy,n=e.aggregateFunction;if(t){var a=t.name;this.sql="".concat(this.sql," GROUP BY ").concat(a||d.sqlFields.value)}else n&&"none"!==n&&(this.sql="".concat(this.sql," GROUP BY ").concat(d.sqlFields.value))}},{key:"prepareOrderBy",value:function(){var e=this.configuration.orderBy;if(e){var t=e.name;this.sql="".concat(this.sql," ORDER BY ").concat(t||d.sqlFields.category)}}},{key:"prepareOrder",value:function(){var e=this.configuration.orderBy;if(e){var t=e.orderType;this.sql="".concat(this.sql," ").concat(t||"asc")}}},{key:"prepareLimit",value:function(){var e=this.configuration.limit,t=void 0===e?500:e;this.sql="".concat(this.sql," LIMIT ").concat(t)}},{key:"requestWidgetData",value:function(){return o(this,void 0,void 0,i.mark((function e(){var t,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dataset.id){e.next=2;break}throw new Error("Error, datasetId not present in Filters service.");case 2:return e.abrupt("return",[]);case 5:return t=e.sent,e.next=8,t.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getQuery",value:function(){return this.sql.replace(/ +(?= )/g,"")}}],[{key:"handleFilters",value:function(e,t,n){return o(this,void 0,void 0,i.mark((function a(){var r,l,d,f,v,y,h,g,m=this;return i.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.column,l=t.type,d=t.values,f=n.configuration,v=n.dataset,y=n.fields,n.widget,h=[],g=function(e){return u.default(e)?2===Object.keys(e).length?"range":"value":c.default(e)&&2===e.length?"range":"value"},a.next=6,p(e,(function(e,t){return o(m,void 0,void 0,i.mark((function n(){var a,o,u,c;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e[d]||0,o=e[r],u=e[l],c=new s.default(f,v,y),n.t0=h,n.t1=o,n.t2=g(a),n.t3="we-filter-".concat(o,"-").concat(t),n.t4=!e.operation,n.t5=u,n.t6={values:a,notNull:!0},n.next=13,c.getFieldInfo(e,o);case 13:n.t7=n.sent,n.t8={column:n.t1,indicator:n.t2,id:n.t3,exlude:n.t4,dataType:n.t5,filter:n.t6,fieldInfo:n.t7},n.t0.push.call(n.t0,n.t8);case 16:case"end":return n.stop()}}),n)})))}));case 6:return a.abrupt("return",h);case 7:case"end":return a.stop()}}),a)})))}},{key:"patchFilters",value:function(e,t,n,a,r){return o(this,void 0,void 0,i.mark((function o(){var l,u;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.values,t.id,t.type,l=new s.default(n,a,r),i.next=4,f.default(e,l,t);case 4:return u=i.sent,i.abrupt("return",u);case 6:case"end":return i.stop()}}),o)})))}}]),e}();t.default=v},,,function(e,t,n){"use strict";var a=n(4),r=n(19),i=n(20),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(235)),c=function(){function e(t,n,a){r(this,e),this.NUMERIC_TYPE="number",this.COLUMN_TYPE="string",this.DATE_TYPE="date",this.configuration=t,this.dataset=n,this.fields=a}return i(e,[{key:"query",value:function(e){return fetch("https://api.resourcewatch.org/v1/query/".concat(this.dataset.id,"?").concat(e)).then((function(e){if(e.status>=400)throw new Error(e.statusText);return e.json()})).then((function(e){return e.data}))}},{key:"getTableName",value:function(){return this.dataset.attributes.tableName}},{key:"getColumnMinAndMax",value:function(e){var t=e.columnName,n=this.getTableName(),a="SELECT MIN(".concat(t,") AS min, MAX(").concat(t,") AS max FROM ").concat(n);return this.query("sql=".concat(a)).then((function(e){return e?e[0]:{}}))}},{key:"getColumnValues",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.columnName,a=this.getTableName(),r=t?"GROUP BY ".concat(n):"",i="SELECT ".concat(n," FROM ").concat(a," ").concat(r," ORDER BY ").concat(n);return this.query("sql=".concat(i)).then((function(e){return(e||[]).map((function(e){return e[n]}))}))}},{key:"getFieldInfo",value:function(e,t){return o(this,void 0,void 0,a.mark((function e(){var n,r,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this.fields.find((function(e){return e.columnName===t}))).type!==this.NUMERIC_TYPE&&n.type!==this.DATE_TYPE){e.next=6;break}return e.next=4,this.getColumnMinAndMax(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:if(n.type!==this.COLUMN_TYPE){e.next=11;break}return e.next=9,this.getColumnValues(n);case 9:return i=e.sent,e.abrupt("return",i.map((function(e){return{value:e,label:u.default(e)}})));case 11:return e.abrupt("return","".concat(n.type," Not implemented."));case 12:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=c},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(24),i=(a=n(320))&&a.__esModule?a:{default:a};var o=r.redux.connectState((function(e){return{editor:e.editor,widget:e.widget}}))(i.default);t.default=o},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_DATA=t.TYPE_MAP=t.TYPE_DONUT=t.TYPE_PIE=t.TYPE_LINE=t.TYPE_SCATTERPLOT=t.TYPE_BAR=t.TYPE_BAR_VERTICAL=t.TYPE_COLUMN=void 0;t.TYPE_COLUMN="column";t.TYPE_BAR_VERTICAL="bar_vertical";t.TYPE_BAR="bar";t.TYPE_SCATTERPLOT="scatter";t.TYPE_LINE="line";t.TYPE_PIE="pie";t.TYPE_DONUT="donut";t.TYPE_MAP="map";var a=[{type:"column"},{type:"column"},{type:"bar"},{type:"bar_vertical"},{type:"line"},{type:"pie"},{type:"scatter"},{type:"donut"},{type:"map"}];t.MENU_DATA=a},function(e,t,n){"use strict";var a=n(17),r=n(19),i=n(20),o=n(79),l=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=f(n(1)),c=f(n(373)),s=n(374),d=n(375);function f(e){return e&&e.__esModule?e:{default:e}}var p={minZoom:2,zoomControl:!0},v=function(e){o(n,e);var t=l(n);function n(e){var a,i,o;return r(this,n),(a=t.call(this,e)).state={loading:!1},a.labels=e.labels||s.LABELS.none,a.widget=e.widget,a.widgetConfig=a.widget.attributes.widgetConfig,a.layers=e.layers,a.layerGroups=a.createLayerGroups(a.layers,e.layerId),(null===(i=a.widgetConfig)||void 0===i||null===(o=i.basemapLayers)||void 0===o?void 0:o.basemap)?a.basemap=s.BASEMAPS[a.widgetConfig.basemapLayers.basemap]:a.basemap=s.BASEMAPS.dark,a}return i(n,[{key:"createLayerGroups",value:function(e,t){return e.map((function(e){var n=e.id,r=e.attributes;return{dataset:r.dataset,visible:!0,layers:[a({id:n||r.layerConfig.id,active:t?n===t:r.default},r)]}}))}},{key:"getMapOptions",value:function(){var e={zoom:this.widgetConfig.zoom||2,lat:this.widgetConfig.lat||0,lng:this.widgetConfig.lng||0},t=a({},e,{},p);return t.center=[this.widgetConfig.lat||0,this.widgetConfig.lng||0],t}},{key:"componentDidMount",value:function(){var e,t;this.hasBeenMounted=!0,this.instantiateMap(),(null===(e=this.props)||void 0===e||null===(t=e.mapConfig)||void 0===t?void 0:t.bounds)||this.onMapChange()}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.loading!==t.loading}},{key:"componentWillReceiveProps",value:function(e){if(e.layerId!==this.props.layerId){var t=this.createLayerGroups(e.layers,e.layerId).filter((function(e){return e.visible})).map((function(e){return e.layers.find((function(e){return e.active}))})).filter(Boolean);this.layerManager.removeLayers(),this.addLayers(t)}}},{key:"instantiateMap",value:function(){var e,t,n;if(this.mapNode){this.map=L.map(this.mapNode,this.getMapOptions()),this.map.scrollWheelZoom.disable(),(null===(e=this.props)||void 0===e||null===(t=e.mapConfig)||void 0===t?void 0:t.bounds)&&this.map.fitBounds(this.props.mapConfig.bounds),this.props.interactionEnabled||(this.map.dragging.disable(),this.map.touchZoom.disable(),this.map.doubleClickZoom.disable(),this.map.boxZoom.disable(),this.map.keyboard.disable()),this.map.attributionControl.addAttribution('&copy; <a href="http://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>'),this.map.zoomControl&&this.map.zoomControl.setPosition("topright"),this.setBasemap(this.basemap),this.setLabels(this.labels),this.setBoundaries((null===(n=this.props)||void 0===n?void 0:n.boundaries)||!1),this.setEventListeners(),this.instantiateLayerManager();var a=this.layerGroups.filter((function(e){return e.visible})).map((function(e){return e.layers.find((function(e){return e.active}))})).filter(Boolean);this.addLayers(a)}}},{key:"instantiateLayerManager",value:function(){var e=this,t=function(){e.hasBeenMounted&&e.setState({loading:!1})};this.layerManager=new c.default(this.map,{onLayerAddedSuccess:t,onLayerAddedError:t})}},{key:"setLabels",value:function(e){this.labelsLayer&&this.labelsLayer.remove(),"none"!==e.id&&(this.labelsLayer=L.tileLayer(e.value,e.options||{}).addTo(this.map).setZIndex(this.props.layerGroups.length+1))}},{key:"addLayers",value:function(e){var t=this;e&&(this.setState({loading:!0}),e.forEach((function(e){t.layerManager.addLayer(e,{zIndex:e.order})})))}},{key:"getMapParams",value:function(){var e=this.map.getBounds();return{zoom:this.map.getZoom(),latLng:this.map.getCenter(),bounds:[[e.getSouthWest().lat,e.getSouthWest().lng],[e.getNorthEast().lat,e.getNorthEast().lng]]}}},{key:"onMapChange",value:function(){this.props.setMapParams(this.getMapParams())}},{key:"setEventListeners",value:function(){var e=this;this.props.setMapParams&&(this.map.on("zoomend",(function(){return e.onMapChange()})),this.map.on("dragend",(function(){return e.onMapChange()})))}},{key:"setBoundaries",value:function(e){this.boundariesLayer&&this.boundariesLayer.remove(),e&&(this.boundariesLayer=L.tileLayer(s.BOUNDARIES.dark.value,s.BOUNDARIES.dark.options||{}).addTo(this.map).setZIndex(this.props.layerGroups.length+2))}},{key:"setBasemap",value:function(e){this.tileLayer&&this.tileLayer.remove(),this.tileLayer=L.tileLayer(e.value,e.options).addTo(this.map).setZIndex(0)}},{key:"render",value:function(){var e=this;return u.default.createElement(d.StyledMapContainer,null,u.default.createElement("div",{ref:function(t){e.mapNode=t},className:"map-leaflet"}))}}]),n}(u.default.Component);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=(a=n(392))&&a.__esModule?a:{default:a};var o=(0,r.connectState)((function(e){return{theme:e.theme}}))(i.default);t.default=o},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Number(e)===e&&e%1!==0}},,,,,,,,,,,function(e,t,n){"use strict";var a=n(36),r=n(19),i=n(20),o=n(4),l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(41),s=u(n(515));var d=function(){function e(){r(this,e),this.endpoint="https://api.resourcewatch.org/v1",this.dataEndpoint="https://api.resourcewatch.org/v1/query",this.config=null,this.datasetService=null,this.widgetService=null,this.datasetId=null,this.tableName=null,this.AUTH_TOKEN=null,this.applications=["rw"],this.env="production",this.locale="en",this.widget_params=["chartType","visualizationType","limit","value","category","color","size","orderBy","aggregateFunction","filters","areaIntersection","band","layer"];var t={applications:this.applications,env:this.env,locale:this.locale};this.config=s.default(t),this.datasetService=new c.DatasetService(this.config),this.widgetService=new c.WidgetService(this.config)}return i(e,[{key:"payload",value:function(){return{applications:this.applications,env:this.env}}},{key:"saveWidgetRW",value:function(){return l(this,void 0,void 0,o.mark((function e(){var t,n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat(this.endpoint,"/dataset/").concat(this.datasetId,"/widget"),!this.AUTH_TOKEN){e.next=16;break}return e.prev=2,e.next=5,fetch(t,{method:"POST",headers:{Authorization:"Bearer ".concat(this.AUTH_TOKEN)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(2),console.error("Cant save widget",e.t0);case 14:e.next=17;break;case 16:console.error("Missing auth token for saveWidget (RW)");case 17:case"end":return e.stop()}}),e,this,[[2,11]])})))}},{key:"hasAuthToken",value:function(){return!!this.AUTH_TOKEN}},{key:"setDatasetId",value:function(e){e||console.error("Error: datasetId is required"),this.datasetId=e}},{key:"setTableName",value:function(e){e||console.error("Error: datasetId is required"),this.tableName=e}},{key:"getDataset",value:function(){var e,t;return l(this,void 0,void 0,o.mark((function n(){var a,r,i,l,u,c,s,d;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=this.config.getConfig(),r=a.applications,i=a.env,l=a.locale,"metadata,vocabulary,widget,layer",u="".concat(this.endpoint,"/dataset/").concat(this.datasetId,"?").concat(r.join(","),"&env=").concat(i,"&language=").concat(l,"&includes=").concat("metadata,vocabulary,widget,layer","&page[size]=999"),n.next=5,this.datasetService.fetchData(u);case 5:return c=n.sent,s=c.data,this.tableName=(null===(t=null===(e=s)||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.tableName)||null,d=Object.assign(Object.assign({},s),{attributes:Object.assign(Object.assign({},s.attributes),{widget:s.attributes.widget.filter((function(e){return!!e.attributes.published}))})}),n.abrupt("return",d);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"getFields",value:function(){return l(this,void 0,void 0,o.mark((function e(){var t,n,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.endpoint,"/fields/").concat(this.datasetId),e.next=3,this.datasetService.fetchData(t);case 3:return n=e.sent,a=n.fields,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getWidget",value:function(e,t){var n;return l(this,void 0,void 0,o.mark((function a(){var r,i,l,u,c,s,d,f,p;return o.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=this.config.getConfig(),i=r.applications,l=r.env,u=r.locale,c="metadata",s=t||(null===(n=this.widgetService.fromDataset(e))||void 0===n?void 0:n.id)){a.next=5;break}return a.abrupt("return",null);case 5:return d="".concat(this.endpoint,"/widget/").concat(s,"?").concat(i.join(","),"&env=").concat(l,"&language=").concat(u,"&includes=").concat(c,"&page[size]=999"),a.next=8,this.widgetService.fetchWidget(d);case 8:return f=a.sent,p=f.data,a.abrupt("return",p);case 11:case"end":return a.stop()}}),a,this)})))}},{key:"getWidgetData",value:function(e,t){return l(this,void 0,void 0,o.mark((function n(){var a,r,i,l;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=this.widgetService.getDataSqlQuery(e,t),r="".concat(this.endpoint,"/query/").concat(this.datasetId,"?sql=").concat(a),n.next=4,this.widgetService.fetchWidgetData(r);case 4:return i=n.sent,l=i.data,n.abrupt("return",l);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"getLayers",value:function(){return l(this,void 0,void 0,o.mark((function e(){var t,n,a,r,i,l;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config.getConfig(),n=t.applications,a=t.env,t.locale,r="".concat(this.endpoint,"/dataset/").concat(this.datasetId,"/layer?app=").concat(n.join(","),"&env=").concat(a,"&page[size]=9999"),e.next=4,this.datasetService.fetchData(r);case 4:return i=e.sent,l=i.data,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"handleSave",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rw",r=arguments.length>3?arguments[3]:void 0,i=r.configuration,o=r.widget,l=r.filters.list,u=t.dataset,c=u.id,s=u.attributes.tableName;this.setDatasetId(c),this.setTableName(s);var d={};this.widget_params.forEach((function(e){e in i&&(d=Object.assign(Object.assign({},d),a({},e,i[e])))}));var f=o;delete f.data,f.filters=this.filterSerializer(l);var p={name:i.title||null,description:i.description||null,application:n,widgetConfig:f};e(p)}},{key:"filterSerializer",value:function(e){var t=this,n=e.map((function(e){return{value:"FILTER_ON_VALUES"===e.indicator?e.filter.values.map((function(e){return e.value})):e.filter.values,type:e.dataType,name:e.column,datasetID:t.datasetId,tableName:t.tableName,alias:e.column}})),a=["value","type","datasetID","tableName"];return n.filter((function(e){return[].concat(a).filter((function(t){return function(e){return(!Array.isArray(e)||0!==e.length)&&(("string"!==typeof e||0!==e.length)&&null!==e)}(e[t])})).length===a.length}))}},{key:"requestData",value:function(e,t){return l(this,void 0,void 0,o.mark((function n(){var a,r;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.resourcewatch.org/v1/query/".concat(t.id,"?sql=").concat(e));case 2:return a=n.sent,n.next=5,a.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))}},{key:"filterUpdate",value:function(e,t,n,a){return l(this,void 0,void 0,o.mark((function r(){var i,l,u,s,d,f;return o.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&Array.isArray(e)&&0!==e.length){r.next=2;break}return r.abrupt("return",[]);case 2:return i=n.attributes,l=i.name,u=i.description,s=i.widgetConfig,d=Object.assign(Object.assign({},s.paramsConfig),{title:l,caption:u}),r.next=6,c.FiltersService.handleFilters(e,{column:"name",values:"value",type:"type"},{configuration:d,dataset:a,fields:t,widget:n});case 6:return f=r.sent,r.abrupt("return",f);case 8:case"end":return r.stop()}}),r)})))}}]),e}();t.default=d},,,,,function(e,t,n){e.exports=n(521)},,,,,function(e,t,n){},,,,,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(221))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";var a=n(17),r=n(19),i=n(20),o=n(79),l=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=s(n(1)),c=s(n(227));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){o(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){var e=this.props,t=e.authenticated,n=e.application,r=e.onSave,i=e.datasetId,o=e.widgetId,l=void 0===o?null:o,s=e.adapter,d=e.theme,f=e.disable,p=e.schemes,v=e.compact,y=void 0===v||v;if("function"!==typeof s)throw new Error("Widget editor: Missing prop adapter and adapter needs to be of type Adapter");if(!i)throw new Error("Widget editor: Missing prop datasetId of type string");return u.default.createElement(c.default,{authenticated:t,disable:f,application:n,onSave:r,datasetId:i,widgetId:l,adapter:new s,schemes:p,theme:a({},d,{compact:{isCompact:y,isOpen:!1}})})}}]),n}(u.default.Component);t.default=d},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(94),o=n(60),l=(a=n(304))&&a.__esModule?a:{default:a};var u=(0,r.connectState)((function(e){return{editor:e.editor,configuration:e.configuration,widget:e.widget,editorState:e}}),(function(e){return{dispatch:e,setEditor:function(t){return e((0,i.setEditor)(t))},setTheme:function(t){return e((0,o.setTheme)(t))},setScheme:function(t){return e((0,o.setScheme)(t))}}}))(l.default);t.default=u},function(e,t,n){"use strict";var a=n(4),r=n(19),i=n(20),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(t){r(this,e),this.config=t}return i(e,[{key:"fetchData",value:function(e){return o(this,void 0,void 0,a.mark((function t(){var n;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if(!((n=t.sent).status>=400)){t.next=7;break}throw new Error(n.statusText);case 7:return t.next=9,n.json();case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),console.error("Error loading dataset:",e),t.abrupt("return",{});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))}}]),e}();t.default=l},,function(e,t,n){"use strict";var a=n(4),r=n(19),i=n(20),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(148),u=function(){function e(t){r(this,e),this.config=t}return i(e,[{key:"fromDataset",value:function(e){var t;return l.find(null===(t=e.attributes)||void 0===t?void 0:t.widget,(function(e){return!!e.attributes.defaultEditableWidget}))}},{key:"getDataSqlQuery",value:function(e,t){return""}},{key:"fetchWidgetData",value:function(e){return o(this,void 0,void 0,a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))}},{key:"fetchWidget",value:function(e){return o(this,void 0,void 0,a.mark((function t(){var n;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if(!((n=t.sent).status>=400)){t.next=6;break}throw new Error(n.statusText);case 6:return t.next=8,n.json();case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(0),new Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))}}]),e}();t.default=u},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";var a=n(4),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.TYPE_FILTER_ON_VALUES="FILTER_ON_VALUES",t.TYPE_TEXT_CONTAINS="TEXT_CONTAINS",t.TYPE_TEXT_NOT_CONTAINS="TEXT_NOT_CONTAINS",t.TYPE_TEXT_STARTS_WITH="TEXT_STARTS_WITH",t.TYPE_TEXT_ENDS_WITH="TEXT_ENDS_WITH";var i={values:"",type:null,notNull:!1},o={values:[0,100],type:"range",notNull:!0,max:500,min:0},l={values:0,type:"value",notNull:!0,max:500,min:0};function u(e,t){return r(this,void 0,void 0,a.mark((function n(){var r;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<e.length)){n.next=7;break}return n.next=4,t(e[r],r,e);case 4:r++,n.next=1;break;case 7:case"end":return n.stop()}}),n)})))}var c=function(e,t,n){return r(void 0,void 0,void 0,a.mark((function r(){var i,o,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=t.values,t.type,a.next=3,n.getFieldInfo(e,i.value);case 3:return o=a.sent,l="string"!==i.dataType?Object.assign(Object.assign({},e.filter),{values:[o.min,o.max]}):Object.assign(Object.assign({},e.filter),{type:"string",values:[]}),a.abrupt("return",Object.assign(Object.assign({},e),{column:i.value,indicator:"string"===i.dataType?"FILTER_ON_VALUES":"range",dataType:i.dataType,fieldInfo:o,filter:l}));case 6:case"end":return a.stop()}}),r)})))},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Array.isArray(e)?e:[]:null===e?"":Array.isArray(e)?e.map((function(e){return e.label})).join(","):e},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.fieldInfo&&e.fieldInfo.min?e.fieldInfo.min:0,r=e.fieldInfo&&e.fieldInfo.max?e.fieldInfo.max:0;return t||(n?[a,r]:r)},f=function(e,n){var a=n.values,r=e.filter.values,u=null;if(a.value===t.TYPE_FILTER_ON_VALUES)u=Object.assign(Object.assign({},i),{notNull:!0,values:s(r,!0)});else if(a.value===t.TYPE_TEXT_CONTAINS||a.value===t.TYPE_TEXT_NOT_CONTAINS||a.value===t.TYPE_TEXT_STARTS_WITH||a.value===t.TYPE_TEXT_ENDS_WITH)u=Object.assign(Object.assign({},i),{values:s(r)});else if("range"===a.value)u=Object.assign(Object.assign({},o),{values:d(e,r,!0)});else{if("value"!==a.value)throw new Error("Filters helper patch indicator, type ".concat(a.value," is not a valid indicator."));u=Object.assign(Object.assign({},l),{values:d(e,r)})}return Object.assign(Object.assign({},e),{indicator:a.value,filter:u})},p=function(e,t){var n=t.values;return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{values:n})})},v=function(e,t){var n=t.values;return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{values:n})})},y=function(e){return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{notNull:!e.filter.notNull})})};t.default=function(e,n,i){return r(void 0,void 0,void 0,a.mark((function o(){var l,s,d;return a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i.values,l=i.id,s=i.type,d=[],"columns"!==s){o.next=7;break}return o.next=5,u(e,(function(e){return r(void 0,void 0,void 0,a.mark((function t(){var r;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id!==l){t.next=7;break}return t.next=3,c(e,i,n);case 3:r=t.sent,d.push(r),t.next=8;break;case 7:d.push(e);case 8:case"end":return t.stop()}}),t)})))}));case 5:o.next=8;break;case 7:d=e.map((function(e){if(e.id===l){if("indicator"===s)return f(e,i);if("range"===s)return p(e,i);if("value"===s||s===t.TYPE_FILTER_ON_VALUES)return v(e,i);if("NOT_NULL_CHECK"===s)return y(e);throw new Error("Error in filter helper type ".concat(s," not implemented."))}return e}));case 8:return o.abrupt("return",d);case 9:case"end":return o.stop()}}),o)})))}},function(e,t,n){"use strict";var a=n(4),r=n(19),i=n(20),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(37)),c=l(n(149)),s=n(115),d=function(){function e(t,n,a,i,o){r(this,e),this.adapter=a,this.setEditor=i,this.dispatch=o,this.dataset=null,this.widgetId=n,this.widget=null,this.widgetData=null,this.adapter.setDatasetId(t)}return i(e,[{key:"getDatasetAndWidgets",value:function(){return o(this,void 0,void 0,a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.getDataset();case 2:return this.dataset=e.sent,e.next=5,this.adapter.getWidget(this.dataset,this.widgetId);case 5:this.widget=e.sent,this.setEditor({dataset:this.dataset,widget:this.widget}),this.dispatch({type:s.sagaEvents.DATA_FLOW_DATASET_WIDGET_READY});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"restoreEditor",value:function(e,t){return o(this,void 0,void 0,a.mark((function n(){return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.setEditor({restoring:!0}),this.widgetId=t,this.adapter.setDatasetId(e),n.next=5,this.getDatasetAndWidgets();case 5:return n.next=7,this.getFieldsAndLayers();case 7:return n.next=9,this.handleFilters();case 9:this.setEditor({restoring:!1});case 10:case"end":return n.stop()}}),n,this)})))}},{key:"handleFilters",value:function(){var e,t,n;return o(this,void 0,void 0,a.mark((function r(){var i,o,l,c,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.widget){a.next=2;break}return a.abrupt("return",null);case 2:if(i=null===(t=null===(e=this.widget.attributes)||void 0===e?void 0:e.widgetConfig)||void 0===t?void 0:t.paramsConfig,o=null===(n=i)||void 0===n?void 0:n.filters,l=null,c=null,!(o&&Array.isArray(o)&&o.length>0)){a.next=14;break}return d=o.filter((function(e){return!!e.operation})),u.default(i.orderBy)&&(l=i.orderBy),u.default(i.color)&&(c=i.color),a.next=12,this.adapter.filterUpdate(d,this.allowedFields,this.widget,this.dataset);case 12:f=a.sent,this.dispatch({type:s.reduxActions.EDITOR_SET_FILTERS,payload:{color:c,orderBy:l,list:f}});case 14:case"end":return a.stop()}}),r,this)})))}},{key:"isFieldAllowed",value:function(e){var t=s.ALLOWED_FIELD_TYPES.find((function(t){return t.name.toLowerCase()===e.type.toLowerCase()}));return!("cartodb_id"===e.columnName)&&t}},{key:"getFieldsAndLayers",value:function(){var e,t,n,r;return o(this,void 0,void 0,a.mark((function i(){var o,l,u,c=this;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.adapter.getFields();case 2:return o=a.sent,a.next=5,this.adapter.getLayers();case 5:l=a.sent,u=null===(r=null===(n=null===(t=null===(e=this.dataset)||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.metadata[0])||void 0===n?void 0:n.attributes)||void 0===r?void 0:r.columns,this.allowedFields=[],o&&Object.keys(o).length>0&&Object.keys(o).forEach((function(e){if(u&&e in u){var t=Object.assign(Object.assign({},o[e]),{columnName:e,metadata:u[e]});c.isFieldAllowed(t)&&c.allowedFields.push(t)}})),this.dispatch({type:s.sagaEvents.DATA_FLOW_FIELDS_AND_LAYERS_READY}),this.setEditor({layers:l,fields:this.allowedFields});case 11:case"end":return a.stop()}}),i,this)})))}},{key:"requestWithFilters",value:function(e,t){return o(this,void 0,void 0,a.mark((function n(){var r,i;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.adapter.filterSerializer(e),r=new c.default(Object.assign({},t),e,this.dataset),n.next=4,this.adapter.requestData(r.getQuery(),this.dataset);case 4:!(i=n.sent).data||"errors"in i?this.setEditor({errors:["WIDGET_DATA_UNAVAILABLE"]}):(this.setEditor({widgetData:i.data}),this.dispatch({type:s.sagaEvents.DATA_FLOW_WIDGET_DATA_READY}));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"resolveInitialState",value:function(){return o(this,void 0,void 0,a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatasetAndWidgets();case 2:return e.next=4,this.getFieldsAndLayers();case 4:return e.next=6,this.handleFilters();case 6:this.setEditor({initialized:!0});case 7:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=d},function(e,t,n){"use strict";var a=n(19),r=n(20),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(37)),l=i(n(239)),u=i(n(240)),c=i(n(241)),s=i(n(242)),d=i(n(243)),f=n(244),p=n(52),v={name:"pine",mainColor:"#907A59",category:["#907A59","#6AAC9F","#D5C0A1","#5C7D86","#F9AF38","#F05B3F","#89AD24","#CE4861","#F5808F","#86C48F","#F28627","#B23912","#BAD6AF","#C9C857","#665436"]},y=function(){function e(t,n,r,i){var l;a(this,e),this.scheme=i?i.schemes.find((function(e){return e.name===i.selectedScheme})):v,this.colorApplied=o.default(r.color),this.schema=p.defaultVegaSchema(),this.widgetConfig=t,this.widgetData=n,this.configuration=r,this.slizeCount=(null===(l=r)||void 0===l?void 0:l.slizeCount)||5,this.setConfig(),this.resolveChart()}return r(e,[{key:"groupSimilar",value:function(e){var t={};e.forEach((function(e){e.x in t?t[e.x]=Object.assign(Object.assign({},t[e.x]),{y:t[e.x].y+e.y}):t[e.x]=Object.assign({},e)}));var n=[];return Object.keys(t).forEach((function(e){n.push(t[e])})),n}},{key:"groupByTop",value:function(e){var t=this.groupSimilar(e).sort((function(e,t){return e.y>t.y?-1:t.y>e.y?1:0})),n=t.slice(0,this.slizeCount),a=t.slice(this.slizeCount,t.length+1),r=[],i={x:"Others",y:0};return a.forEach((function(e){i=Object.assign(Object.assign({},i),{y:i.y+e.y})})),n.forEach((function(e){r.push({x:e.x,y:e.y})})),[].concat(r,[i])}},{key:"groupByColor",value:function(e){var t={};e.forEach((function(e){e.color&&(e.color in t?t[e.color]=Object.assign(Object.assign({},t[e.color]),{y:t[e.color].y+e.y}):t[e.color]=e)}));var n=[];return Object.keys(t).forEach((function(e){n.push(t[e])})),n}},{key:"resolveDataFormat",value:function(){var e=this.configuration,t=e.chartType;e.direction;return"pie"===t||"donut"===t?this.groupByTop(this.widgetData):this.widgetData}},{key:"resolveChart",value:function(){var e,t=this.configuration,n=t.chartType,a=(t.direction,this.resolveDataFormat());if(-1===f.SUPPORTED_CHARTS.indexOf(n))throw new Error("Chart of type: ".concat(n," is not supported. we support: (").concat(f.SUPPORTED_CHARTS.join("|"),")"));"pie"!==n&&"donut"!==n||(e=new l.default(this.schema,this.widgetConfig,a,this.scheme).getChart()),"bar"===n&&(e=new c.default(this.schema,this.widgetConfig,a,this.scheme,this.colorApplied).getChart()),"bar_vertical"===n&&(e=new u.default(this.schema,this.widgetConfig,a,this.scheme,this.colorApplied).getChart()),"line"===n&&(e=new s.default(this.schema,this.widgetConfig,a,this.scheme).getChart()),"scatter"===n&&(e=new d.default(this.schema,this.widgetConfig,a).getChart()),this.schema=Object.assign(Object.assign({},this.schema),e)}},{key:"setConfig",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{config:Object.assign(Object.assign({},this.schema.config),this.widgetConfig.config)})}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=y},function(e,t,n){"use strict";var a=n(19),r=n(20);Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=function(){function e(t,n,r,i){a(this,e),this.schema=t,this.scheme=i,this.widgetConfig=n,this.widgetData=r,this.generateSchema(),this.setGenericSettings()}return r(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig()})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{width:400,height:400})}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string",format:".2f"}]}}]}},{key:"setScales",value:function(){return[{name:"c",type:"ordinal",domain:{data:"table",field:i.sqlFields.value},range:this.scheme?this.scheme.category:"category20"}]}},{key:"resolveInnerRadius",value:function(){var e,t,n,a,r=(null===(t=null===(e=this.widgetConfig)||void 0===e?void 0:e.paramsConfig)||void 0===t?void 0:t.chartType)||"pie",i=(null===(a=null===(n=this.widgetConfig)||void 0===n?void 0:n.paramsConfig)||void 0===a?void 0:a.donutRadius)||100;return"pie"===r?"0":i}},{key:"setMarks",value:function(){return[{type:"arc",from:{data:"table"},encode:{enter:{tooltip:{signal:"{'Label': datum.x, 'Value': datum.y }"},fill:{scale:"c",field:i.sqlFields.value},x:{signal:"width / 2"},y:{signal:"height / 2"}},update:{startAngle:{field:"startAngle"},endAngle:{field:"endAngle"},innerRadius:{signal:this.resolveInnerRadius()},outerRadius:{signal:"width > height ? height / 2 : width / 2"}},hover:{opacity:{value:.8}}}}]}},{key:"bindData",value:function(){return[{values:this.widgetData,name:"table",transform:[{type:"pie",field:i.sqlFields.category,startAngle:0,endAngle:6.29}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var a=n(19),r=n(20);Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=function(){function e(t,n,r,i,o){a(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=r,this.colorApplied=o,this.scheme=i,this.generateSchema(),this.setGenericSettings()}return r(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig(),config:Object.assign(Object.assign({},this.scheme.config),this.colorApplied?{}:{rect:{fill:this.scheme.mainColor}})})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:400,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"setScales",value:function(){var e=[{name:"x",type:"band",domain:{data:"table",field:"id"},range:"width",padding:.05},{name:"y",type:"linear",domain:{data:"table",field:i.sqlFields.category},nice:!0,zero:!0,range:"height"}];return this.colorApplied&&e.push({name:"color",type:"ordinal",domain:{data:"table",field:i.sqlFields.category},range:this.scheme.category}),e}},{key:"setMarks",value:function(){return[{type:"rect",from:{data:"table"},encode:{enter:Object.assign({tooltip:{signal:"{'Label': datum.x, 'Value': datum.y }"}},this.colorApplied?{fill:{scale:"color",field:i.sqlFields.category}}:{}),update:{opacity:{value:1},x:{scale:"x",field:"id"},width:{scale:"x",band:1},y:{scale:"y",field:"y"},y2:{scale:"y",value:0}},hover:{opacity:{value:.8}}}}]}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string",format:".2f"}]}}]}},{key:"resolveFormat",value:function(){var e,t;return(null===(t=null===(e=this.widgetConfig)||void 0===e?void 0:e.paramsConfig)||void 0===t?void 0:t.format)||"s"}},{key:"setAxes",value:function(){return[Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisX),{orient:"bottom",scale:"x",labelOverlap:"parity",ticks:!1,encode:{labels:{update:{text:{signal:"width < 300 || data('table')[0].count > 10 ? truncate(data('table')[datum.value - 1].x, 12) : data('table')[datum.value - 1].x"},align:{signal:"width < 300 || data('table')[0].count > 10 ? 'right' : 'center'"},baseline:{signal:"width < 300 || data('table')[0].count > 10 ? 'middle' : 'top'"},angle:{signal:"width < 300 || data('table')[0].count > 10 ? -90 : 0"}}}}}),Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisY),{orient:"left",scale:"y",labelOverlap:"parity",format:this.resolveFormat(),encode:{labels:{update:{align:{value:"right"},baseline:{value:"bottom"}}}}})]}},{key:"bindData",value:function(){var e=this.widgetData;this.scheme;return[{values:e,name:"table",transform:[{type:"identifier",as:"id"},{type:"joinaggregate",as:["count"]}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var a=n(19),r=n(20);Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=function(){function e(t,n,r,i,o){a(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=r,this.scheme=i,this.colorApplied=o,this.generateSchema(),this.setGenericSettings()}return r(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig(),config:Object.assign(Object.assign({},this.scheme.config),this.colorApplied?{}:{rect:{fill:this.scheme.mainColor}})})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:400,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"setScales",value:function(){var e=[{name:"x",type:"linear",domain:{data:"table",field:i.sqlFields.category},range:"width"},{name:"y",type:"band",domain:{data:"table",field:"x"},range:"height",padding:.05}];return this.colorApplied&&e.push({name:"color",type:"ordinal",domain:{data:"table",field:i.sqlFields.category},range:this.scheme.category}),e}},{key:"resolveFormat",value:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.widgetConfig)||void 0===e?void 0:e.paramsConfig)||void 0===t?void 0:t.value)||void 0===n?void 0:n.format)||"s"}},{key:"setAxes",value:function(){return[Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisX),{orient:"bottom",scale:"x",format:this.resolveFormat(),grid:!0,labelOverlap:"parity"}),Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisY),{orient:"left",scale:"y",labelOverlap:"parity",ticks:!1,grid:!1,encode:{labels:{update:{text:{signal:"truncate(datum.value, 12)"},align:{signal:"width < 300 || data('table')[0].count > 10 ? 'right' : 'center'"},baseline:{signal:"width < 300 || data('table')[0].count > 10 ? 'middle' : 'top'"}}}}})]}},{key:"setMarks",value:function(){return[{type:"rect",from:{data:"table"},encode:{enter:Object.assign(Object.assign({},this.colorApplied?{fill:{scale:"color",field:i.sqlFields.category}}:{}),{tooltip:{signal:"{'Label': datum.x, 'Value': datum.y }"}}),update:{opacity:{value:1},x:{scale:"x",value:0},x2:{scale:"x",field:i.sqlFields.category},y:{scale:"y",field:"x"},height:{scale:"y",band:1}},hover:{opacity:{value:.8}}}}]}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string",format:".2f"}]}}]}},{key:"bindData",value:function(){var e=this.widgetData;this.scheme;return[{values:e,name:"table",transform:[{type:"identifier",as:"id"},{type:"joinaggregate",as:["count"]}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var a=n(19),r=n(20);Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=function(){function e(t,n,r,i){a(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=r,this.scheme=i,this.generateSchema(),this.setGenericSettings()}return r(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData(),interaction_config:this.interactionConfig(),config:Object.assign(Object.assign({},this.schema.config),{line:Object.assign(Object.assign({},this.schema.config.line),{stroke:this.scheme?this.scheme.mainColor:this.schema.config.line.stroke}),symbol:Object.assign(Object.assign({},this.schema.config.symbol),{fill:this.scheme?this.scheme.mainColor:this.schema.config.symbol.fill})}),signals:[{name:"hover",value:null,on:[{events:"@cell:mouseover",update:"datum"},{events:"@cell:mouseout",update:"null"}]}]})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:400,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"interactionConfig",value:function(){return[{name:"tooltip",config:{fields:[{column:"y",property:"y",type:"number",format:".2s"},{column:"x",property:"x",type:"string"}]}}]}},{key:"setScales",value:function(){return[{name:"x",type:"point",range:"width",domain:{data:"table",field:"x"}},{name:"y",type:"linear",range:"height",nice:!0,zero:!0,domain:{data:"table",field:i.sqlFields.category}}]}},{key:"setMarks",value:function(){return[{name:"lines",interactive:!1,type:"line",from:{data:"table"},encode:{enter:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},strokeCap:{value:"round"},strokeWidth:{value:2},strokeJoin:{value:"round"}}}},{name:"points",interactive:!1,type:"symbol",from:{data:"dots"},encode:{enter:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"}},update:{opacity:{value:1}}}},{name:"cell",type:"path",from:{data:"lines"},transform:[{type:"voronoi",x:"datum.x",y:"datum.y",size:[{signal:"width"},{signal:"height"}]}],encode:{enter:{tooltip:{signal:"{'Value': datum.x }"}},update:{path:{field:"path"},fill:{value:"red"},opacity:{value:0}}}}]}},{key:"resolveFormat",value:function(){var e,t;return(null===(t=null===(e=this.widgetConfig)||void 0===e?void 0:e.paramsConfig)||void 0===t?void 0:t.format)||"s"}},{key:"setAxes",value:function(){return[Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisX),{orient:"bottom",scale:"x",labelOverlap:"parity",ticks:!1}),Object.assign(Object.assign(Object.assign({},this.schema.axis),this.schema.axisY),{orient:"left",scale:"y",labelOverlap:"parity",format:this.resolveFormat(),encode:{labels:{update:{align:{value:"right"},baseline:{value:"bottom"}}}}})]}},{key:"bindData",value:function(){return[{values:this.widgetData,name:"table",transform:[{type:"identifier",as:"id"},{type:"joinaggregate",as:["count"]}]},{name:"dots",source:"table",transform:[{type:"filter",expr:"hover && hover.datum.x === datum.x"}]}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";var a=n(19),r=n(20);Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=function(){function e(t,n,r){a(this,e),this.schema=t,this.widgetConfig=n,this.widgetData=r,this.generateSchema(),this.setGenericSettings()}return r(e,[{key:"generateSchema",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{axes:this.setAxes(),scales:this.setScales(),marks:this.setMarks(),data:this.bindData()})}},{key:"setGenericSettings",value:function(){this.schema=Object.assign(Object.assign({},this.schema),{height:300,autosize:{type:"fit",contains:"padding"},padding:20})}},{key:"setScales",value:function(){return[{name:"xscale",type:"linear",round:!0,nice:!0,zero:!1,domain:{data:"table",field:i.sqlFields.value},range:"width"},{name:"yscale",type:"linear",round:!0,nice:!0,zero:!0,domain:{data:"table",field:i.sqlFields.category},range:"height"}]}},{key:"setMarks",value:function(){return[{name:"marks",type:"symbol",from:{data:"table"},encode:{update:{x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"y"},strokeOpacity:{value:0},zindex:{value:0},opacity:{value:.5}},hover:{strokeOpacity:{value:1},zindex:{value:1},opacity:{value:1}}}}]}},{key:"setAxes",value:function(){return[{scale:"xscale",labelOverlap:"parity",orient:"bottom",encode:{labels:{update:{align:{value:"center"},baseline:{value:"top"}}}}},{scale:"yscale",labelOverlap:"parity",orient:"left",format:"s"}]}},{key:"bindData",value:function(){return[{values:this.widgetData,name:"table"}]}},{key:"getChart",value:function(){return this.schema}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_CHARTS=["pie","bar","bar_vertical","line","scatter","donut"],t.default={SUPPORTED_CHARTS:t.SUPPORTED_CHARTS}},function(e,t,n){"use strict";var a=n(4),r=n(19),i=n(20),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function l(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((a=a.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(115),c=l(n(89)),s=function(){function e(){r(this,e),this.chartCache={chartType:null,visualizationType:null},this.configuration={value:null,format:null,category:null,donutRadius:null,orderBy:null,groupBy:null,color:null,aggregateFunction:null,filters:null,areaIntersection:null,band:null,layer:null,limit:null}}return i(e,[{key:"cacheChart",value:function(e){var t=e.configuration,n=t.chartType,a=void 0===n?null:n,r=t.visualizationType,i=void 0===r?null:r;this.chartCache={chartType:a,visualizationType:i}}},{key:"chartHasUpdate",value:function(e){var t=e.editor,n=e.configuration,a=n.chartType,r=n.visualizationType,i=n.format,o=n.donutRadius,l=n.slizeCount,u=!c.default(this.chartCache,{chartType:a,visualizationType:r,donutRadius:o,slizeCount:l,format:i});return!(this.chartCache.donutRadius===o||!t.initialized)||(!(this.chartCache.slizeCount===l||!t.initialized)||(this.chartCache={chartType:a,format:i,donutRadius:o,slizeCount:l},u&&t.initialized))}},{key:"configurationHasUpdate",value:function(e){var t=e.editor,n=e.configuration,a={value:n.value,category:n.category,orderBy:n.orderBy,groupBy:n.groupBy,format:n.format,color:n.color,aggregateFunction:n.aggregateFunction,filters:n.filters,areaIntersection:n.areaIntersection,band:n.band,layer:n.layer,limit:n.limit},r=!c.default(this.configuration,a);return this.configuration=a,r&&t.initialized}},{key:"sync",value:function(e){return o(this,void 0,void 0,a.mark((function t(){var n;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],this.chartHasUpdate(e)&&n.push(u.sagaEvents.DATA_FLOW_UPDATE_WIDGET),this.configurationHasUpdate(e)&&n.push(u.sagaEvents.DATA_FLOW_CONFIGURATION_UPDATE),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})))}}]),e}();t.default=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(19),r=n(20),i=n(113),o=n(79),l=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=h(n(1)),c=h(n(89)),s=h(n(163)),d=h(n(143)),f=h(n(376)),p=h(n(489)),v=n(41),y=n(494);function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){o(n,e);var t=l(n);function n(e){var r;a(this,n),r=t.call(this,e),g(i(r),"resolveAuthentication",(0,s.default)((function(e){(0,r.props.setEditor)({authenticated:e})}),1e3)),g(i(r),"initializeRestoration",(0,s.default)((function(e,t){r.dataService.restoreEditor(e,t)}),1e3)),g(i(r),"resolveTheme",(0,s.default)((function(e){(0,r.props.setTheme)(e)}),1e3)),g(i(r),"resolveSchemes",(0,s.default)((function(e){(0,r.props.setScheme)(e)}),1e3));var o=r.props,l=o.datasetId,u=o.widgetId,c=o.adapter,d=o.setEditor,f=o.dispatch,p=o.theme,y=o.schemes;return r.onSave=r.onSave.bind(i(r)),r.dataService=new v.DataService(l,u,c,d,f),r.dataService.resolveInitialState(),r.resolveTheme(p),r.resolveSchemes(y),e.dispatch({type:v.constants.sagaEvents.DATA_FLOW_STORE_ADAPTER_CONFIG,payload:c}),r}return r(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.authenticated;e.disabled;t&&this.resolveAuthentication(t),this.resolveEditorFunctionality()}},{key:"componentWillUnmount",value:function(){(0,this.props.setEditor)({initialized:!1})}},{key:"componentDidUpdate",value:function(e){var t=e.datasetId,n=e.widgetId,a=e.theme,r=e.schemes,i=e.authenticated,o=this.props,l=o.datasetId,u=o.widgetId,s=o.theme,d=o.schemes,f=o.authenticated;(0,c.default)(l,t)&&(0,c.default)(u,n)||this.initializeRestoration(l,u),(0,c.default)(s,a)||this.resolveTheme(s),(0,c.default)(d,r)||this.resolveSchemes(d),(0,c.default)(f,i)||this.resolveAuthentication(f)}},{key:"resolveEditorFunctionality",value:function(){var e=this.props,t=e.setEditor,n=e.disable;n&&Array.isArray(n)&&t({disabledFeatures:n})}},{key:"onSave",value:function(){var e=this.props,t=e.onSave,n=e.dispatch,a=e.editorState,r=e.adapter,i=e.application;"function"===typeof t&&r.handleSave(t,this.dataService,i,a),n({type:v.constants.sagaEvents.EDITOR_SAVE})}},{key:"render",value:function(){var e=this.props,t=e.adapter,n=e.theme.compact;return u.default.createElement(y.StyledContainer,n,u.default.createElement(d.default,{standalone:!1}),u.default.createElement(f.default,{adapter:t,dataService:this.dataService}),u.default.createElement(p.default,{onSave:this.onSave}))}}]),n}(u.default.Component);t.default=m},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(24),i=(a=n(318))&&a.__esModule?a:{default:a};var o=r.redux.connectState((function(e){return{editor:e.editor,widget:e.widget,configuration:e.configuration}}))(i.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=(a=n(308))&&a.__esModule?a:{default:a};var o=(0,r.connectState)((function(e){return{theme:e.theme}}))(i.default);t.default=o},function(e,t,n){"use strict";var a=n(165);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(11));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c=o.default.button.withConfig({displayName:"component__StyledButton",componentId:"sc-1hkaugy-0"})(["cursor:pointer;font-size:16px;color:#393f44;border:1px solid rgba(202,204,208,0.85);background:transparent;padding:10px 20px;border-radius:5px;outline:1;"," "," "," "," ",""],(function(e){return e.size&&"small"===e.size&&(0,o.css)(["padding:7px 15px;"])}),(function(e){return e.type&&"cta"===e.type&&(0,o.css)(["background:",";color:#fff;border:1px solid transparent;"],e.color)}),(function(e){return e.type&&"highlight"===e.type&&(0,o.css)(["color:",";border:1px solid ",";"],e.color,e.color)}),(function(e){return e.type&&"default"===e.type&&(0,o.css)(["&:hover,&.active{","}"],(function(e){return e.color&&(0,o.css)(["border:1px solid ",";color:",";"],e.color,e.color)}))}),(function(e){return e.active&&(0,o.css)(["border:1px solid ",";color:",";"],e.color,e.color)})),s=function(e){var t=e.type,n=void 0===t?"default":t,r=e.theme,o=e.children,l=a(e,["type","theme","children"]);return i.default.createElement(c,u({},l,{color:r.color,type:n}),o)};t.default=s},,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(311))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";var a=n(165);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=c(n(33)),o=c(n(312)),l=n(121),u=n(315);function c(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f=function(e){var t=e.isCustom,n=void 0!==t&&t,c=(e.isPopup,e.relative),s=void 0!==c&&c,f=(e.configuration,e.align),p=void 0===f?l.ALIGN_HORIZONTAL:f,v=e.onChange,y=void 0===v?function(){}:v,h=a(e,["isCustom","isPopup","relative","configuration","align","onChange"]);return r.default.createElement(r.Fragment,null,r.default.createElement(u.StyledSelectBox,{align:p,relative:s},r.default.createElement(i.default,d({align:p,onChange:function(e){y(e)},styles:n?u.CustomStyles:u.InputStyles,components:n?{Menu:o.default}:null},h))))};t.default=f},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(313))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),r=n(24),i=n(121),o=n(314);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c=function(e){var t=e.options,n=e.getValue,l=e.setValue,c=e.innerRef,s=e.innerProps,d=e.selectProps,f=n()[0],p=d.align,v=void 0===p?i.ALIGN_HORIZONTAL:p;return a.default.createElement(o.StyledPopupContainer,u({align:v,ref:c},s),a.default.createElement(o.StyledPopupInsideContainer,{align:v},t.map((function(e){return a.default.createElement(a.Fragment,{key:e.identifier+e.name},a.default.createElement(o.StyledCategoryAlias,{nonSelectedCategory:"___single_color"===e.identifier,active:f&&e.identifier===f.identifier,onClick:function(){return l(e)}},a.default.createElement(o.IconBox,null,a.default.createElement(r.CategoryIcon,null)),"___single_color"===e.identifier?"Single color":e.identifier),"___single_color"!==e.identifier&&a.default.createElement(o.StyledCategoryInfoContainer,null,a.default.createElement(o.StyledValueAlias,null,a.default.createElement(o.IconBox,null,"#"),e.alias||e.name||e.identifier),e.description&&a.default.createElement(o.StyledDescription,null,e.description)))}))))};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconBox=t.StyledCategoryInfoContainer=t.StyledDescription=t.StyledValueAlias=t.StyledCategoryDescription=t.StyledCategoryAlias=t.StyledPopupInsideContainer=t.StyledPopupContainer=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(11)),r=n(121);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=a.default.div.withConfig({displayName:"style__StyledPopupContainer",componentId:"hz8v7c-0"})(["*{box-sizing:border-box;}position:absolute;box-sizing:border-box;height:auto;min-width:200px;max-width:400px;z-index:2;bottom:40px;left:50%;margin-left:-100px;",""],(function(e){return e.align===r.ALIGN_VERTICAL&&(0,a.css)(["padding-left:20px;left:75px;bottom:initial;top:-30px;margin-left:initial;"])}));t.StyledPopupContainer=o;var l=a.default.div.withConfig({displayName:"style__StyledPopupInsideContainer",componentId:"hz8v7c-1"})(["padding:20px;max-height:200px;overflow-y:auto;border:1px solid rgba(26,28,34,0.1);border-radius:4px;background-color:#ffffff;box-shadow:0 20px 30px 0 rgba(0,0,0,0.1);cursor:initial;",'::-webkit-scrollbar{width:7px;}::-webkit-scrollbar-track{box-shadow:inset 0 0 2px grey;border-radius:10px;background:rgba(0,0,0,0.05);}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.3);border-radius:10px;}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.4);}&:after{content:"";position:absolute;left:calc(50% - 5px);bottom:-20px;border:12px solid transparent;border-top:12px solid #ffffff;z-index:3;',"}"],(function(e){return e.align===r.ALIGN_VERTICAL&&(0,a.css)(["box-shadow:-10px -10px 30px 0 rgba(0,0,0,0.15);"])}),(function(e){return e.align===r.ALIGN_VERTICAL&&(0,a.css)(["transform:rotate(90deg);left:0;top:5px;bottom:initial;"])}));t.StyledPopupInsideContainer=l;var u=a.default.h4.withConfig({displayName:"style__StyledCategoryAlias",componentId:"hz8v7c-2"})(["position:relative;padding-left:20px;margin-top:0;color:",";"," font-size:16px;line-height:25px;cursor:pointer;&:hover{color:#c32d7b;}"],(function(e){return e.active?"#2C75B0":"#393F44"}),(function(e){return e.nonSelectedCategory&&(0,a.css)(["margin-bottom:5px;"])}));t.StyledCategoryAlias=u;var c=a.default.div.withConfig({displayName:"style__StyledCategoryDescription",componentId:"hz8v7c-3"})(["position:relative;padding-left:20px;margin-top:10px;margin-bottom:10px;color:#393f44;font-size:16px;line-height:25px;"]);t.StyledCategoryDescription=c;var s=a.default.div.withConfig({displayName:"style__StyledValueAlias",componentId:"hz8v7c-4"})(["position:relative;padding-left:20px;margin-top:10px;margin-bottom:10px;color:#393f44;font-size:16px;line-height:25px;min-height:25px;white-space:nowrap;max-width:200px;overflow:hidden;text-overflow:ellipsis;"]);t.StyledValueAlias=s;var d=a.default.p.withConfig({displayName:"style__StyledDescription",componentId:"hz8v7c-5"})(["min-width:240px;font-size:16px;color:#717171;font-style:italic;padding-left:20px;"]);t.StyledDescription=d;var f=a.default.div.withConfig({displayName:"style__StyledCategoryInfoContainer",componentId:"hz8v7c-6"})(["display:flex;flex-flow:row;justify-content:space-between;align-items:center;"]);t.StyledCategoryInfoContainer=f;var p=a.default.div.withConfig({displayName:"style__IconBox",componentId:"hz8v7c-7"})(["color:#393f44;position:absolute;left:0;top:1px;"]);t.IconBox=p},function(e,t,n){"use strict";var a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomStyles=t.InputStyles=t.StyledOverflow=t.StyledSelectBox=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(11));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=r.default.div.withConfig({displayName:"style__StyledSelectBox",componentId:"sc-1o683mn-0"})(["width:100%;max-width:300px;margin:0 auto;"," ",""],(function(e){return!e.relative&&(0,r.css)(["position:absolute;bottom:-30px;left:calc(50% - 150px);"])}),(function(e){return"vertical"===e.align&&(0,r.css)(["bottom:0;left:0;max-width:60px;height:100%;display:flex;align-items:center;justify-content:center;"])}));t.StyledSelectBox=o;var l=r.default.div.withConfig({displayName:"style__StyledOverflow",componentId:"sc-1o683mn-1"})(["position:absolute;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.1);z-index:10;"]);t.StyledOverflow=l;t.InputStyles={control:function(){return{display:"flex",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",padding:"3px 0"}}};var u={container:function(){return{position:"relative",boxSizing:"border-box",cursor:"pointer"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){var n=t.selectProps,a=n.menuIsOpen,r=n.align;return{color:"#c32d7b",transform:a&&"horizontal"===r?"rotate(180deg)":"none",transition:"all 0.2s ease-out"}},indicatorsContainer:function(){return{color:"#c32d7b",display:"flex",padding:"8px",transition:"color 150ms",boxSizing:"border-box",position:"relative",top:"5px"}},control:function(e,t){var n=t.selectProps.align;return a({margin:"0 auto",display:"flex",border:"none",minWidth:"90px",borderRadius:"4px",maxWidth:"210px",padding:"3px 0"},"vertical"===n?{transform:"rotate(-90deg)"}:null)},menu:function(e,t){var n=t.selectProps.align;return a({},e,{},"vertical"===n?{position:"absolute",left:"100px",top:"-50px",bottom:"auto",width:"300px"}:null)}};t.CustomStyles=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1))&&a.__esModule?a:{default:a};var i=function(){return r.default.createElement("svg",{width:"10px",height:"10px",viewBox:"0 0 10 10",version:"1.1"},r.default.createElement("g",{id:"Iteration",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"xAxis-Selector",transform:"translate(-183.000000, -311.000000)",fill:"#2C75B0"},r.default.createElement("g",{id:"Rectangle-409-+-364-+-MWh-Copy",transform:"translate(163.000000, 289.000000)"},r.default.createElement("g",{id:"Group-20",transform:"translate(19.000000, 10.000000)"},r.default.createElement("path",{d:"M4.5,12 L11,18.5 L7.5,22 L1,15.5 L1,12 L4.5,12 Z M3.5,13.5 C2.94771525,13.5 2.5,13.9477153 2.5,14.5 C2.5,15.0522847 2.94771525,15.5 3.5,15.5 C4.05228475,15.5 4.5,15.0522847 4.5,14.5 C4.5,13.9477153 4.05228475,13.5 3.5,13.5 Z",id:"item-category"}))))))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var o=r(n(11)).default.svg.withConfig({displayName:"CloseIcon__Icon",componentId:"sc-19ec855-0"})(["&:hover{path{fill:",";}}"],(function(e){return(e.hoverColor?e.hoverColor:"#C32D7B")||"auto"})),l=function(e){return a.default.createElement(o,i({},e,{viewBox:"0 0 32 32"}),a.default.createElement("path",{d:"M16 11.636l-11.636-11.636-4.364 4.364 11.636 11.636-11.636 11.636 4.364 4.364 11.636-11.636 11.636 11.636 4.364-4.364-11.636-11.636 11.636-11.636-4.364-4.364z"}))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(1)),r=n(319);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var l=a.default.lazy((function(){return Promise.resolve().then((function(){return o(n(167))}))})),u=a.default.lazy((function(){return Promise.resolve().then((function(){return o(n(333))}))})),c=a.default.lazy((function(){return Promise.resolve().then((function(){return o(n(365))}))})),s=a.default.lazy((function(){return Promise.resolve().then((function(){return o(n(369))}))})),d=a.default.lazy((function(){return Promise.resolve().then((function(){return o(n(179))}))})),f=function(e){var t=e.widget,n=e.editor,i=e.widgetConfig,o=void 0===i?null:i,f=e.standalone,p=void 0===f||f,v=e.theme,y=void 0===v?null:v,h=e.configuration,g=n.restoring,m=n.initialized,b=m&&!g&&0===Object.keys(t).length,_="map"===h.visualizationType;return g?a.default.createElement(r.StyledContainer,null,a.default.createElement(r.RestoringWidget,null,a.default.createElement(r.RestoringWidgetTitle,null,"Loading widget..."))):p?a.default.createElement(a.Suspense,{fallback:a.default.createElement(r.RestoringWidget,null,a.default.createElement(r.RestoringWidgetTitle,null,"Loading widget..."))},a.default.createElement(s,{widgetConfig:o,theme:y})):a.default.createElement(r.StyledContainer,null,!o&&m&&a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(u,null)),!m||g||b&&a.default.createElement(r.RestoringWidget,null,a.default.createElement(r.RestoringWidgetTitle,null,"Loading widget...")),m&&!g&&!b&&!_&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(r.RestoringWidget,null,a.default.createElement(r.RestoringWidgetTitle,null,"Loading widget..."))},a.default.createElement(l,{widgetConfig:o})),m&&!g&&_&&a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},n.widget&&n.layers&&a.default.createElement(d,{setMapParams:function(e){var t=e.zoom,n=e.latLng,a=e.bounds;console.log("map params update",t,n,a)},layerId:h.layer,interactionEnabled:!p,widget:n.widget,layers:n.layers})),!m&&!b&&a.default.createElement(r.RestoringWidget,null,a.default.createElement(r.RestoringWidgetTitle,null,"Loading widget...")),g&&!b&&a.default.createElement(r.RestoringWidget,null,a.default.createElement(r.RestoringWidgetTitle,null,"Building widget...")),!o&&a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(c,null)))};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestoringWidgetTitle=t.RestoringWidget=t.StyledContainer=void 0;var a,r=(a=n(11))&&a.__esModule?a:{default:a},i=n(96);var o=r.default.div.withConfig({displayName:"style__StyledContainer",componentId:"bllszm-0"})(["position:relative;display:flex;flex-flow:column;height:calc(100% - ",");background:#fff;flex:1;width:100%;",""],i.FOOTER_HEIGHT,(0,i.DEFAULT_BORDER)());t.StyledContainer=o;var l=r.default.div.withConfig({displayName:"style__RestoringWidget",componentId:"bllszm-1"})(["height:300px;display:flex;align-items:center;justify-content:center;"]);t.RestoringWidget=l;var u=r.default.h4.withConfig({displayName:"style__RestoringWidgetTitle",componentId:"bllszm-2"})(["color:#a9a9a9;font-size:21px;"]);t.RestoringWidgetTitle=u},function(e,t,n){"use strict";var a=n(19),r=n(20),i=n(79),o=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=v(n(1)),u=v(n(518)),c=f(n(523)),s=f(n(11)),d=f(n(89));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var y=l.default.lazy((function(){return Promise.resolve().then((function(){return v(n(325))}))})),h=s.default.div.withConfig({displayName:"component__StyledContainer",componentId:"sc-1bunifl-0"})(["display:flex;position:relative;width:100%;.c-chart{flex:1;text-align:center;overflow:hidden;margin:20px;max-height:400px;align-self:center;}"]),g=function(e,t){var n=function(e){if(!e||!e.interaction_config||!e.interaction_config.length)return[];var t=e.interaction_config.find((function(e){return"tooltip"===e.name}));return t&&t.config&&t.config.fields&&t.config.fields.length?t.config.fields:[]}(t);(0,c.default)(e,{showAllFields:!1,fields:n.map((function(e){var t=e.column,n=e.property,a=e.type;return{field:t,title:n,formatType:"date"===a?"time":a,format:e.format}}))})},m=function(e){i(n,e);var t=o(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).vega=null,r.standalone=e.standalone||!1,r}return r(n,[{key:"componentDidMount",value:function(){this.generateVegaChart()}},{key:"componentDidUpdate",value:function(e){(0,d.default)(e.widget,this.props.widget)||this.generateVegaChart()}},{key:"componentWillUnmount",value:function(){this.vega&&window.removeEventListener("resize",this.vega.resize)}},{key:"generateRuntime",value:function(e){var t=this,n=this.chart,a=u.parse(e,e.config),r=n.offsetWidth;this.vega=new u.View(a).initialize(n).renderer("canvas").width(r-40).hover().run(),e.interaction_config&&e.interaction_config.length&&g(this.vega,e),this.vega.resize=function(){if(n&&n.current){var a=n.current.offsetWidth;t.vega.width(a-40).run(),g(t.vega,e)}},window.addEventListener("resize",this.vega.resize)}},{key:"generateVegaChart",value:function(){var e=this.props,t=e.widget,n=e.standaloneConfiguration;this.standalone&&n?this.generateRuntime(n):this.generateRuntime(t)}},{key:"render",value:function(){var e=this;return l.default.createElement(h,null,l.default.createElement("div",{className:"c-chart",ref:function(t){e.chart=t}}),!this.standalone&&l.default.createElement(l.Suspense,{fallback:l.default.createElement("div",null,"Loading...")},l.default.createElement(y,null)))}}]),n}(l.default.Component);t.default=m},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(24),i=n(31),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(97)),l=(a=n(329))&&a.__esModule?a:{default:a};function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=r.redux.connectState((function(e){return{theme:e.theme,configuration:e.configuration,columns:o.getWidgetColumns(e)}}),{patchConfiguration:i.patchConfiguration})(l.default);t.default=c},,,,function(e,t,n){"use strict";var a=n(17),r=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=n(24);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=function(e){var t,n,l=e.columns,u=e.configuration,c=e.patchConfiguration,s=u.chartType,d=u.xAxisTitle,f=u.yAxisTitle,p=(null===u||void 0===u||null===(t=u.category)||void 0===t?void 0:t.name)||null,v=(null===u||void 0===u||null===(n=u.value)||void 0===n?void 0:n.name)||null,y=l.find((function(e){return e.identifier===v})),h=l.find((function(e){return e.identifier===p})),g=(0,i.useState)({chartValue:y,chartCategory:h}),m=r(g,2),b=m[0],_=m[1];(0,i.useEffect)((function(){var e,t,n=(null===u||void 0===u||null===(e=u.value)||void 0===e?void 0:e.name)||null,a=(null===u||void 0===u||null===(t=u.category)||void 0===t?void 0:t.name)||null,r=l.find((function(e){return e.identifier===n})),i=l.find((function(e){return e.identifier===a}));_({chartValue:r,chartCategory:i})}),[u]);var x=function(e){c({value:a({},u.value,{},e)})};return i.default.createElement(i.Fragment,null,"pie"===s&&i.default.createElement(o.Select,{align:"horizontal",menuPlacement:"top",value:b.chartValue,onChange:x,getOptionLabel:function(e){return f||e.alias},getOptionValue:function(e){return e.identifier},options:l,configuration:u,isCustom:!0,isPopup:!0}),"pie"!==s&&i.default.createElement(o.Select,{align:"vertical",menuPlacement:"top",value:b.chartValue,onChange:function(e){c({category:a({},u.category,{},e)})},getOptionLabel:function(e){return f||e.alias},getOptionValue:function(e){return e.identifier},options:l,configuration:u,isCustom:!0,isPopup:!0}),"pie"!==s&&i.default.createElement(o.Select,{align:"horizontal",menuPlacement:"top",value:b.chartCategory,onChange:x,getOptionLabel:function(e){return d||e.alias},getOptionValue:function(e){return e.identifier},options:l,configuration:u,isCustom:!0,isPopup:!0}))};t.default=u},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(24),i=n(31),o=n(60),l=(a=n(334))&&a.__esModule?a:{default:a};var u=r.redux.connectState((function(e){return{options:e.configuration.availableCharts,chartType:e.configuration.chartType,theme:e.theme}}),{patchConfiguration:i.patchConfiguration,setTheme:o.setTheme})(l.default);t.default=u},function(e,t,n){"use strict";var a=n(17),r=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=d(n(123)),l=n(24),u=d(n(33)),c=d(n(357)),s=n(364);function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}var p=function(e){var t=e.patchConfiguration,n=e.options,d=e.chartType,f=e.theme,p=e.setTheme,v=(0,i.useState)((0,o.default)(n,{chartType:d})),y=r(v,2),h=y[0],g=y[1];(0,i.useEffect)((function(){h&&h.chartType!==d&&g((0,o.default)(n,{chartType:d}))}),[d,h,n]);var m=f.compact,b=m.isCompact,_=m.isOpen,x=(0,i.useState)(!1),O=r(x,2),w=O[0],E=O[1];return i.default.createElement(s.StyledContainer,{isCompact:b},i.default.createElement(s.StyledSelectBox,{isCompact:b},i.default.createElement(u.default,{onChange:function(e){var n=e.chartType;t({chartType:n,visualizationType:"map"===n?"map":"chart"}),g(e),E(!1)},onMenuOpen:function(){return E(!0)},onMenuClose:function(){return E(!1)},value:h,options:n,styles:s.InputStyles,components:{Menu:c.default},menuIsOpen:w})),b&&i.default.createElement(l.Button,{type:"highlight",onClick:function(){p(a({},f,{compact:{isCompact:b,isOpen:!_}}))}},"Settings"))};t.default=p},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(358))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=n(178),o=n(359),l=(a=n(360))&&a.__esModule?a:{default:a};function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){var t=e.list,n=e.setData,a=e.title;return r.default.createElement(r.Fragment,null,t.length>0&&r.default.createElement("div",null,r.default.createElement(o.StyledTitle,null,a),r.default.createElement(o.StyledIcons,null,t.map((function(e,t){return r.default.createElement(l.default,c({key:t,setData:n},e))})))))},d=function(e){var t=e.options,n=e.getValue,a=e.setValue,l=e.innerRef,u=e.innerProps,d=n()[0],f=i.MENU_DATA.map((function(e){return e.active=e.type===d.chartType,e.disabled=!t.find((function(t){return t.chartType===e.type})),e})),p=f.filter((function(e){return e.type===i.TYPE_COLUMN})),v=f.filter((function(e){return e.type===i.TYPE_BAR||e.type===i.TYPE_BAR_VERTICAL})),y=f.filter((function(e){return e.type!==i.TYPE_BAR&&e.type!==i.TYPE_BAR_VERTICAL&&e.type!==i.TYPE_COLUMN})),h=function(e){var n=t.find((function(t){return t.chartType===e.type}));n&&a(n)};return r.default.createElement(o.StyledContainer,c({ref:l},u),r.default.createElement(o.StyledMenu,null,r.default.createElement(s,{title:"Columns",setData:h,list:p}),r.default.createElement(s,{title:"Bars",setData:h,list:v}),r.default.createElement(s,{title:"More",setData:h,list:y})))};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIcons=t.StyledTitle=t.StyledMenu=t.StyledContainer=void 0;var a,r=(a=n(11))&&a.__esModule?a:{default:a};var i=r.default.div.withConfig({displayName:"style__StyledContainer",componentId:"sc-14w792-0"})(["padding-top:10px;position:absolute;top:30px;right:-102px;width:262px;z-index:11;@media only screen and (max-width:767px){right:0;}"]);t.StyledContainer=i;var o=r.default.div.withConfig({displayName:"style__StyledMenu",componentId:"sc-14w792-1"})(["box-sizing:border-box;height:auto;max-height:459px;width:100%;border:1px solid #D7D7D7;border-radius:4px;background-color:#FFFFFF;box-shadow:0 20px 30px 0 rgba(0,0,0,0.1);z-index:2;padding:29px 34px;&:before{content:' ';position:absolute;left:131px;top:-8px;border:10px solid transparent;border-top:10px solid #FFFFFF;z-index:3;transform:rotate(180deg);@media only screen and (max-width:767px){right:10px;left:auto;}}"]);t.StyledMenu=o;var l=r.default.h4.withConfig({displayName:"style__StyledTitle",componentId:"sc-14w792-2"})(["color:#555555;font-size:10px;font-weight:500;line-height:14px;margin-bottom:0;text-transform:uppercase;"]);t.StyledTitle=l;var u=r.default.div.withConfig({displayName:"style__StyledIcons",componentId:"sc-14w792-3"})(["display:flex;align-items:stretch;justify-content:flex-start;flex-wrap:wrap;margin-left:-8px;margin-right:-8px;"]);t.StyledIcons=u},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(361))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1))&&a.__esModule?a:{default:a},i=n(178),o=n(362),l=n(363);var u=function(e){var t=e.type,n=void 0===t?i.TYPE_COLUMN:t,a=e.active,u=void 0!==a&&a,c=e.disabled,s=void 0!==c&&c,d=e.setData,f=void 0===d?function(e){}:d;return r.default.createElement(o.StyledBox,null,r.default.createElement(o.StyledIcon,{active:u,disabled:s,onClick:function(){return f({type:n})}},n===i.TYPE_LINE&&r.default.createElement(l.Line,null),n===i.TYPE_SCATTERPLOT&&r.default.createElement(l.Scatterplot,null),n===i.TYPE_DONUT&&r.default.createElement(l.Donut,null),n===i.TYPE_PIE&&r.default.createElement(l.Pie,null),n===i.TYPE_MAP&&r.default.createElement("p",null,"Map"),n===i.TYPE_BAR&&r.default.createElement(l.BarHorizontal,null),n===i.TYPE_BAR_VERTICAL&&r.default.createElement(l.BarVertical,null),n===i.TYPE_COLUMN&&r.default.createElement(l.ColumnHorizontal,null)))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIcon=t.StyledBox=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(11));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var i=a.default.div.withConfig({displayName:"style__StyledBox",componentId:"sc-1y4fxp5-0"})(["box-sizing:border-box;padding:7px 8px;width:50%;"]);t.StyledBox=i;var o=a.default.div.withConfig({displayName:"style__StyledIcon",componentId:"sc-1y4fxp5-1"})(["box-sizing:border-box;height:51px;width:100%;border:",";border-radius:4px;background-color:#F7F7F7;display:flex;align-items:center;justify-content:center;text-align:center;opacity:",";pointer-events:",";&:hover{border:2px solid #C32D7B;}"],(function(e){return e.active?"2px solid #C32D7B":"1px solid #E6E6E6"}),(function(e){return e.disabled?"0.2":"1"}),(function(e){return e.disabled?"none":"auto"}));t.StyledIcon=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarHorizontal=t.BarVertical=t.ColumnHorizontal=t.ColumnVertical=t.Pie=t.Donut=t.Scatterplot=t.Line=void 0;var a,r=(a=n(1))&&a.__esModule?a:{default:a};t.Line=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("g",{id:"chart-sparkline",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-13",transform:"translate(6.000000, 2.000000)",strokeWidth:"2"},r.default.createElement("polyline",{id:"Path",stroke:"#3BB2D0",points:"0 32 19.7727273 13.8 38.2272727 22.2 58 11"}),r.default.createElement("polyline",{id:"Path",stroke:"#2C75B0",points:"0 20.8695652 19.7727273 32 38.2272727 11.1304348 58 0"}))))};t.Scatterplot=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("g",{id:"chart-scatterplot",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-15",transform:"translate(11.000000, 6.000000)"},r.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"3.5",cy:"20.5",r:"3.5"}),r.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(45.500000, 3.500000) rotate(-180.000000) translate(-45.500000, -3.500000) ",cx:"45.5",cy:"3.5",r:"3.5"}),r.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(23.500000, 18.500000) rotate(-180.000000) translate(-23.500000, -18.500000) ",cx:"23.5",cy:"18.5",r:"3.5"}),r.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(38.000000, 9.000000) rotate(-180.000000) translate(-38.000000, -9.000000) ",cx:"38",cy:"9",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(34.000000, 18.000000) rotate(-180.000000) translate(-34.000000, -18.000000) ",cx:"34",cy:"18",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(14.000000, 18.000000) rotate(-180.000000) translate(-14.000000, -18.000000) ",cx:"14",cy:"18",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(27.000000, 11.000000) rotate(-180.000000) translate(-27.000000, -11.000000) ",cx:"27",cy:"11",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#3BB2D0",transform:"translate(40.000000, 15.000000) rotate(-180.000000) translate(-40.000000, -15.000000) ",cx:"40",cy:"15",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"21.5",cy:"7.5",r:"3.5"}),r.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"9",cy:"14",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"14",cy:"10",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"30",cy:"2",r:"2"}),r.default.createElement("circle",{id:"Oval",fill:"#2C75B0",cx:"7",cy:"9",r:"2"}))))};t.Donut=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("defs",null,r.default.createElement("path",{d:"M17.000408,0.00699401962 L17.0007338,8.01289404 C11.9861065,8.27253382 8,12.4207644 8,17.5 C8,22.7467051 12.2532949,27 17.5,27 C19.5656596,27 21.4773362,26.3407203 23.0360914,25.2210993 L28.6406118,30.9964293 C25.6142758,33.4973564 21.7326185,35 17.5,35 C7.83501688,35 0,27.1649831 0,17.5 C0,8.00210483 7.56645547,0.271450021 17.000408,0.00699401962 Z",id:"path-1"}),r.default.createElement("path",{d:"M18.0006388,0.00702339299 C27.4341042,0.27202186 35,8.00245611 35,17.5 C35,22.3324916 33.0412458,26.7074916 29.8743687,29.8743687 L24.2175144,24.2175144 C25.9366763,22.4983526 27,20.1233526 27,17.5 C27,12.4213412 23.0147988,8.27347605 18.0009747,8.01298265 Z",id:"path-3"})),r.default.createElement("g",{id:"chart-ring",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Rectangle",transform:"translate(18.000000, 0.000000)"},r.default.createElement("mask",{id:"mask-2",fill:"white"},r.default.createElement("use",{xlinkHref:"#path-1"})),r.default.createElement("use",{id:"Combined-Shape",fill:"#3BB2D0",xlinkHref:"#path-1"}),r.default.createElement("mask",{id:"mask-4",fill:"white"},r.default.createElement("use",{xlinkHref:"#path-3"})),r.default.createElement("use",{id:"Combined-Shape",fill:"#2C75B0",xlinkHref:"#path-3"}))))};t.Pie=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("defs",null,r.default.createElement("circle",{id:"path-1",cx:"17.5",cy:"17.5",r:"17.5"})),r.default.createElement("g",{id:"chart-pie",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Rectangle",transform:"translate(18.000000, 0.000000)"},r.default.createElement("mask",{id:"mask-2",fill:"white"},r.default.createElement("use",{xlinkHref:"#path-1"})),r.default.createElement("use",{id:"Mask",fill:"#3BB2D0",xlinkHref:"#path-1"}),r.default.createElement("path",{d:"M37.5,-1.5 L17.5,-1.5 L17.5,18.2071068 L37.5,38.2071068 L37.5,-1.5 Z",stroke:"#F7F7F7",fill:"#2C75B0",mask:"url(#mask-2)"}))))};t.ColumnVertical=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-14",transform:"translate(8.000000, 5.000000)"},r.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"0",width:"38",height:"4"}),r.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"15",width:"55",height:"4"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"0",y:"5",width:"18",height:"4"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"0",y:"20",width:"44",height:"4"}))))};t.ColumnHorizontal=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("g",{id:"chart-columns-a",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-13",transform:"translate(8.000000, 3.000000)"},r.default.createElement("g",{id:"Group-14"},r.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"15",width:"4",height:"13"}),r.default.createElement("rect",{fill:"#2C75B0",x:"45",y:"15",width:"4",height:"13"}),r.default.createElement("rect",{fill:"#2C75B0",x:"15",y:"5",width:"4",height:"23"}),r.default.createElement("rect",{fill:"#2C75B0",x:"30",y:"18",width:"4",height:"10"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"5",y:"10",width:"4",height:"18"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"50",y:"10",width:"4",height:"18"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"20",y:"0",width:"4",height:"28"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"35",y:"20",width:"4",height:"8"})))))};t.BarVertical=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("g",{id:"chart-bars-b",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-14",transform:"translate(8.000000, 6.000000)"},r.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"0",width:"27",height:"8"}),r.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"15",width:"18",height:"8"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"28",y:"0",width:"6",height:"8"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"19",y:"15",width:"35",height:"8"}))))};t.BarHorizontal=function(){return r.default.createElement("svg",{width:"70px",height:"35px",viewBox:"0 0 70 35",version:"1.1"},r.default.createElement("g",{id:"chart-columns-b",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-14",transform:"translate(10.000000, 3.000000)"},r.default.createElement("rect",{fill:"#2C75B0",x:"0",y:"16",width:"8",height:"13"}),r.default.createElement("rect",{fill:"#2C75B0",x:"42",y:"16",width:"8",height:"13"}),r.default.createElement("rect",{fill:"#2C75B0",x:"14",y:"24",width:"8",height:"5"}),r.default.createElement("rect",{fill:"#2C75B0",x:"28",y:"19",width:"8",height:"10"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"0",y:"10",width:"8",height:"5"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"42",y:"10",width:"8",height:"5"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"14",y:"0",width:"8",height:"23"}),r.default.createElement("rect",{fill:"#3BB2D0",x:"28",y:"5",width:"8",height:"13"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputStyles=t.StyledOverflow=t.StyledSelectBox=t.StyledContainer=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(11));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var i=a.default.div.withConfig({displayName:"style__StyledContainer",componentId:"sc-1iw6b7w-0"})(["margin:10px;",""],(function(e){return e.isCompact&&(0,a.css)(["display:flex;align-items:center;"])}));t.StyledContainer=i;var o=a.default.div.withConfig({displayName:"style__StyledSelectBox",componentId:"sc-1iw6b7w-1"})(["",""],(function(e){return e.isCompact&&(0,a.css)(["width:100%;padding-right:15px;"])}));t.StyledSelectBox=o;var l=a.default.div.withConfig({displayName:"style__StyledOverflow",componentId:"sc-1iw6b7w-2"})(["position:absolute;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.1);z-index:10;"]);t.StyledOverflow=l;t.InputStyles={container:function(){return{position:"relative",boxSizing:"border-box",cursor:"pointer",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0)"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){return{color:"#c32d7b",transition:"all 0.2s ease-out"}},indicatorsContainer:function(){return{color:"#c32d7b",display:"flex",padding:"8px",transition:"color 150ms",boxSizing:"border-box",position:"relative",top:"5px"}},control:function(){return{display:"flex",border:"none",borderRadius:"4px",padding:"3px 0"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(24),i=n(61),o=n(31),l=(a=n(366))&&a.__esModule?a:{default:a},u=d(n(97)),c=d(n(368));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var f=r.redux.connectState((function(e){return{widget:e.widget,color:e.filters.color,configuration:e.configuration,selectedColor:u.getSelectedColor(e),columns:u.getWidgetColumns(e,{colorDimention:!0}),schemeColor:c.getMainThemeColor(e),activeScheme:c.getActiveScheme(e),widgetData:e.widget&&e.widget.data?e.widget.data[0].values:null}}),{setFilters:i.setFilters,patchConfiguration:o.patchConfiguration})(l.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(1)),r=n(24),i=l(n(37)),o=n(367);function l(e){return e&&e.__esModule?e:{default:e}}var u=0,c=function(e,t){t%e.length===0&&(u=0);var n=e[u];return u++,n},s=function(e){var t=e.color,n=e.configuration,l=e.schemeColor,u=e.selectedColor,s=e.activeScheme,d=e.columns,f=e.widgetData,p=e.setFilters,v=e.patchConfiguration,y="pie"===n.chartType,h=!y&&!(0,i.default)(t);return a.default.createElement(o.StyledContainer,null,h&&a.default.createElement(o.StyledColorsBoxContainer,{overflowIsHidden:!1,alignCenter:!(0,i.default)(t)},a.default.createElement(o.StyledColorsBox,{alignCenter:!1},a.default.createElement(o.StyledColorDot,{color:l}),"Single color")),!h&&a.default.createElement(o.StyledColorsBoxContainer,{overflowIsHidden:!0},f&&f.map((function(e,t){return a.default.createElement(o.StyledColorsBox,{alignCenter:!0,key:"".concat(e.x,"-").concat(t)},a.default.createElement(o.StyledColorDot,{color:c(s.category,t)}),e.x)}))),a.default.createElement(o.StyledDropdownBox,null,a.default.createElement(r.Select,{align:"horizontal",relative:!0,menuPlacement:"top",value:u,onChange:function(e){var t="___single_color"===e.identifier?null:e;y?v({category:t}):(p({color:t}),v({color:t}))},getOptionLabel:function(e){return e.name||e.alias||e.identifier},getOptionValue:function(e){return e.identifier},options:d,configuration:n,isCustom:!0,isPopup:!0})))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledContainer=t.StyledColorDot=t.StyledColorsBox=t.StyledColorsBoxContainer=t.StyledDropdownBox=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(11));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var i=a.default.div.withConfig({displayName:"style__StyledDropdownBox",componentId:"e73x7m-0"})(["flex:0 0 30%;"]);t.StyledDropdownBox=i;var o=a.default.div.withConfig({displayName:"style__StyledColorsBoxContainer",componentId:"e73x7m-1"})(["flex:0 0 70%;"," ",""],(function(e){return e.alignCenter&&(0,a.css)(["align-items:center;display:flex;"])}),(function(e){return e.overflowIsHidden&&(0,a.css)(["max-height:70px;overflow-y:scroll;"])}));t.StyledColorsBoxContainer=o;var l=a.default.div.withConfig({displayName:"style__StyledColorsBox",componentId:"e73x7m-2"})(["display:flex;align-items:center;font-size:14px;color:#717171;",""],(function(e){return e.alignCenter&&(0,a.css)(["float:left;width:110px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:5px;padding-left:20px;position:relative;> span{position:absolute;left:0;}"])}));t.StyledColorsBox=l;var u=a.default.span.withConfig({displayName:"style__StyledColorDot",componentId:"e73x7m-3"})([""," width:14px;height:14px;display:block;border-radius:14px;margin:0 5px 0 0;"],(function(e){return e.color&&(0,a.css)(["background:",";"],e.color)}));t.StyledColorDot=u;var c=a.default.div.withConfig({displayName:"style__StyledContainer",componentId:"e73x7m-4"})(["box-sizing:border-box;border-top:1px solid #d7d7d7;position:absolute;bottom:0;left:0;width:100%;min-height:55px;padding:15px 36px;display:flex;justify-content:space-between;*{box-sizing:border-box;outline:0;}"]);t.StyledContainer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveScheme=t.getMainThemeColor=void 0;var a=n(171),r=function(e){return e.theme.schemes},i=function(e){return e.theme.selectedScheme},o=(0,a.createSelector)([r,i],(function(e,t){return e.find((function(e){return e.name===t})).mainColor}));t.getMainThemeColor=o;var l=(0,a.createSelector)([r,i],(function(e,t){return e.find((function(e){return e.name===t}))}));t.getActiveScheme=l},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(370))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(1)),i=l(n(371)),o=l(n(372));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var s=r.default.lazy((function(){return Promise.resolve().then((function(){return c(n(167))}))})),d=r.default.lazy((function(){return Promise.resolve().then((function(){return c(n(179))}))})),f=function(e){var t=e.widgetConfig,n=(e.adapter,e.theme),l="map"===t.type,u=(0,i.default)(t,n,l),c=a(u,1)[0],f=c.data,p=c.isLoading,v=c.isError,y=(0,o.default)(null===t||void 0===t?void 0:t.layer_id,l),h=a(y,1)[0],g=h.layerData,m=h.isLoadingLayers,b=h.isErrorLayers;return p||m?"Loading...":v||b?"Error loading widget...":r.default.createElement(r.Fragment,null,!l&&r.default.createElement(r.Suspense,null,r.default.createElement(s,{standalone:!0,standaloneConfiguration:f})),l&&r.default.createElement(r.Suspense,null,r.default.createElement(d,{setMapParams:function(){},widget:{attributes:{widgetConfig:t}},layers:[g]})))};t.default=f},function(e,t,n){"use strict";var a=n(4),r=n(99),i=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1),l=n(41),u=function(e,t,n){var u,c,s=(0,o.useState)(null),d=i(s,2),f=d[0],p=d[1],v=(0,o.useState)(null===e||void 0===e||null===(u=e.data)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.url),y=i(v,2),h=y[0],g=y[1],m=(0,o.useState)(!1),b=i(m,2),_=b[0],x=b[1],O=(0,o.useState)(!1),w=i(O,2),E=w[0],S=w[1];return(0,o.useEffect)((function(){n||function(){var t=r(a.mark((function t(){var n,r,i,o;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!1),x(!0),t.prev=2,t.next=5,fetch(h);case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,i=r.data,o=new l.VegaService(e,i,e.paramsConfig),p(o.getChart()),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),S(!0);case 17:x(!1);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}}()()}),[]),[{data:f,isLoading:_,isError:E},g]};t.default=u},function(e,t,n){"use strict";var a=n(4),r=n(99),i=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1),l=function(e,t){var n=(0,o.useState)(null),l=i(n,2),u=l[0],c=l[1],s=(0,o.useState)("https://api.resourcewatch.org/v1/layer/".concat(e)),d=i(s,2),f=d[0],p=d[1],v=(0,o.useState)(!1),y=i(v,2),h=y[0],g=y[1],m=(0,o.useState)(!1),b=i(m,2),_=b[0],x=b[1];return(0,o.useEffect)((function(){t&&function(){var e=r(a.mark((function e(){var t,n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),g(!0),e.prev=2,e.next=5,fetch(f);case 5:return t=e.sent,console.log("request data",t),e.next=9,t.json();case 9:n=e.sent,r=n.data,c(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),x(!0);case 17:g(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}()()}),[]),[{layerData:u,isLoadingLayers:h,isErrorLayers:_},p]};t.default=l},function(module,exports,__webpack_require__){"use strict";var _classCallCheck=__webpack_require__(19),_createClass=__webpack_require__(20);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var LayerManager=function(){function LayerManager(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,LayerManager),this.map=e,this.mapLayers={},this.layersLoading={},this.rejectLayersLoading=!1,this.onLayerAddedSuccess=t.onLayerAddedSuccess,this.onLayerAddedError=t.onLayerAddedError}return _createClass(LayerManager,[{key:"addLayer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={leaflet:this.addLeafletLayer,arcgis:this.addEsriLayer,cartodb:this.addCartoLayer,carto:this.addCartoLayer,wmsservice:this.addLeafletLayer,wms:this.addLeafletLayer,featureservice:this.addEsriLayer,mapservice:this.addEsriLayer,tileservice:this.addEsriLayer,esrifeatureservice:this.addEsriLayer,esrimapservice:this.addEsriLayer,esritileservice:this.addEsriLayer,geojson:this.addGeoJsonLayer,gee:this.addGeeLayer,nexgddp:this.addNexGDDPLayer}[e.provider];a&&a.call(this,e,n),this.execCallback().then((function(){t.onLayerAddedSuccess&&t.onLayerAddedSuccess()})).catch((function(){t.layersLoading={},t.rejectLayersLoading=!1,t.onLayerAddedError&&t.onLayerAddedError()}))}},{key:"removeLayer",value:function(e){this.mapLayers[e]&&(this.map.removeLayer(this.mapLayers[e]),delete this.mapLayers[e])}},{key:"removeLayers",value:function(){var e=this;Object.keys(this.mapLayers).forEach((function(t){e.mapLayers[t]&&(e.map.removeLayer(e.mapLayers[t]),delete e.mapLayers[t])})),this.layersLoading={}}},{key:"execCallback",value:function(){var e=this;return new Promise((function(t,n){return setTimeout((function a(){return Object.keys(e.layersLoading).length?e.rejectLayersLoading?n():setTimeout(a):t()}))}))}},{key:"addNexGDDPLayer",value:function(e){var t="https://api.resourcewatch.org/v1/layer/".concat(e.id,"/tile/nexgddp/{z}/{x}/{y}"),n=L.tileLayer(t).addTo(this.map);this.mapLayers[e.id]=n}},{key:"addGeeLayer",value:function(e){var t="https://api.resourcewatch.org/v1/layer/".concat(e.id,"/tile/gee/{z}/{x}/{y}"),n=L.tileLayer(t).addTo(this.map);this.mapLayers[e.id]=n}},{key:"addGeoJsonLayer",value:function(e){var t=L.geoJSON(e.layerConfig.data).addTo(this.map);if(this.mapLayers[e.id]=t,e.layerConfig.fitBounds){var n=t.getBounds();this.map.fitBounds([n.getNorthWest(),n.getSouthEast()],{padding:[20,20]})}}},{key:"addLeafletLayer",value:function addLeafletLayer(layerSpec,_ref){var _this4=this,zIndex=_ref.zIndex,layerData=layerSpec.layerConfig,layer;switch(layerData.id=layerSpec.id,this.layersLoading[layerData.id]=!0,layerData.body.crs&&L.CRS[layerData.body.crs]&&(layerData.body.crs=L.CRS[layerData.body.crs.replace(":","")],layerData.body.pane="tilePane"),layerData.type){case"wms":layer=L.tileLayer.wms(layerData.url,layerData.body);break;case"tileLayer":layerData.body.style&&"string"===typeof layerData.body.style&&layerData.body.indexOf('style: "function')>=0&&(layerData.body.style=eval("(".concat(layerData.body.style,")"))),layer=L.tileLayer(layerData.url,layerData.body);break;default:throw delete this.layersLoading[layerData.id],new Error('"type" specified in layer spec doesn`t exist')}if(layer){var eventName="wms"===layerData.type||"tileLayer"===layerData.type?"tileload":"load";layer.on(eventName,(function(){delete _this4.layersLoading[layerData.id]})),zIndex&&layer.setZIndex(zIndex),layer.addTo(this.map),this.mapLayers[layerData.id]=layer}}},{key:"addEsriLayer",value:function addEsriLayer(layerSpec,_ref2){var _this5=this,zIndex=_ref2.zIndex,layer=layerSpec.layerConfig,layerData=layerSpec.layerConfig;layer.id=layerSpec.id,this.layersLoading[layer.id]=!0;var bodyStringified=JSON.stringify(layer.body||{}).replace(/"mosaic-rule":/g,'"mosaicRule":').replace(/"use-cors"/g,'"useCors"');if(L[layer.type]){layerData.body.style&&"string"===typeof layerData.body.style&&layerData.body.indexOf('style: "function')>=0&&(layerData.body.style=eval("(".concat(layerData.body.style,")")));var newLayer=new L.tileLayer(layerData.url,layerData.body),layerElement;newLayer.on("load",(function(){delete _this5.layersLoading[layer.id],layerElement=_this5.map.getPane("tilePane").lastChild,zIndex&&(layerElement.style.zIndex=zIndex),layerElement.id=layer.id})),newLayer.addTo(this.map),newLayer.setZIndex=function(e){layerElement.style.zIndex=e},this.mapLayers[layer.id]=newLayer}else{if(!L.esri[layer.type])throw this.rejectLayersLoading=!0,new Error('"type" specified in layer spec doesn`t exist');var layerConfig=JSON.parse(bodyStringified);layerConfig.pane="tilePane",layerConfig.style&&layerConfig.style.indexOf("function")>=0&&(layerConfig.style=eval("(".concat(layerConfig.style,")")));var _newLayer=L.esri[layer.type](layerConfig),_layerElement;_newLayer.on("load",(function(){delete _this5.layersLoading[layer.id],_layerElement=_this5.map.getPane("tilePane").lastChild,zIndex&&(_layerElement.style.zIndex=zIndex),_layerElement.id=layer.id})),_newLayer.addTo(this.map),_newLayer.setZIndex=function(e){_layerElement.style.zIndex=e},this.mapLayers[layer.id]=_newLayer}}},{key:"addCartoLayer",value:function(e){var t=this,n=Object.assign({},e.layerConfig,{id:e.id,order:e.order,opacity:e.opacity,hidden:e.hidden});this.layersLoading[n.id]=!0;var a={version:"1.3.0",stat_tag:"API",layers:n.body.layers},r="?stat_tag=API&config=".concat(encodeURIComponent(JSON.stringify(a)));fetch("https://".concat(n.account,".carto.com/api/v1/map").concat(r)).then((function(e){if(e.status>=400)throw t.rejectLayersLoading=!0,new Error(e.statusText);return e.json()})).then((function(e){var a="".concat(e.cdn_url.templates.https.url,"/").concat(n.account,"/api/v1/map/").concat(e.layergroupid,"/{z}/{x}/{y}.png");t.mapLayers[n.id]=L.tileLayer(a).addTo(t.map),t.mapLayers[n.id].setZIndex(n.hidden?-1:n.order),t.mapLayers[n.id].setOpacity(void 0!==n.opacity?n.opacity:1),t.mapLayers[n.id].on("load",(function(){delete t.layersLoading[n.id]})),t.mapLayers[n.id].on("tileerror",(function(){t.rejectLayersLoading=!0}))}))}},{key:"setZIndex",value:function(e){var t=this;Object.keys(this.mapLayers).forEach((function(n){var a=e.find((function(e){return e.id===n})).order;t.mapLayers[n].setZIndex(a)}))}},{key:"setOpacity",value:function(e){var t=this;Object.keys(this.mapLayers).forEach((function(n){var a=e.find((function(e){return e.id===n})),r=a&&void 0!==a.opacity?a.opacity:1;t.mapLayers[n].setOpacity(r)}))}}]),LayerManager}();exports.default=LayerManager},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BOUNDARIES=t.LABELS=t.BASEMAPS=void 0;t.BASEMAPS={dark:{id:"dark",value:"https://api.mapbox.com/styles/v1/resourcewatch/cjhqgjq1908ar2smep2wd7wf7/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w",label:"Dark",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}},light:{id:"light",value:"https://api.mapbox.com/styles/v1/resourcewatch/cjhqgk77j0r7h2sqw220p7imy/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w",label:"Light",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}},satellite:{id:"satellite",value:"https://api.mapbox.com/styles/v1/resourcewatch/cjhqiecof53wv2rl9gw4cehmy/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w",label:"Satellite",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}},terrain:{id:"terrain",value:"https://api.mapbox.com/styles/v1/resourcewatch/cjhqi456h02pg2rp6w2mwp61c/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w",label:"Terrain",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}}};t.LABELS={none:{id:"none",label:"No labels",value:"no_labels"},light:{id:"light",label:"Labels light",value:"https://api.mapbox.com/styles/v1/resourcewatch/cjgcf9rs05qnu2rrpp4qzucox/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w"},dark:{id:"dark",label:"Labels dark",value:"https://api.mapbox.com/styles/v1/resourcewatch/cjgcf9gqk9tmm2spd9zr0tml3/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w"}};t.BOUNDARIES={dark:{id:"dark",label:"Boundaries",value:"https://api.mapbox.com/styles/v1/resourcewatch/cjgcf8qdaai1x2rn6w3j4q805/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w"}}},function(e,t,n){"use strict";function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledMapContainer=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(11)).default.div.withConfig({displayName:"styles__StyledMapContainer",componentId:"sc-1m7dm1p-0"})(["display:flex;height:100%;width:100%;.map-leaflet{z-index:1;display:flex;height:100%;width:100%;}"]);t.StyledMapContainer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(31),o=(a=n(377))&&a.__esModule?a:{default:a};var l=(0,r.connectState)((function(e){return{disabledFeatures:e.editor.disabledFeatures,datasetId:e.editor.dataset&&e.editor.dataset.id?e.editor.dataset.id:null,limit:e.configuration.limit,donutRadius:e.configuration.donutRadius,slizeCount:e.configuration.slizeCount,isMap:"map"===e.configuration.chartType,data:e.editor.widgetData,orderBy:e.configuration.orderBy,groupBy:e.configuration.groupBy,compact:e.theme.compact}}),{patchConfiguration:i.patchConfiguration})(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=y(n(1)),r=y(n(11)),i=n(378),o=n(381),l=p(n(384)),u=p(n(388)),c=p(n(390)),s=p(n(180)),d=p(n(449)),f=n(96);function p(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var h=a.default.lazy((function(){return Promise.resolve().then((function(){return y(n(469))}))})),g=a.default.lazy((function(){return Promise.resolve().then((function(){return y(n(473))}))})),m=a.default.lazy((function(){return Promise.resolve().then((function(){return y(n(476))}))})),b=a.default.lazy((function(){return Promise.resolve().then((function(){return y(n(480))}))})),_=a.default.lazy((function(){return Promise.resolve().then((function(){return y(n(483))}))})),x=a.default.lazy((function(){return Promise.resolve().then((function(){return y(n(485))}))})),O=a.default.lazy((function(){return Promise.resolve().then((function(){return y(n(487))}))})),w=r.default.div.withConfig({displayName:"component__StyleEditorOptionsErrors",componentId:"ici61l-0"})(["position:absolute;left:50%;bottom:50%;transform:translate(-50%,-50%);h3{color:#ff6464;text-align:center;}p{color:#bfbfbf;font-size:12px;}"]),E=r.default.div.withConfig({displayName:"component__StyledContainer",componentId:"ici61l-1"})(["position:relative;flex:1;background:#fff;height:calc(100% - "," - 20px);padding:0 0 0 30px;margin:10px 0;overflow-y:hidden;"," "," ",""],f.FOOTER_HEIGHT,(0,f.DEFAULT_BORDER)(1,1,1,0),(function(e){return e.compact.isCompact&&(0,r.css)(["visibility:hidden;max-height:0;position:absolute;top:65px;left:0;margin:0;width:100%;transition:all 0.3s ease-in-out;"])}),(function(e){return e.compact.isCompact&&e.compact.isOpen&&(0,r.css)(["box-sizing:border-box;display:block;z-index:auto;visibility:visible;max-height:calc(100% - "," - 65px);"],f.FOOTER_HEIGHT)})),S=function(e){var t=e.disabledFeatures,n=e.datasetId,r=e.limit,f=e.donutRadius,p=e.slizeCount,v=e.data,y=(e.orderBy,e.groupBy,e.patchConfiguration),S=e.compact,C=e.dataService,P=e.isMap,T=function(e,t){"limit"===t&&y({limit:e}),"orderBy"===t&&y({orderBy:e}),"groupBy"===t&&y({groupBy:e}),"donut-radius"===t&&y({donutRadius:parseInt(e)}),"slize-count"===t&&y({slizeCount:parseInt(e)})};return n?a.default.createElement(E,{compact:S},a.default.createElement(o.Tabs,null,a.default.createElement(o.Tab,{label:"General"},a.default.createElement(i.Accordion,null,a.default.createElement(i.AccordionSection,{title:"Description and labels",openDefault:!0},a.default.createElement(l.default,{isMap:P})),!P&&a.default.createElement(i.AccordionSection,{title:"Filters"},a.default.createElement(d.default,{dataService:C})),!P&&a.default.createElement(i.AccordionSection,{title:"Order"},a.default.createElement(u.default,{onChange:function(e){return T(e,"orderBy")}}),a.default.createElement(c.default,{onChange:function(e){return T(e,"groupBy")}}),r&&a.default.createElement(s.default,{min:0,max:500,onChange:function(e){return T(e,"limit")},handleOnChangeValue:function(e){return T(e,"limit")},label:"Limit",value:r})),!P&&a.default.createElement(i.AccordionSection,{title:"Chart specific"},a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},f&&a.default.createElement(_,{value:f,onChange:function(e){return T(e,"donut-radius")},handleOnChangeValue:function(e){return T(e,"donut-radius")}})),a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},p&&v&&a.default.createElement(x,{value:p,data:v,onChange:function(e){return T(e,"slize-count")},handleOnChangeValue:function(e){return T(e,"slize-count")}}))),P&&a.default.createElement(i.AccordionSection,{title:"Map configuration",openDefault:!0},a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(O,null))))),a.default.createElement(o.Tab,{label:"Visual style"},a.default.createElement(i.Accordion,null,-1===t.indexOf("typogrophy")&&a.default.createElement(i.AccordionSection,{title:"Typography"},a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(m,null))),-1===t.indexOf("theme-selection")&&a.default.createElement(i.AccordionSection,{title:"Color",openDefault:!0},a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(b,null))))),-1===t.indexOf("advanced-editor")&&a.default.createElement(o.Tab,{label:"Advanced"},a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(h,null))),-1===t.indexOf("table-view")&&a.default.createElement(o.Tab,{label:"Table view"},a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(g,null))))):a.default.createElement(E,{compact:S},a.default.createElement(w,null,a.default.createElement("h3",null,"Error loading dataset"),a.default.createElement("p",null,"Dataset not accessible at this moment.")))};t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(379);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=t.AccordionSection=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=(r=n(520))&&r.__esModule?r:{default:r},l=n(380);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}t.AccordionSection=function(e){var t=e.title,n=e.openDefault,r=e.children,u=(0,i.useRef)({}),c=(0,i.useState)(0),s=a(c,2),d=s[0],f=s[1],p=(0,i.useState)(!1),v=a(p,2),y=v[0],h=v[1],g=function(){h(!y);var e=u.current;if(e){var t=d?0:e.scrollHeight;f(t)}};return(0,i.useEffect)((function(){setTimeout((function(){return n?g():null}),0)}),[]),i.default.createElement(l.StyledAccordionSection,null,i.default.createElement(l.StyledAccordionButton,{onClick:function(){return g()}},t),i.default.createElement(l.StyledAccordionContent,{ref:u,scrollHeight:d},i.default.createElement(o.default,{handleHeight:!0,skipOnMount:!0,onResize:function(){var e=u.current;if(e&&e.scrollHeight>0&&y){var t=e.scrollHeight;f(t)}}},i.default.createElement("div",null,r))))};t.Accordion=function(e){var t=e.children;return i.default.createElement(l.StyledAccordion,null,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledAccordionSection=t.StyledAccordionButton=t.StyledAccordionContent=t.StyledAccordion=void 0;var a,r=(a=n(11))&&a.__esModule?a:{default:a};var i=r.default.div.withConfig({displayName:"style__StyledAccordion",componentId:"cea925-0"})(["width:100%;padding-top:24px;padding-bottom:24px;"]);t.StyledAccordion=i;var o=r.default.div.withConfig({displayName:"style__StyledAccordionContent",componentId:"cea925-1"})(['display:"block";max-height:',";overflow-y:",";transition:all 0.2s ease-out;padding-left:24px;padding-top:",";padding-bottom:",";"],(function(e){return e.scrollHeight+"px"||!1}),(function(e){return e.scrollHeight?"visible":"hidden"}),(function(e){return e.scrollHeight?"18px":"0"}),(function(e){return e.scrollHeight?"18px":"0"}));t.StyledAccordionContent=o;var l=r.default.a.withConfig({displayName:"style__StyledAccordionButton",componentId:"cea925-2"})(['display:block;height:25px;color:#393f44;font-size:16px;font-weight:bold;line-height:25px;position:relative;padding-left:25px;cursor:pointer;&:before{content:" ";width:10px;height:10px;border-radius:50%;background:#c32d7b;position:absolute;left:0;top:8px;}']);t.StyledAccordionButton=l;var u=r.default.div.withConfig({displayName:"style__StyledAccordionSection",componentId:"cea925-3"})(['padding-top:11px;padding-bottom:11px;position:relative;&:before{content:" ";height:1px;width:calc(100% - 24px);display:block;position:absolute;top:0;background-color:#d2d3d6;margin-left:24px;}&:first-child{&:before{display:none;}}']);t.StyledAccordionSection=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(382);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=t.Tabs=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=n(24),o=n(383);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c=function(e){return r.default.createElement(i.Button,u({style:{height:"100%"}},e))};t.Tabs=function(e){var t=e.children.filter((function(e){return!!e})),n=(0,r.useState)(0),i=a(n,2),l=i[0],u=i[1];return(0,r.useEffect)((function(){var e=t.findIndex((function(e){return e.props.default}));u(-1===e?0:e)}),[]),r.default.createElement(o.StyledTabsContainer,null,r.default.createElement(o.StyledList,null,t.map((function(e,t){var n=e.props.label;return n?r.default.createElement(o.StyledListLabel,{key:t},r.default.createElement(c,{onClick:function(){return u(t)},active:t===l},n)):null}))),r.default.createElement(o.StyledTabsContentBox,null,t.map((function(e,t){var n=e.props.children;return r.default.createElement(o.StyledTabsContent,{key:t,active:t===l},n)}))))};t.Tab=function(e){var t=e.children;return e.label?t:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledListLabel=t.StyledList=t.StyledTabsContent=t.StyledTabsContentBox=t.StyledTabsContainer=void 0;var a,r=(a=n(11))&&a.__esModule?a:{default:a};var i=r.default.div.withConfig({displayName:"style__StyledTabsContainer",componentId:"sc-1r3i2z7-0"})(["position:relative;height:100%;"]);t.StyledTabsContainer=i;var o=r.default.div.withConfig({displayName:"style__StyledTabsContentBox",componentId:"sc-1r3i2z7-1"})(["overflow-y:auto;height:calc(100% - 80px);padding-right:30px;::-webkit-scrollbar{width:7px;}::-webkit-scrollbar-track{box-shadow:inset 0 0 2px grey;border-radius:10px;background:rgba(0,0,0,0.05);}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.3);border-radius:10px;}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.4);}"]);t.StyledTabsContentBox=o;var l=r.default.div.withConfig({displayName:"style__StyledTabsContent",componentId:"sc-1r3i2z7-2"})(["display:",";"],(function(e){return e.active?"block":"none"}));t.StyledTabsContent=l;var u=r.default.ul.withConfig({displayName:"style__StyledList",componentId:"sc-1r3i2z7-3"})(["display:flex;justify-content:space-between;padding:20px 30px 20px 0;list-style:none;"]);t.StyledList=u;var c=r.default.li.withConfig({displayName:"style__StyledListLabel",componentId:"sc-1r3i2z7-4"})(["color:red;padding-right:5px;padding-left:5px;&:first-child{padding-left:0;}&:last-child{padding-right:0;}"]);t.StyledListLabel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(31),o=(a=n(385))&&a.__esModule?a:{default:a};var l=(0,r.connectState)((function(e){return{theme:e.theme,configuration:e.configuration}}),{patchConfiguration:i.patchConfiguration})(o.default);t.default=l},function(e,t,n){"use strict";var a=n(17),r=n(19),i=n(20),o=n(113),l=n(79),u=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=b(n(1)),s=b(n(89)),d=b(n(42)),f=b(n(43)),p=b(n(39)),v=b(n(62)),y=b(n(163)),h=b(n(33)),g=n(386),m=b(n(387));function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){l(n,e);var t=u(n);function n(e){var i,l,u,c;return r(this,n),i=t.call(this,e),l=o(i),u="handleUpdate",c=(0,y.default)((function(){var e=i.props,t=e.configuration,n=e.patchConfiguration,r=i.state,o=r.title,l=r.caption,u=r.yAxis,c=r.xAxis,s=r.format;n({title:o,caption:l,format:s.value,xAxisTitle:c,yAxisTitle:u,category:a({},t.category),value:a({},t.value,{format:s.value})})}),1e3),u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,i.state=i.stateFromProps(e.configuration),i.setValueFormat=i.setValueFormat.bind(o(i)),i}return i(n,[{key:"componentDidUpdate",value:function(e){var t=e.configuration,n=this.props.configuration;(0,s.default)(this.stateFromProps(t),this.stateFromProps(n))||this.setState(this.stateFromProps(n))}},{key:"stateFromProps",value:function(e){var t,n;return{title:(null===e||void 0===e?void 0:e.title)?e.title:"",caption:(null===e||void 0===e?void 0:e.caption)?e.caption:"",yAxis:(null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.alias)?e.category.alias:"",xAxis:(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.alias)?e.value.alias:"",format:this.resolveFormat(e)}}},{key:"resolveFormat",value:function(e){var t,n=(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.format)||"s";return m.default.find((function(e){return e.value===n}))}},{key:"setTitle",value:function(e){this.setState({title:e}),this.handleUpdate()}},{key:"setCaption",value:function(e){this.setState({caption:e}),this.handleUpdate()}},{key:"setYAxis",value:function(e){this.setState({yAxis:e}),this.handleUpdate()}},{key:"setXAxis",value:function(e){this.setState({xAxis:e}),this.handleUpdate()}},{key:"setValueFormat",value:function(e){this.setState({format:e}),this.handleUpdate()}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.caption,r=t.xAxis,i=t.yAxis,o=t.format,l=this.props.isMap;return c.default.createElement(d.default,null,c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-title"},"Title"),c.default.createElement(v.default,{type:"text",placeholder:"Add title",name:"options-title",value:n,onChange:function(t){return e.setTitle(t.target.value)}})),c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-title"},"Caption"),c.default.createElement(v.default,{type:"text",placeholder:"Add caption",name:"options-capton",value:a,onChange:function(t){return e.setCaption(t.target.value)}})),!l&&c.default.createElement(d.default,{row:!0},c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-x-axis"},"X axis"),c.default.createElement(v.default,{type:"text",placeholder:"Overwrite axis name",name:"options-x-axis",value:r,onChange:function(t){return e.setXAxis(t.target.value)}})),c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-y-axis"},"Y axis"),c.default.createElement(v.default,{type:"text",placeholder:"Overwrite axis name",name:"options-y-axis",value:i,onChange:function(t){return e.setYAxis(t.target.value)}}))),!l&&c.default.createElement(p.default,null,c.default.createElement(f.default,{htmlFor:"options-title"},"Value format"),c.default.createElement(h.default,{value:o,onChange:this.setValueFormat,options:m.default,styles:g.InputStyles})))}}]),n}(c.default.Component);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputStyles=void 0;t.InputStyles={container:function(){return{position:"relative",boxSizing:"border-box",cursor:"pointer",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0)"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){return{color:"#c32d7b",transition:"all 0.2s ease-out"}},indicatorsContainer:function(){return{color:"#c32d7b",display:"flex",padding:"8px",transition:"color 150ms",boxSizing:"border-box",position:"relative",top:"5px"}},control:function(){return{display:"flex",border:"none",borderRadius:"4px",padding:"3px 0"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{label:"Default (s)",value:"s"},{label:"Fixed one point (.1f)",value:".1f"},{label:"Fixed two point (.2f)",value:".2f"},{label:"Fixed three point (.3f)",value:".3f"},{label:"Rounded percentage (.0%)",value:".0%"},{label:"Grouped thousands with two significant digits",value:",.2r"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(61),o=(a=n(389))&&a.__esModule?a:{default:a},l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(97));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=(0,r.connectState)((function(e){return{orderBy:e.filters.orderBy,columns:l.getWidgetColumns(e)}}),{setFilters:i.setFilters})(o.default);t.default=c},function(e,t,n){"use strict";var a=n(23),r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=d(n(123)),l=d(n(33)),u=d(n(42)),c=d(n(43)),s=d(n(39));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}var p={control:function(){return{display:"flex",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",padding:"3px 0"}},option:function(e){return r({},e)}},v=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],y=function(e){var t=e.orderBy,n=e.columns,d=e.setFilters,f=e.onChange,y=n.map((function(e){return{value:e.name||e.alias||e.identifier,label:e.name||e.alias||e.identifier}})),h=y.find((function(e){return t?e.label===t.name:null})),g=t&&t.orderType?(0,o.default)(v,{value:t.orderType.toLowerCase()}):v[0],m=(0,i.useState)(g||v[0]),b=a(m,2),_=b[0],x=b[1],O=function(e,a){var i;"orderByType"===a?(i=t,x(e)):i=n.find((function(t){return t.name===e.value})),d({orderBy:i}),f(r({},i,{orderType:"orderByType"===a?e.value:_.value}))};return i.default.createElement(u.default,null,i.default.createElement(s.default,null,i.default.createElement(c.default,{htmlFor:"options-title"},"Order by"),i.default.createElement(l.default,{onChange:function(e){return O(e,"column")},value:h,options:y,styles:p})))};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(61),o=(a=n(391))&&a.__esModule?a:{default:a},l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(97));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=(0,r.connectState)((function(e){return{groupBy:e.filters.groupBy,columns:l.getWidgetColumns(e)}}),{setFilters:i.setFilters})(o.default);t.default=c},function(e,t,n){"use strict";var a=n(23),r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=d(n(123)),l=d(n(33)),u=d(n(42)),c=d(n(43)),s=d(n(39));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}var p={control:function(){return{display:"flex",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",padding:"3px 0"}},option:function(e){return r({},e)}},v=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],y=function(e){var t=e.groupBy,n=e.columns,d=e.setFilters,f=e.onChange,y=n.map((function(e){return{value:e.name||e.alias||e.identifier,label:e.name||e.alias||e.identifier}})),h=y.find((function(e){return t?e.label===t.name:null})),g=t&&t.orderType?(0,o.default)(v,{value:t.orderType.toLowerCase()}):v[0],m=(0,i.useState)(g||v[0]),b=a(m,2),_=b[0],x=b[1],O=function(e,a){var i;"orderByType"===a?(i=t,x(e)):i=n.find((function(t){return t.name===e.value})),d({groupBy:i}),f(r({},i,{orderType:"orderByType"===a?e.value:_.value}))};return i.default.createElement(u.default,null,i.default.createElement(s.default,null,i.default.createElement(c.default,{htmlFor:"options-title"},"Group by"),i.default.createElement(l.default,{onChange:function(e){return O(e,"column")},value:h,options:y,styles:p})))};t.default=y},function(e,t,n){"use strict";var a=n(17),r=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=p(n(125)),l=p(n(126)),u=(p(n(42)),p(n(43))),c=p(n(39)),s=p(n(62)),d=p(n(11)),f=p(n(194));function p(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var h=d.default.div.withConfig({displayName:"component__StyledSliderBox",componentId:"sc-1a2sw2e-0"})(["width:100%;display:flex;padding:20px 0;"]),g=d.default.div.withConfig({displayName:"component__StyledInputBox",componentId:"sc-1a2sw2e-1"})(["width:100%;display:flex;align-items:center;justify-content:",";input{max-width:100px;}"],(function(e){return e.isDouble?"space-between":"flex-end"})),m=function(e){var t=e.label,n=e.min,d=void 0===n?null:n,p=e.max,v=void 0===p?null:p,m=e.value,b=e.minDistance,_=void 0===b?1:b,x=e.onChange,O=void 0===x?function(e){}:x,w=e.handleOnChangeValue,E=void 0===w?function(e,t){}:w,S=(0,i.useState)({value:m,key:null}),C=r(S,2),P=C[0],T=C[1],j=(0,o.default)(P,400);(0,i.useEffect)((function(){j.key?E(j.value,j.key):O(j.value)}),[j]);var k=Array.isArray(P.value),M=(0,f.default)(d)||(0,f.default)(v),A=d,D=v;k?(A=P.value[0],D=P.value[1]):D=P.value?P.value:v,D-A<=_&&(A=D-_);var I=a({},null!==d&&{min:d},{},null!==v&&{max:v});return i.default.createElement(c.default,null,t&&i.default.createElement(u.default,{htmlFor:"options-limit"},t),i.default.createElement(h,null,i.default.createElement(l.default,y({},I,{step:M?.1:1,value:k?[A,D]:D,defaultValue:k?d:[d,v],onChange:function(e){return T({value:e,key:null})}}))),i.default.createElement(g,{isDouble:k},k&&i.default.createElement(s.default,y({},I,{value:A,type:"number",name:"options-limit",onChange:function(e){return T({value:e.target.value,key:"minValue"})}})),i.default.createElement(s.default,y({},I,{value:D,type:"number",name:"options-limit",onChange:function(e){return T({value:e.target.value,key:"maxValue"})}}))))};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(1)),r=u(n(11)),i=u(n(519)),o=c(n(448));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function c(e){return e&&e.__esModule?e:{default:e}}var s=r.default.div.withConfig({displayName:"component__StyledSlider",componentId:"sc-1d0g5uz-0"})(["width:100%;.slider{position:relative;height:4px;width:100%;background:",";}",""],(function(e){return e.theme.slider.track}),o.default),d=function(e){var t=e.min,n=void 0===t?1:t,o=e.max,l=void 0===o?500:o,u=e.step,c=void 0===u?1:u,d=e.value,f=(e.defaultValue,e.theme),p=e.onChange,v=void 0===p?function(){}:p,y=e.onDone,h=void 0===y?function(){}:y,g=Array.isArray(d);return a.default.createElement(r.ThemeProvider,{theme:f},a.default.createElement(s,null,g&&a.default.createElement(i.Range,{value:d,step:c,min:n,max:l,handleStyle:{width:"20px",height:"20px",top:"2px"},onChange:v,onDone:h}),!g&&a.default.createElement(i.default,{onAfterChange:h,onChange:v,handleStyle:{width:"20px",height:"20px",top:"2px"},value:d,step:c,max:l,min:n})))};t.default=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="\n .rc-slider {\n  position: relative;\n  height: 14px;\n  padding: 5px 0;\n  width: 100%;\n  border-radius: 6px;\n  -ms-touch-action: none;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  background-color: #e9e9e9;\n  height: 4px;\n  border-radius: 6px;\n}\n.rc-slider-track {\n  position: absolute;\n  left: 0;\n  height: 4px;\n  border-radius: 6px;\n  background-color: #abe2fb;\n}\n.rc-slider-handle {\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  margin-top: -5px;\n  cursor: grab;\n  border-radius: 50%;\n  border: solid 2px #96dbfa;\n  background-color: #fff;\n  -ms-touch-action: pan-x;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n  color: #999;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  margin-left: -4px;\n  width: 8px;\n  height: 8px;\n  border: 2px solid #e9e9e9;\n  background-color: #fff;\n  cursor: pointer;\n  border-radius: 50%;\n  vertical-align: middle;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  border-color: #ccc;\n  box-shadow: none;\n  background-color: #fff;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  height: 100%;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track {\n  left: 5px;\n  bottom: 0;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-handle {\n  margin-left: -5px;\n  -ms-touch-action: pan-y;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  height: 100%;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-dot {\n  left: 2px;\n  margin-bottom: -4px;\n}\n.rc-slider-vertical .rc-slider-dot:first-child {\n  margin-bottom: -4px;\n}\n.rc-slider-vertical .rc-slider-dot:last-child {\n  margin-bottom: -4px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  display: block !important;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  display: block !important;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    opacity: 0;\n    transform-origin: 50% 100%;\n    transform: scale(0, 0);\n  }\n  100% {\n    transform-origin: 50% 100%;\n    transform: scale(1, 1);\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform-origin: 50% 100%;\n    transform: scale(1, 1);\n  }\n  100% {\n    opacity: 0;\n    transform-origin: 50% 100%;\n    transform: scale(0, 0);\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  left: -9999px;\n  top: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  padding: 6px 2px;\n  min-width: 24px;\n  height: 24px;\n  font-size: 12px;\n  line-height: 1;\n  color: #fff;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n} \n\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};t.default=void 0;var r=n(14),i=n(61),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(450));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var u=(0,r.connectState)((function(e){return{configuration:e.configuration,dataset:e.editor.dataset,filters:e.filters.list,fields:e.editor.fields}}),{setFilters:i.setFilters})(o.default);t.default=u},function(e,t,n){"use strict";var a=n(17),r=n(122),i=n(4),o=n(99);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=x(n(1)),u=n(41),c=x(n(39)),s=n(24),d=x(n(451)),f=n(67),p=x(n(452)),v=x(n(455)),y=x(n(457)),h=x(n(459)),g=x(n(461)),m=x(n(463)),b=x(n(465)),_=n(468);function x(e){return e&&e.__esModule?e:{default:e}}var O=function(e){var t=e.dataService,n=e.setFilters,x=e.filters,O=void 0===x?[]:x,w=e.fields,E=void 0===w?[]:w,S=e.configuration,C=e.dataset,P=E.map((function(e){return{label:e.metadata&&e.metadata.alias?e.metadata.alias:e.columnName.replace(/_/gi," "),value:e.columnName,dataType:e.type}})),T=function(){var e=o(i.mark((function e(a,r,o){var l;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.FiltersService.patchFilters(O,{values:a,id:r,type:o},S,C,E);case 2:l=e.sent,n({list:l}),t.requestWithFilters(l,S);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return l.default.createElement(_.StyledFilterBox,null,l.default.createElement(b.default,{addFilter:function(){var e=[].concat(r(O),[a({},f.COLUMN_FILTER_GROUP,{id:(0,d.default)("we-filter-")})]);n({list:e})}}),!O.length&&l.default.createElement(_.StyledEmpty,null,"No filters found. Please, add them."),O.map((function(e){return l.default.createElement(_.StyledFilterSection,{key:e.id},l.default.createElement(c.default,{noMargins:!0},l.default.createElement(h.default,{filter:e,setData:T,optionData:P}),l.default.createElement(_.StyledDeleteBox,null,l.default.createElement(s.Button,{type:"highlight",onClick:function(){return function(e){var t=O.filter((function(t){return t.id!==e}))||[];n({list:t})}(e.id)}},"Delete"))),null!==e.column&&l.default.createElement(_.StyledFilter,null,f.NUMBER_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,{noMargins:e.indicator===f.TYPE_RANGE},l.default.createElement(m.default,{filter:e,disabled:null===e.column,setData:T,optionData:f.FILTER_NUMBER_INDICATOR_TYPES})),f.STRING_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,null,l.default.createElement(m.default,{filter:e,disabled:null===e.column,setData:T,optionData:f.FILTER_STRING_INDICATOR_TYPES})),f.STRING_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,null,e.indicator===f.TYPE_FILTER_ON_VALUES&&l.default.createElement(g.default,{filter:e,setData:T,optionData:e.fieldInfo}),e.indicator!==f.TYPE_FILTER_ON_VALUES&&l.default.createElement(y.default,{isNumeric:!1,filter:e,setData:T})),f.NUMBER_TYPES.indexOf(e.indicator)>-1&&l.default.createElement(c.default,null,e.indicator===f.TYPE_RANGE&&l.default.createElement(v.default,{disabled:null===e.column,filter:e,setData:T}),e.indicator===f.TYPE_VALUE&&l.default.createElement(y.default,{disabled:null===e.column,filter:e,setData:T})),l.default.createElement(p.default,{filter:e,name:"filter-not-null-".concat(e.id),label:"Not null values",setData:T})))})))};t.default=O},,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(453))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1))&&a.__esModule?a:{default:a},i=n(454);var o=function(e){var t=e.filter,n=e.name,a=void 0===n?"untitled_checkbox":n,o=e.label,l=void 0===o?"":o,u=e.setData;return t?r.default.createElement(i.StyledCheckbox,null,r.default.createElement("input",{type:"checkbox",id:a,checked:t.filter.notNull,onChange:function(e){return u(e.target.value,t.id,"NOT_NULL_CHECK")}}),r.default.createElement("label",{htmlFor:a},l)):null};t.default=o},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.StyledCheckbox=void 0;var r=((a=n(11))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"style__StyledCheckbox",componentId:"sc-181eqha-0"})(['color:#393f44;input[type="checkbox"]{opacity:0;position:absolute;}label{cursor:pointer;position:relative;display:inline-block;padding-left:22px;font-size:14px;}label::before,label::after{position:absolute;content:"";display:inline-block;}label::before{height:16px;width:16px;border:1px solid #3bb2d0;border-radius:5px;left:0px;top:0;}label::after{height:3px;width:6px;border-left:2px solid #3bb2d0;border-bottom:2px solid #3bb2d0;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:5px;top:6px;}input[type="checkbox"] + label::after{content:none;}input[type="checkbox"]:checked + label::after{content:"";}input[type="checkbox"]:focus + label::before{box-shadow:0 0 3px #3bb2d0;}']);t.StyledCheckbox=r},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(456))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),i=l(n(180)),o=n(67);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return new Date(Date.UTC(e)).toISOString()},c=function(e){return new Date(e).getFullYear()},s=function(e){var t=e.filter,n=e.disabled,l=void 0!==n&&n,s=e.setData,d=t.filter.values,f=t.fieldInfo?t.fieldInfo:{min:0,max:100},p=f.min,v=f.max,y=Array.isArray(d)?d:function(e,t,n){return e>t?[t,e]:[e,n]}(d,p,v),h=a(y,2),g=h[0],m=h[1],b=function(e){var n;n="date"===t.dataType?[u(e[0]),u(e[1])]:e,s(n,t.id,o.TYPE_RANGE)},_=function(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxValue";n="date"===t.dataType?"maxValue"===a?[u(g),u(Number(e))]:[u(Number(e)),u(m)]:"maxValue"===a?[g,Number(e)]:[Number(e),m],s(n,t.id,o.TYPE_RANGE)};return"date"===t.dataType?r.default.createElement(i.default,{min:c(p),max:c(v),disabled:l,value:[c(g),c(m)],onChange:function(e){return b(e)},handleOnChangeValue:_}):r.default.createElement(i.default,{min:p,max:v,disabled:l,value:[g,m],onChange:function(e){return b(e)},handleOnChangeValue:_})};t.default=s},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(458))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(1)),r=u(n(62)),i=u(n(11)),o=u(n(194)),l=n(67);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)(r.default).withConfig({displayName:"component__StyledInput",componentId:"sc-4recye-0"})(["text-align:left !important;"]),s=function(e){var t=e.filter,n=e.disabled,r=void 0!==n&&n,i=e.setData,u=e.isNumeric,s=void 0===u||u,d=t.filter.values,f=t.fieldInfo?t.fieldInfo:{min:0,max:100},p=f.min,v=f.max,y=(0,o.default)(p)||(0,o.default)(v);return a.default.createElement(c,{min:p,max:v,step:y?.1:1,disabled:r,value:d,type:s?"number":"text",name:"filter-value-".concat(t.id),onChange:function(e){return i(e.target.value,t.id,l.TYPE_VALUE)}})};t.default=s},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(460))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(1)),r=o(n(33)),i=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.filter,n=e.setData,o=void 0===n?function(){}:n,l=e.optionData,u=void 0===l?[]:l,c=u.find((function(e){return e.value===t.column}));return a.default.createElement(r.default,{value:c,placeholder:"Select Column",name:"filter-column-".concat(t.id),options:u,onChange:function(e){o(e,t.id,i.TYPE_COLUMNS)}})};t.default=l},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(462))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(1)),r=o(n(33)),i=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.filter,n=e.disabled,o=void 0!==n&&n,l=e.setData,u=void 0===l?function(){}:l,c=e.optionData,s=void 0===c?[]:c,d=t.filter.values;return a.default.createElement(r.default,{isDisabled:o,value:d||null,isMulti:!0,placeholder:"Select ".concat(t.column),name:"filter-string-values-".concat(t.id),options:s,onChange:function(e){u(e,t.id,i.TYPE_FILTER_ON_VALUES)}})};t.default=l},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(464))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(1)),r=o(n(33)),i=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.filter,n=e.disabled,o=void 0!==n&&n,l=e.setData,u=void 0===l?function(){}:l,c=e.optionData,s=void 0===c?[]:c,d="string"===t.indicator?t.filter.values:s.find((function(e){return e.value===t.indicator}));return a.default.createElement(r.default,{isDisabled:o,value:d||null,isMulti:"string"===t.indicator,placeholder:"string"===t.indicator?"Select ".concat(t.column):"Select Indicator",name:"filter-indicator-".concat(t.id),options:s,onChange:function(e){u(e,t.id,i.TYPE_INDICATOR)}})};t.default=l},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(466))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),r=n(24),i=n(467);function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var l=function(e){var t=e.addFilter;return a.default.createElement(i.StyledAddSection,null,a.default.createElement(r.Button,{size:"small",onClick:function(){return t()}},"Add Filter"))};t.default=l},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.StyledAddSection=void 0;var r=((a=n(11))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"style__StyledAddSection",componentId:"sc-6qdouu-0"})(["position:absolute;top:-40px;right:0;"]);t.StyledAddSection=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledDeleteBox=t.StyledFilter=t.StyledFilterSection=t.StyledEmpty=t.StyledFilterBox=void 0;var a,r=(a=n(11))&&a.__esModule?a:{default:a};var i=r.default.div.withConfig({displayName:"style__StyledFilterBox",componentId:"o4sr4l-0"})(["position:relative;"]);t.StyledFilterBox=i;var o=r.default.div.withConfig({displayName:"style__StyledEmpty",componentId:"o4sr4l-1"})(["max-width:300px;margin:0 auto;display:flex;align-items:center;justify-content:center;text-align:center;"]);t.StyledEmpty=o;var l=r.default.div.withConfig({displayName:"style__StyledFilterSection",componentId:"o4sr4l-2"})(["padding:10px 0;position:relative;label{text-transform:capitalize;}"]);t.StyledFilterSection=l;var u=r.default.div.withConfig({displayName:"style__StyledFilter",componentId:"o4sr4l-3"})(["padding:15px 0 0 20px;margin:0 0 0 10px;border-left:1px solid #d2d3d6;"]);t.StyledFilter=u;var c=r.default.div.withConfig({displayName:"style__StyledDeleteBox",componentId:"o4sr4l-4"})(["position:absolute;right:0;top:50%;transform:translate(-50px,-50%);button{font-size:12px;padding:7px 10px;border:none;font-weight:500;}"]);t.StyledDeleteBox=c},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(470))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(1)),r=l(n(522)),i=l(n(471)),o=n(472);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.json,n=e.onChange,l=void 0===n?function(){}:n;return a.default.createElement(o.StyledField,null,a.default.createElement(r.default,{placeholder:t,colors:o.EditorColors,locale:i.default,style:o.EditorStyles,onChange:l}))};t.default=u},,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.EditorStyles=t.EditorColors=t.StyledField=void 0;var r=((a=n(11))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"style__StyledField",componentId:"sc-1alfild-0"})(["box-sizing:border-box;height:221px;width:100%;border:1px solid rgba(202,204,208,0.85);border-radius:4px;background-color:#FFFFFF;padding:0;font-size:14px;"]);t.StyledField=r;t.EditorColors={keys:"#C32D7B",number:"#2C75B0",string:"#C32D7B",background:"white",background_warning:"#ffebeb"};t.EditorStyles={labelColumn:{display:"none",boxSizing:"border-box"},body:{fontSize:"14px",height:"100%",width:"100%"},outerBox:{width:"100%",height:"100%",boxSizing:"border-box"},container:{height:"100%",width:"100%",boxSizing:"border-box"},warningBox:{width:"100%",position:"absolute",left:"0",bottom:"-62px"},contentBox:{padding:"20px 0 20px 20px",height:"100%",width:"100%",boxSizing:"border-box"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=(a=n(474))&&a.__esModule?a:{default:a};var o=(0,r.connectState)((function(e){return{widgetData:e.editor.widgetData,configuration:e.configuration}}))(i.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1))&&a.__esModule?a:{default:a},i=n(475);var o=function(e){var t,n,a=e.widgetData,o=e.configuration,l=(null===o||void 0===o||null===(t=o.value)||void 0===t?void 0:t.alias)||"",u=(null===o||void 0===o||null===(n=o.category)||void 0===n?void 0:n.alias)||"";return r.default.createElement(i.StyledTableBox,null,r.default.createElement(i.StyledTable,null,r.default.createElement("thead",null,r.default.createElement(i.StyledTr,null,r.default.createElement(i.StyledTh,null,u),r.default.createElement(i.StyledTh,null,l))),r.default.createElement("tbody",null,a&&a.map((function(e,t){return r.default.createElement(i.StyledTr,{key:t},r.default.createElement(i.StyledTd,null,e.x),r.default.createElement(i.StyledTd,{center:!0},e.y))})))))};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledTh=t.StyledTd=t.StyledTr=t.StyledTable=t.StyledTableBox=void 0;var a,r=(a=n(11))&&a.__esModule?a:{default:a};var i=r.default.div.withConfig({displayName:"style__StyledTableBox",componentId:"e0k6e9-0"})(["width:100%;height:100%;overflow:auto;"]);t.StyledTableBox=i;var o=r.default.table.withConfig({displayName:"style__StyledTable",componentId:"e0k6e9-1"})(["border-collapse:separate;border-spacing:0;width:100%;padding:0;border-radius:4px;overflow:hidden;border:1px solid rgba(26,28,34,.1);font-size:14px;margin-bottom:20px;"]);t.StyledTable=o;var l=r.default.tr.withConfig({displayName:"style__StyledTr",componentId:"e0k6e9-2"})(["background-color:#fff;box-sizing:border-box;"]);t.StyledTr=l;var u=r.default.td.withConfig({displayName:"style__StyledTd",componentId:"e0k6e9-3"})(["width:100%;padding:20px;text-align:",";"],(function(e){return e.center?"center":"left"}));t.StyledTd=u;var c=r.default.td.withConfig({displayName:"style__StyledTh",componentId:"e0k6e9-4"})(["position:relative;font-size:14px;color:#393f44;font-weight:700;white-space:nowrap;padding:20px;"]);t.StyledTh=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(60),o=(a=n(477))&&a.__esModule?a:{default:a};var l=(0,r.connectState)((function(e){return{theme:e.theme}}),{setTheme:i.setTheme})(o.default);t.default=l},function(e,t,n){"use strict";var a=n(36),r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=p(n(1)),o=p(n(42)),l=p(n(43)),u=p(n(39)),c=p(n(62)),s=p(n(33)),d=n(478),f=n(479);function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t=e.theme,n=e.setTheme,p=t.font,v=t.titleSize,y=t.captionSize,h=t.axisTitleSize,g=d.FONTS.find((function(e){return e.value===p}))||d.FONTS[0],m=function(e,i){var o=new RegExp("^[0-9]*$"),l=""!==i&&o.test(Number(i))?i:"auto";n(r({},t,a({},e,l)))};return i.default.createElement("div",null,i.default.createElement(l.default,{htmlFor:"options-title"},"Font"),i.default.createElement(s.default,{value:g,onChange:function(e){n(r({},t,{font:e.value}))},options:d.FONTS,styles:f.InputStyles}),i.default.createElement("br",null),i.default.createElement(o.default,{row:!0},i.default.createElement(u.default,null,i.default.createElement(l.default,{htmlFor:"typography-title-size"},"Title size"),i.default.createElement(c.default,{name:"typography-title-size",value:"auto"===v?"":v,type:"text",onChange:function(e){return m("titleSize",e.target.value)},placeholder:"Auto"})),i.default.createElement(u.default,null,i.default.createElement(l.default,{htmlF:!0,or:"typography-caption-size"},"Caption size"),i.default.createElement(c.default,{name:"typography-caption-size",value:"auto"===y?"":y,type:"text",onChange:function(e){return m("captionSize",e.target.value)},placeholder:"Auto"})),i.default.createElement(u.default,null,i.default.createElement(l.default,{htmlFor:"typography-axisTitleSize"},"Axis title size"),i.default.createElement(c.default,{name:"typography-axisTitleSize",value:"auto"===h?"":h,type:"text",onChange:function(e){return m("axisTitleSize",e.target.value)},placeholder:"Auto"}))))};t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FONTS=void 0;t.FONTS=[{value:"lato",label:"Lato"},{value:"arial",label:"Arial"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputStyles=void 0;t.InputStyles={container:function(){return{position:"relative",boxSizing:"border-box",cursor:"pointer",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0)"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){return{color:"#c32d7b",transition:"all 0.2s ease-out"}},indicatorsContainer:function(){return{color:"#c32d7b",display:"flex",padding:"8px",transition:"color 150ms",boxSizing:"border-box",position:"relative",top:"5px"}},control:function(){return{display:"flex",border:"none",borderRadius:"4px",padding:"3px 0"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(60),o=(a=n(481))&&a.__esModule?a:{default:a};var l=(0,r.connectState)((function(e){return{theme:e.theme}}),{setTheme:i.setTheme})(o.default);t.default=l},function(e,t,n){"use strict";var a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(482);var l=function(e){var t=e.theme,n=e.setTheme,r=t.schemes,l=t.selectedScheme;return i.default.createElement(o.StyledShemesContainer,null,r.map((function(e,r){return i.default.createElement(o.StyledShemesCard,{key:"".concat(e.name,"-").concat(r)},i.default.createElement(o.StyledCardBox,{active:l===e.name,onClick:function(){return function(e){n(a({},t,{selectedScheme:e.name}))}(e)}},i.default.createElement(o.StyledShemeInfo,null,i.default.createElement(o.StyledShemeName,null,e.name),i.default.createElement(o.StyledShemeColors,null,i.default.createElement("div",{style:{flexBasis:"100%",background:e.mainColor}}),i.default.createElement("div",{style:{flexBasis:"100%",display:"flex"}},e.category.map((function(t){return i.default.createElement("div",{key:t,style:{flexBasis:"".concat(100/e.category.length,"%"),background:t}})})))))))})))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledShemeColors=t.StyledShemeName=t.StyledShemeInfo=t.StyledCardBox=t.StyledShemesCard=t.StyledShemesContainer=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(11));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var i=a.default.div.withConfig({displayName:"style__StyledShemesContainer",componentId:"vlyagb-0"})(["display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;width:100%;margin-left:-5px;margin-right:-5px;*{box-sizing:border-box;}"]);t.StyledShemesContainer=i;var o=a.default.div.withConfig({displayName:"style__StyledShemesCard",componentId:"vlyagb-1"})(["width:33.333%;display:flex;align-items:center;justify-content:center;padding-right:5px;padding-left:5px;input{display:none;}"]);t.StyledShemesCard=o;var l=a.default.div.withConfig({displayName:"style__StyledCardBox",componentId:"vlyagb-2"})(["width:100%;box-sizing:border-box;height:100px;border:",";border-radius:4px;background-color:rgba(255,255,255,0);padding:15px 18px;&:hover{border:2px solid #C32D7B;cursor:pointer;}"],(function(e){return e.active?"2px solid #C32D7B":"1px solid rgba(202,204,208,0.85)"}));t.StyledCardBox=l;var u=a.default.div.withConfig({displayName:"style__StyledShemeInfo",componentId:"vlyagb-3"})([""]);t.StyledShemeInfo=u;var c=a.default.div.withConfig({displayName:"style__StyledShemeName",componentId:"vlyagb-4"})(["font-size:14px;margin:0;padding-bottom:7px;text-transform:uppercase;"]);t.StyledShemeName=c;var s=a.default.div.withConfig({displayName:"style__StyledShemeColors",componentId:"vlyagb-5"})(["div{height:21px;}"]);t.StyledShemeColors=s},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(484))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=f(n(125)),o=f(n(42)),l=f(n(126)),u=f(n(43)),c=f(n(39)),s=f(n(62)),d=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}var v=d.default.div.withConfig({displayName:"component__StyledSliderBox",componentId:"sc-1a00iq3-0"})(["width:100%;display:flex;padding:20px 0;"]),y=d.default.div.withConfig({displayName:"component__StyledInputBox",componentId:"sc-1a00iq3-1"})(["flex:120px;margin:0 0 0 30px;"]),h=function(e){var t=e.min,n=void 0===t?1:t,d=e.max,f=void 0===d?150:d,p=e.value,h=void 0===p?40:p,g=(e.minDistance,e.onChange),m=void 0===g?function(e){}:g,b=e.handleOnChangeValue,_=void 0===b?function(e,t){}:b,x=(0,r.useState)({value:h,key:null}),O=a(x,2),w=O[0],E=O[1],S=(0,i.default)(w,400);return(0,r.useEffect)((function(){S.key?_(S.value,S.key):m(S.value)}),[m,_,S]),r.default.createElement(c.default,null,r.default.createElement(u.default,{htmlFor:"options-donut-radius"},"Donut radius"),r.default.createElement(o.default,{row:!0},r.default.createElement(v,null,r.default.createElement(l.default,{min:n,max:f,value:w.value,onChange:function(e){return E({value:e,key:null})}})),r.default.createElement(y,null,r.default.createElement(s.default,{value:w.value,type:"number",name:"options-donut-radius",onChange:function(e){return E({value:e.target.value,key:"donut-radius"})}}))))};t.default=h},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((a=n(486))&&a.__esModule?a:{default:a}).default;t.default=r},function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=f(n(125)),o=f(n(42)),l=f(n(126)),u=f(n(43)),c=f(n(39)),s=f(n(62)),d=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}var v=d.default.div.withConfig({displayName:"component__StyledSliderBox",componentId:"sc-1me12lf-0"})(["width:100%;display:flex;padding:20px 0;"]),y=d.default.div.withConfig({displayName:"component__StyledInputBox",componentId:"sc-1me12lf-1"})(["flex:120px;margin:0 0 0 30px;"]),h=function(e){var t={};return e.forEach((function(e){t.hasOwnProperty(e.x)?t[e.x]=t[e.x]+1:t[e.x]=1})),Object.values(t).length},g=function(e){var t=e.min,n=void 0===t?1:t,d=e.value,f=void 0===d?40:d,p=e.data,g=void 0===p?null:p,m=(e.minDistance,e.onChange),b=void 0===m?function(e){}:m,_=e.handleOnChangeValue,x=void 0===_?function(e,t){}:_,O=(0,r.useState)({value:f,key:null}),w=a(O,2),E=w[0],S=w[1],C=(0,i.default)(E,400);return(0,r.useEffect)((function(){C.key?x(C.value,C.key):b(C.value)}),[b,x,C]),r.default.createElement(c.default,null,r.default.createElement(u.default,{htmlFor:"options-donut-radius"},"Slize count (donut and pie charts)"),r.default.createElement(o.default,{row:!0},r.default.createElement(v,null,r.default.createElement(l.default,{min:n,max:g?h(g):10,value:E.value,onChange:function(e){return S({value:e,key:null})}})),r.default.createElement(y,null,r.default.createElement(s.default,{value:E.value,type:"number",name:"options-donut-radius",onChange:function(e){return S({value:e.target.value,key:"slize-count"})}}))))};t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=n(31),o=(a=n(488))&&a.__esModule?a:{default:a};var l=(0,r.connectState)((function(e){return{editor:e.editor,configuration:e.configuration}}),{patchConfiguration:i.patchConfiguration})(o.default);t.default=l},function(e,t,n){"use strict";var a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(1)),i=c(n(33)),o=c(n(42)),l=c(n(43)),u=c(n(39));function c(e){return e&&e.__esModule?e:{default:e}}var s={control:function(){return{display:"flex",border:"1px solid rgba(202,204,208,0.85)",borderRadius:"4px",padding:"3px 0"}},option:function(e){return a({},e)}},d=function(e){var t=e.editor,n=e.configuration,a=e.patchConfiguration,c=t.layers,d=function(e){return e?e.map((function(e){return{label:e.attributes.name,value:e.id}})):[]}(void 0===c?null:c),f=d.find((function(e){return e.value===n.layer}));return r.default.createElement(o.default,null,r.default.createElement(u.default,null,r.default.createElement(l.default,{htmlFor:"options-title"},"Layers"),r.default.createElement(i.default,{onChange:function(e){return function(e){a({layer:e.value})}(e)},value:f||d[0],options:d,styles:s})))};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(14),i=(a=n(490))&&a.__esModule?a:{default:a};var o=(0,r.connectState)((function(e){return{authenticated:e.editor.authenticated}}))(i.default);t.default=o},function(e,t,n){"use strict";var a=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=(r=n(11))&&r.__esModule?r:{default:r},l=n(24),u=n(491),c=n(96);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var d=o.default.footer.withConfig({displayName:"component__StyledFooter",componentId:"xd8mvj-0"})(["width:100%;height:",";align-self:flex-end;display:flex;align-items:center;justify-content:space-between;padding:0 30px;"],c.FOOTER_HEIGHT),f=function(e){var t=e.authenticated,n=e.onSave,r=(0,i.useState)(!1),o=a(r,2),c=o[0],s=o[1];return i.default.createElement(d,null,i.default.createElement(u.Modal,{isOpen:c,closeModal:function(){return s(!1)}},i.default.createElement("h2",null,"How to customize the visualization")),i.default.createElement(l.Button,{onClick:function(){return s(!0)},type:"highlight"},"Need help?"),t&&i.default.createElement(l.Button,{type:"cta",onClick:n},"Save widget"))};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(492);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var a,r=(a=n(1))&&a.__esModule?a:{default:a},i=n(24),o=n(493);t.Modal=function(e){var t=e.isOpen,n=e.closeModal,a=e.children;return r.default.createElement(o.StyledModalBox,{isOpen:t},r.default.createElement(o.StyledModalContainer,{isOpen:t},r.default.createElement(o.StyledModalContent,null,r.default.createElement(o.StyledModalCloseBtn,{onClick:function(){return n()}},r.default.createElement(i.CloseIcon,{width:"20px",height:"20px",hoverColor:"#C32D7B"})),a,r.default.createElement(o.StyledActions,null,r.default.createElement(i.Button,{onClick:function(){return n()},type:"cta"},"Ok, got it!")))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledActions=t.StyledModalCloseBtn=t.StyledModalContent=t.StyledModalContainer=t.StyledModalBox=void 0;var a,r=(a=n(11))&&a.__esModule?a:{default:a};var i=r.default.div.withConfig({displayName:"style__StyledModalBox",componentId:"irhh82-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.3);transition:all .16s cubic-bezier(.47,0,.745,.715);z-index:",";visibility:",";opacity:",";display:flex;justify-content:center;align-items:center;"],(function(e){return e.isOpen?1100:-1}),(function(e){return e.isOpen?"visible":"hidden"}),(function(e){return e.isOpen?1:0}));t.StyledModalBox=i;var o=r.default.div.withConfig({displayName:"style__StyledModalContainer",componentId:"irhh82-1"})(["-webkit-transition:-webkit-transform .24s cubic-bezier(.215,.61,.355,1);transition:-webkit-transform .24s cubic-bezier(.215,.61,.355,1);transition:transform .24s cubic-bezier(.215,.61,.355,1);transition:transform .24s cubic-bezier(.215,.61,.355,1),-webkit-transform .24s cubic-bezier(.215,.61,.355,1);-webkit-transform:translateY(0);transform:",";display:-webkit-box;display:flex;position:relative;width:calc(100% - 50px);max-width:880px;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.15);z-index:1;"],(function(e){return e.isOpen?"translateY(0)":"translateY(-35px)"}));t.StyledModalContainer=o;var l=r.default.div.withConfig({displayName:"style__StyledModalContent",componentId:"irhh82-2"})(["position:relative;width:100%;max-height:85vh;min-height:150px;overflow:auto;padding:72px;-webkit-overflow-scrolling:touch;box-shadow:0 7px 15px 0 rgba(0,0,0,.15);"]);t.StyledModalContent=l;var u=r.default.button.withConfig({displayName:"style__StyledModalCloseBtn",componentId:"irhh82-3"})(["fill:#000;display:block;position:absolute;top:15px;right:15px;width:30px;height:30px;padding:0;border:0;background-color:transparent;cursor:pointer;z-index:2;outline:none;"]);t.StyledModalCloseBtn=u;var c=r.default.div.withConfig({displayName:"style__StyledActions",componentId:"irhh82-4"})(["padding-top:60px;"]);t.StyledActions=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledContainer=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(11)),r=n(96);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=a.default.div.withConfig({displayName:"style__StyledContainer",componentId:"sc-1fm4mu4-0"})(["width:100%;min-height:740px;",""],(function(e){return e.isCompact?(0,a.css)(["box-sizing:border-box;position:relative;max-width:600px;margin:0 auto;height:calc(100% - ",");"],r.FOOTER_HEIGHT):(0,a.css)(["height:100%;display:flex;flex-flow:wrap;justify-content:space-between;flex-flow:column;@media only screen and (min-width:768px){flex-flow:wrap;}"])}));t.StyledContainer=o},function(e,t,n){"use strict";var a=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35),i=n(68),o=n(41),l=p(n(496)),u=p(n(499)),c=p(n(502)),s=p(n(505)),d=p(n(508));function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var v={configuration:(0,i.handleModule)(s),editor:(0,i.handleModule)(l),theme:(0,i.handleModule)(u),filters:(0,i.handleModule)(d),widget:(0,i.handleModule)(c)},y=a({},o.constants.APP_NAMESPACE,(0,r.combineReducers)(v));t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var a=u(n(94));t.actions=a;var r=u(n(497));t.reducers=r;var i,o=(i=n(498))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var a=n(36),r=n(17);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a({},function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(94)).setEditor,(function(e,t){var n=t.payload;return r({},e,{},n)}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={authenticated:!1,restoring:!1,disabledFeatures:[],initialized:!1,dataset:null,widget:null,widgetData:null,errors:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var a=u(n(60));t.actions=a;var r=u(n(500));t.reducers=r;var i,o=(i=n(501))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var a,r=n(36),i=n(122),o=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(60));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=(r(a={},l.setTheme,(function(e,t){var n=t.payload;return o({},e,{},n)})),r(a,l.setScheme,(function(e,t){var n=t.payload;return o({},e,{schemes:[].concat(i(e.schemes),i(n))})})),a);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={compact:{isCompact:!0,isOpen:!1},schemes:[{name:"default",mainColor:"#97bd3d",category:["#97bd3d","#2C75B0","#FAB72E","#EF4848","#3BB2D0","#C32D7B","#F577B9","#5FD2B8","#F1800F","#9F1C00","#A5E9E3","#B9D765","#393F44","#CACCD0","#717171"]}],color:"#C32D7B",slider:{track:"#a3daf3",trackBackground:"#f5f5f5"},selectedScheme:"default",font:"lato",titleSize:"auto",captionSize:"auto",axisTitleSize:"auto"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var a=u(n(141));t.actions=a;var r=u(n(503));t.reducers=r;var i,o=(i=n(504))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var a=n(36),r=n(17);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a({},function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(141)).setWidget,(function(e,t){var n=t.payload;return r({},e,{},n)}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var a=u(n(31));t.actions=a;var r=u(n(506));t.reducers=r;var i,o=(i=n(507))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var a,r=n(36),i=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(31));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=(r(a={},o.setConfiguration,(function(e,t){var n=t.payload;return i({},e,{},n)})),r(a,o.patchConfiguration,(function(e,t){var n=t.payload;return i({},e,{},n)})),a);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={title:"",caption:"",format:"",visualizationType:"chart",chartType:"bar",slizeCount:5,donutRadius:100,xAxisTitle:null,yAxisTitle:null,availableCharts:[{value:"pie",chartType:"pie",label:"Pie"},{value:"donut",chartType:"donut",label:"Donut"},{value:"bar-horizontal",chartType:"bar",label:"Bar (Horizontal)"},{value:"bar-vertical",chartType:"bar_vertical",label:"Bar (Vertical)"},{value:"line",chartType:"line",label:"Line"},{value:"scatter",chartType:"scatter",label:"Scatter"},{value:"map",chartType:"map",label:"Map"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.default}}),t.reducers=t.actions=void 0;var a=u(n(61));t.actions=a;var r=u(n(509));t.reducers=r;var i,o=(i=n(510))&&i.__esModule?i:{default:i};function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var a=n(36),r=n(17);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a({},function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(61)).setFilters,(function(e,t){var n=t.payload;return r({},e,{},n)}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={orderBy:null,color:null,list:[]}},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,((a=n(524))&&a.__esModule?a:{default:a}).default)();t.default=r},function(e,t,n){"use strict";var a=n(4),r=a.mark(c);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=n(142),o=u(n(513)),l=u(n(514));function u(e){return e&&e.__esModule?e:{default:e}}function c(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.all)([(0,i.fork)(o.default),(0,i.fork)(l.default)]);case 2:case"end":return e.stop()}}),r)}},function(e,t,n){"use strict";var a=n(4),r=n(17),i=a.mark(s),o=a.mark(d);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var l=n(142),u=n(41),c=(n(14),n(31));function s(){var e,t,n,o,u,s,d,f,p,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.select)();case 2:if(e=a.sent,!(t=e.widgetEditor.editor).widget){a.next=10;break}return u=t.widget.attributes,s=u.name,d=u.description,f=u.widgetConfig,p=r({},f.paramsConfig,{title:s,caption:d}),v=(null===f||void 0===f||null===(n=f.paramsConfig)||void 0===n||null===(o=n.value)||void 0===o?void 0:o.format)||"s",a.next=10,(0,l.put)((0,c.setConfiguration)(r({},p,{format:v})));case 10:case"end":return a.stop()}}),i)}function d(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeLatest)(u.constants.sagaEvents.DATA_FLOW_DATASET_WIDGET_READY,s);case 2:case"end":return e.stop()}}),o)}},function(e,t,n){"use strict";var a=n(17),r=n(4),i=n(99),o=r.mark(O),l=r.mark(w),u=r.mark(E),c=r.mark(S),s=r.mark(C),d=r.mark(P);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P;var f=n(142),p=n(14),v=n(41),y=n(94),h=n(141),g=n(31),m=new v.StateProxy,b=null;function _(e){return x.apply(this,arguments)}function x(){return(x=i(r.mark((function e(t){var n,a,i,o,l,u,c,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.configuration,a=t.filters,i=t.editor.dataset,o=new v.FiltersService(n,a,i),l=o.getQuery(),u=b.dataEndpoint,e.next=6,fetch("".concat(u,"/").concat(i.id,"?sql=").concat(l));case 6:return c=e.sent,e.next=9,c.json();case 9:return s=e.sent,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload,b=t;case 2:case"end":return n.stop()}}),o)}function w(){var e,t,n,i,o,u,c,s,d,p;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.select)();case 2:if(e=r.sent,t=e.widgetEditor,n=t.editor,i=t.configuration,o=t.theme,u=n.widgetData,c=n.widget.attributes.widgetConfig,"map"===i.visualizationType){r.next=18;break}return s=new v.VegaService(a({},c,{paramsConfig:a({},c.paramsConfig,{},i)}),u,i,o),r.next=13,(0,f.put)((0,h.setWidget)(s.getChart()));case 13:return r.next=15,(0,f.select)();case 15:d=r.sent,p=d.widgetEditor,m.cacheChart(p);case 18:case"end":return r.stop()}}),l)}function E(){var e,t,n;return r.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.select)();case 2:return e=a.sent,t=e.widgetEditor,a.next=6,(0,f.call)([m,"sync"],t);case 6:if(!((n=a.sent)&&n.length>0)){a.next=15;break}a.t0=r.keys(n);case 9:if((a.t1=a.t0()).done){a.next=15;break}return event=a.t1.value,a.next=13,(0,f.put)({type:n[event]});case 13:a.next=9;break;case 15:case"end":return a.stop()}}),u)}function S(){var e,t,n,i,o,l,u,s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.select)();case 2:if(e=r.sent,t=e.widgetEditor,n=t.editor,i=t.configuration,o=t.theme,!n.initialized||!n.widgetData||"map"===i.visualizationType){r.next=13;break}return l=n.widgetData,u=n.widget.attributes.widgetConfig,s=new v.VegaService(a({},u,{paramsConfig:a({},u.paramsConfig,{},i)}),l,i,o),r.next=13,(0,f.put)((0,h.setWidget)(s.getChart()));case 13:case"end":return r.stop()}}),c)}function C(){var e,t,n;return r.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.select)();case 2:if(e=a.sent,"map"===(t=e.widgetEditor).configuration.visualizationType){a.next=17;break}return a.next=7,(0,f.call)(_,t);case 7:return n=a.sent,a.next=10,(0,f.put)((0,y.setEditor)({widgetData:n.data}));case 10:return a.next=12,(0,f.call)(S);case 12:if(t.editor.initialized){a.next=15;break}return a.next=15,(0,f.put)({type:v.constants.sagaEvents.DATA_FLOW_VISUALISATION_READY});case 15:a.next=22;break;case 17:return a.next=19,(0,f.call)(S);case 19:if(t.editor.initialized){a.next=22;break}return a.next=22,(0,f.put)({type:v.constants.sagaEvents.DATA_FLOW_VISUALISATION_READY});case 22:return a.next=24,(0,f.put)((0,g.setConfiguration)({visualizationType:t.configuration.visualizationType,chartType:"map"===t.configuration.visualizationType?"map":t.configuration.chartType}));case 24:case"end":return a.stop()}}),s)}function P(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.takeLatest)(v.constants.sagaEvents.DATA_FLOW_FIELDS_AND_LAYERS_READY,C);case 2:return e.next=4,(0,f.takeLatest)(v.constants.sagaEvents.DATA_FLOW_VISUALISATION_READY,w);case 4:return e.next=6,(0,f.takeLatest)(v.constants.sagaEvents.DATA_FLOW_STORE_ADAPTER_CONFIG,O);case 6:return e.next=8,(0,f.takeLatest)(v.constants.sagaEvents.DATA_FLOW_UPDATE_WIDGET,S);case 8:return e.next=10,(0,f.takeLatest)(v.constants.sagaEvents.DATA_FLOW_CONFIGURATION_UPDATE,C);case 10:return e.next=12,(0,f.takeLatest)((0,p.getAction)("CONFIGURATION/patchConfiguration"),E);case 12:return e.next=14,(0,f.takeLatest)((0,p.getAction)("EDITOR/THEME/setTheme"),S);case 14:case"end":return e.stop()}}),d)}},function(e,t,n){"use strict";var a=n(19),r=n(20);Object.defineProperty(t,"__esModule",{value:!0});var i=n(148),o=function(){function e(t){a(this,e),this.setConfig(t)}return r(e,[{key:"setConfig",value:function(e){var t=i.pick(e,["url","env","applications","authUrl","assetsPath","userToken","userEmail","locale"]);this.config=Object.assign(Object.assign({},this.config),t)}},{key:"getConfig",value:function(){return this.config}}]),e}();t.default=function(e){return new o(e)}},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"modifyOptions",(function(){return b})),n.d(a,"default",(function(){return _}));var r={};n.r(r),n.d(r,"default",(function(){return O}));var i={};n.r(i),n.d(i,"actions",(function(){return a})),n.d(i,"initialState",(function(){return w})),n.d(i,"reducers",(function(){return r}));var o=n(1),l=n.n(o),u=n(15),c=n.n(u),s=(n(215),n(13)),d=n(34),f=n(48),p=n(35),v=n(196),y=n(57),h=n.n(y),g=n(204),m=n(68),b=Object(m.createAction)("PLAYGROUND/modifyOptions"),_={modifyOptions:b},x=n(3),O=Object(x.a)({},b,(function(e,t){var n=t.payload;return Object(f.a)({},e,{},n)})),w={authToken:"",optionsOpen:!1,compactMode:!1,widget:null,theme:{color:"#C32D7B"},dataset:"a86d906d-9862-4783-9e30-cdb68cd808b8"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(p.combineReducers)(Object(f.a)({editorOptions:Object(m.handleModule)(i)},y.reducers)),n=Object(p.applyMiddleware)(g.a,y.middleware),a=Object(v.composeWithDevTools)(n),r=Object(p.createStore)(t,e,a);return y.middleware.run(y.sagas),{store:r}},S=n(22),C=n(21),P=n(73),T=n(72),j=n(205),k=n.n(j),M=[{name:"pine",mainColor:"#907A59",category:["#907A59","#6AAC9F","#D5C0A1","#5C7D86","#F9AF38","#F05B3F","#89AD24","#CE4861","#F5808F","#86C48F","#F28627","#B23912","#BAD6AF","#C9C857","#665436"]},{name:"wind",mainColor:"#5A7598",category:["#5A7598","#C1CCDC","#DBB86F","#B7597B","#5FAB55","#8D439E","#CD87CA","#6BC8CB","#C58857","#712932","#ACE3E9","#B1D193","#294260","#49ACDB","#2A75C3"]}],A=function(e){Object(P.a)(n,e);var t=Object(T.a)(n);function n(e){return Object(S.a)(this,n),t.call(this,e)}return Object(C.a)(n,[{key:"handleOnSave",value:function(e){console.log("on save called from consumer with:"),console.log(e)}},{key:"render",value:function(){var e=this.props.editorOptions,t=e.compactMode,n=e.authToken,a=e.dataset,r=e.widget,i=e.theme,o=!!n&&n.length>0;return l.a.createElement("div",{className:"widget-editor-wrapper"},l.a.createElement(h.a,{schemes:M,compact:t,disable:[],datasetId:a,widgetId:r,onSave:this.handleOnSave,authenticated:o,application:"rw",adapter:k.a,theme:i}))}}]),n}(l.a.Component),D=Object(d.connect)((function(e){return{editorOptions:e.editorOptions}}),{})(A),I=(n(516),function(e){Object(P.a)(n,e);var t=Object(T.a)(n);function n(e){var a;Object(S.a)(this,n),(a=t.call(this,e)).state={widgets:[]};fetch("https://api.resourcewatch.org/v1/widget?includes=metadata,user,vocabulary").then((function(e){return e.json()})).then((function(e){a.setState({widgets:e.data})}));return a}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state.widgets,t=this.props,n=t.editorOptions,a=n.compactMode,r=n.authToken,i=n.dataset,o=n.widget,u=n.optionsOpen,c=n.theme,s=t.modifyOptions,d="c-playground-options ".concat(u?"-open":"");return l.a.createElement("div",{className:d},l.a.createElement("h4",null,"Widget editor options"),l.a.createElement("label",{htmlFor:"token"},"Auth token"),l.a.createElement("input",{id:"token",type:"text",placeholder:"Bearer token",value:r,onChange:function(e){return s({authToken:e.target.value})}}),l.a.createElement("label",{htmlFor:"dataset"},"Active Dataset"),l.a.createElement("select",{id:"dataset",value:i,onChange:function(e){return s({widget:null,dataset:e.target.value})}},l.a.createElement("option",{value:"aeb0afc3-b5f2-4018-98fa-127ccb29e139"},"MAP LAYER 1"),l.a.createElement("option",{value:"f8d3e79c-c3d0-4f9a-9b68-9c5ad1f025e4"},"MAP LAYER 2"),l.a.createElement("option",{value:"266ed113-396c-4c69-885a-ead30df95810"},"MAP LAYER 3"),l.a.createElement("option",{value:"0e565ddf-74fd-4f90-a6b8-c89d747a89ab"},"MAP LAYER 4"),l.a.createElement("option",{value:"03bfb30e-829f-4299-bab9-b2be1b66b5d4"},"Forest Sector Economic Contribution"),l.a.createElement("option",{value:"1ad53858-f5da-47cb-8006-5b4aa5aad589"},"Countries lacking access to electricity (urban)"),l.a.createElement("option",{value:"20cc5eca-8c63-4c41-8e8e-134dcf1e6d76"},"Fires"),l.a.createElement("option",{value:"a86d906d-9862-4783-9e30-cdb68cd808b8"},"Global Power Plant Database"),l.a.createElement("option",{value:"1bc94710-d7ec-46f9-aa27-edddd87b1625"},"Cold Water Corals")),l.a.createElement("label",{htmlFor:"widget"},"Select widget"),l.a.createElement("select",{id:"widget",value:o||"NO_WIDGET_SELECTED",onChange:function(t){"NO_WIDGET_SELECTED"===t.target.value?s({widget:null,dataset:"d446a52e-c4c1-4e74-ae30-3204620a0365"}):s({dataset:e.find((function(e){return e.id===t.target.value})).attributes.dataset,widget:t.target.value})}},l.a.createElement("option",{value:"NO_WIDGET_SELECTED"},"-"),e.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.attributes.name)}))),l.a.createElement("label",{htmlFor:"editor-compact-mode"},"Toggle Compact mode"),l.a.createElement("button",{onClick:function(){return s({compactMode:!a})}},a?"Set Default mode":"Set Compact mode"),l.a.createElement("label",{htmlFor:"theme-color"},l.a.createElement("span",{className:"color-presentation",style:{background:c.color}})," ","THEME - Color"),l.a.createElement("input",{id:"theme-color",type:"text",placeholder:"#00000",value:c.color,onChange:function(e){return s({theme:Object(f.a)({},c,{color:e.target.value})})}}))}}]),n}(l.a.Component)),L=Object(d.connect)((function(e){return{editorOptions:e.editorOptions}}),{modifyOptions:b})(I),N=function(e){var t=e.optionsActive,n=e.modifyOptions;return l.a.createElement("button",{onClick:function(){return n({optionsOpen:!t})}},t?"Close options":"View options")},F=Object(d.connect)((function(e){return{optionsActive:e.editorOptions.optionsOpen}}),{modifyOptions:b})(N),B=n(143),R=n.n(B),z=function(e){var t=e.activeWidget;return t?l.a.createElement(R.a,{widgetConfig:t.attributes.widgetConfig}):"Loading renderer..."};n(517);var W=function(){var e=E().store,t=Object(o.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(null),u=Object(s.a)(i,2),c=u[0],f=u[1];return l.a.createElement(d.Provider,{store:e},l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},"Widget editor playground",l.a.createElement(F,null),l.a.createElement("button",{onClick:function(){return f(a?null:e.getState().widgetEditor.editor.widget),void r(!a)}},a?"View editor":"View renderer")),!a&&l.a.createElement(o.Fragment,null,l.a.createElement(D,null),l.a.createElement(L,null)),a&&l.a.createElement(z,{activeWidget:c})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[210,1,2]]]);
//# sourceMappingURL=main.7c2f9344.chunk.js.map