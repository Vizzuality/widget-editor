import React from "react";

import Renderer from "@widget-editor/renderer";

const widgetTest = {"data":{"id":"7df89bad-a370-46f6-aff8-2a612ae7bd5e","type":"widget","attributes":{"name":"Global Power Plants by Generation Sources (Test map widget Pablo)","dataset":"a86d906d-9862-4783-9e30-cdb68cd808b8","slug":"Global-Power-Plants-by-Generation-Sources-Test-map-widget-Pablo","userId":"58e22f662071c01c02f76a0f","source":"","authors":"","application":["rw"],"verified":false,"default":false,"protected":false,"defaultEditableWidget":false,"published":false,"thumbnailUrl":"","freeze":false,"env":"production","widgetConfig":{"width":400,"height":400,"data":[{"values":[{"x":"Coal","y":7472650.80454797,"startAngle":0,"endAngle":2.5465139589685957},{"x":"Gas","y":3891490.46964474,"startAngle":2.5465139589685957,"endAngle":3.8726477582506886},{"x":"Hydro","y":3533825.28604667,"startAngle":3.8726477582506886,"endAngle":5.076897181226153},{"x":"Nuclear","y":1640344.10685,"startAngle":5.076897181226153,"endAngle":5.635890137656435},{"x":"Oil","y":876313.941490817,"startAngle":5.635890137656435,"endAngle":5.934518528412632},{"x":"Others","y":1043147.199450326,"startAngle":5.934518528412632,"endAngle":6.290000000000001}],"name":"table","transform":[{"type":"pie","field":"y","startAngle":0,"endAngle":6.29}]}],"legend":[],"config":{"range":{"dotSize":[20,250],"category20":["#3BB2D0","#2C75B0","#FAB72E","#EF4848","#65B60D","#C32D7B","#F577B9","#5FD2B8","#F1800F","#9F1C00","#A5E9E3","#B9D765","#393F44","#CACCD0","#717171"],"ordinal":{"scheme":"greens"},"ramp":{"scheme":"purples"}},"axis":{"labelFontSize":13,"labelFont":"Lato","labelColor":"#717171","labelPadding":10,"ticks":true,"tickSize":8,"tickColor":"#A9ABAD","tickOpacity":0.5,"tickExtra":false},"axisX":{"bandPosition":0.5,"domainWidth":1.2,"domainColor":"#A9ABAD","labelAlign":"center","labelBaseline":"top"},"axisY":{"domain":false,"labelAlign":"left","labelBaseline":"bottom","tickOpacity":0.5,"grid":true,"ticks":false,"gridColor":"#A9ABAD","gridOpacity":0.5},"mark":{"fill":"#3BB2D0"},"symbol":{"fill":"#3BB2D0","stroke":"#fff"},"rect":{"fill":"#3BB2D0"},"line":{"interpolate":"linear","stroke":"#3BB2D0","fillOpacity":0}},"scales":[{"name":"c","type":"ordinal","domain":{"data":"table","field":"x"},"range":["#40B2CE","#2E75AD","#F9B746","#ED4A4D","#68B631","#C22E7A","#F478B7","#63D2B9","#F0812D","#9E1D0D","#A7E9E3","#BAD771","#393F44","#CACCD0","#717171"]}],"axes":[],"marks":[{"type":"arc","from":{"data":"table"},"encode":{"enter":{"tooltip":{"signal":"{\"Estimated Generation (GWh)\":format(datum.y, '.1f'),\"Fuel\":datum.x}"},"fill":{"scale":"c","field":"x"},"x":{"signal":"width / 2"},"y":{"signal":"height / 2"}},"update":{"startAngle":{"field":"startAngle"},"endAngle":{"field":"endAngle"},"innerRadius":{"signal":"0"},"outerRadius":{"signal":"width > height ? height / 2 : width / 2"}},"hover":{"opacity":{"value":0.8}}}}],"axis":{"labelFontSize":13,"labelFont":"Lato","labelColor":"#717171","labelPadding":10,"ticks":true,"tickSize":8,"tickColor":"#A9ABAD","tickOpacity":0.5,"tickExtra":false},"axisX":{"bandPosition":0.5,"domainWidth":1.2,"domainColor":"#A9ABAD","labelAlign":"center","labelBaseline":"top"},"axisY":{"domain":false,"labelAlign":"left","labelBaseline":"bottom","tickOpacity":0.5,"grid":true,"ticks":false,"gridColor":"#A9ABAD","gridOpacity":0.5},"symbol":{"fill":"#3BB2D0"},"line":{"interpolate":"linear","stroke":"#3BB2D0","fillOpacity":0},"interaction_config":[{"name":"tooltip","config":{"fields":[{"column":"y","property":"y","type":"number","format":".2s"},{"column":"x","property":"x","type":"string","format":".2f"}]}}],"paramsConfig":{"visualizationType":"map","caption":null,"chartType":"map","value":{"name":"estimated_generation_gwh","type":"number","alias":"Estimated Generation (GWh)","format":"s"},"category":{"name":"primary_fuel","type":"string","alias":"Fuel"},"limit":50,"slizeCount":5,"donutRadius":100,"color":null,"size":null,"orderBy":null,"aggregateFunction":"sum","areaIntersection":null,"band":null,"layer":null,"filters":[],"width":400,"height":400,"data":[{"values":[{"x":"Coal","y":7472650.80454797,"startAngle":0,"endAngle":2.5465139589685957},{"x":"Gas","y":3891490.46964474,"startAngle":2.5465139589685957,"endAngle":3.8726477582506886},{"x":"Hydro","y":3533825.28604667,"startAngle":3.8726477582506886,"endAngle":5.076897181226153},{"x":"Nuclear","y":1640344.10685,"startAngle":5.076897181226153,"endAngle":5.635890137656435},{"x":"Oil","y":876313.941490817,"startAngle":5.635890137656435,"endAngle":5.934518528412632},{"x":"Others","y":1043147.199450326,"startAngle":5.934518528412632,"endAngle":6.290000000000001}],"name":"table","transform":[{"type":"pie","field":"y","startAngle":0,"endAngle":6.29}]}],"legend":[],"config":{"range":{"dotSize":[20,250],"category20":["#3BB2D0","#2C75B0","#FAB72E","#EF4848","#65B60D","#C32D7B","#F577B9","#5FD2B8","#F1800F","#9F1C00","#A5E9E3","#B9D765","#393F44","#CACCD0","#717171"],"ordinal":{"scheme":"greens"},"ramp":{"scheme":"purples"}},"axis":{"labelFontSize":13,"labelFont":"Lato","labelColor":"#717171","labelPadding":10,"ticks":true,"tickSize":8,"tickColor":"#A9ABAD","tickOpacity":0.5,"tickExtra":false},"axisX":{"bandPosition":0.5,"domainWidth":1.2,"domainColor":"#A9ABAD","labelAlign":"center","labelBaseline":"top"},"axisY":{"domain":false,"labelAlign":"left","labelBaseline":"bottom","tickOpacity":0.5,"grid":true,"ticks":false,"gridColor":"#A9ABAD","gridOpacity":0.5},"mark":{"fill":"#3BB2D0"},"symbol":{"fill":"#3BB2D0","stroke":"#fff"},"rect":{"fill":"#3BB2D0"},"line":{"interpolate":"linear","stroke":"#3BB2D0","fillOpacity":0}},"scales":[{"name":"c","type":"ordinal","domain":{"data":"table","field":"x"},"range":["#40B2CE","#2E75AD","#F9B746","#ED4A4D","#68B631","#C22E7A","#F478B7","#63D2B9","#F0812D","#9E1D0D","#A7E9E3","#BAD771","#393F44","#CACCD0","#717171"]}],"axes":[],"marks":[{"type":"arc","from":{"data":"table"},"encode":{"enter":{"tooltip":{"signal":"{\"Estimated Generation (GWh)\":format(datum.y, '.1f'),\"Fuel\":datum.x}"},"fill":{"scale":"c","field":"x"},"x":{"signal":"width / 2"},"y":{"signal":"height / 2"}},"update":{"startAngle":{"field":"startAngle"},"endAngle":{"field":"endAngle"},"innerRadius":{"signal":"0"},"outerRadius":{"signal":"width > height ? height / 2 : width / 2"}},"hover":{"opacity":{"value":0.8}}}}],"axis":{"labelFontSize":13,"labelFont":"Lato","labelColor":"#717171","labelPadding":10,"ticks":true,"tickSize":8,"tickColor":"#A9ABAD","tickOpacity":0.5,"tickExtra":false},"axisX":{"bandPosition":0.5,"domainWidth":1.2,"domainColor":"#A9ABAD","labelAlign":"center","labelBaseline":"top"},"axisY":{"domain":false,"labelAlign":"left","labelBaseline":"bottom","tickOpacity":0.5,"grid":true,"ticks":false,"gridColor":"#A9ABAD","gridOpacity":0.5},"symbol":{"fill":"#3BB2D0"},"line":{"interpolate":"linear","stroke":"#3BB2D0","fillOpacity":0},"interaction_config":[{"name":"tooltip","config":{"fields":[{"column":"y","property":"y","type":"number","format":".2s"},{"column":"x","property":"x","type":"string","format":".2f"}]}}]},"zoom":4,"lat":40.78520720104091,"lng":0.3515625,"bbox":[18.568788714522505,-26.806640625000004,57.47190270393036,27.509765625000004]},"template":false,"createdAt":"2020-04-30T11:56:26.252Z","updatedAt":"2020-04-30T11:58:18.171Z"}}};
const PlaygroundRenderer = ({ activeWidget }) => {
  if (!activeWidget) {
    return "Loading renderer...";
  }

  return (
    <div className="column">
      <div className="c-widget-block">
        <div className="renderer-wrapper">
          <Renderer
            thumbnail={false}
            // widgetConfig={widgetTest.data.attributes.widgetConfig}
            widgetConfig={activeWidget.attributes.widgetConfig}
          />
        </div>
      </div>
    </div>
  );
};

export default PlaygroundRenderer;
